{
   "library" : {
      "identifier" : {
         "id" : "OpioidConversion",
         "version" : "1.21.000"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localId" : "1",
            "locator" : "3:1-3:23",
            "localIdentifier" : "QDM",
            "uri" : "urn:healthit-gov:qdm:v5_3",
            "version" : "5.3"
         } ]
      },
      "includes" : {
         "def" : [ {
            "localId" : "2",
            "locator" : "5:1-5:61",
            "localIdentifier" : "OpioidDataLibrary",
            "path" : "OpioidData",
            "version" : "0.9.000"
         } ]
      },
      "parameters" : {
         "def" : [ {
            "localId" : "11",
            "locator" : "13:1-13:49",
            "name" : "Measurement Period",
            "accessLevel" : "Public",
            "parameterTypeSpecifier" : {
               "localId" : "10",
               "locator" : "13:32-13:49",
               "type" : "IntervalTypeSpecifier",
               "pointType" : {
                  "localId" : "9",
                  "locator" : "13:41-13:48",
                  "name" : "{urn:hl7-org:elm-types:r1}DateTime",
                  "type" : "NamedTypeSpecifier"
               }
            }
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "localId" : "3",
            "locator" : "7:1-7:51",
            "name" : "LOINC",
            "id" : "urn:oid:2.16.840.1.113883.6.1",
            "accessLevel" : "Public"
         }, {
            "localId" : "4",
            "locator" : "8:1-8:55",
            "name" : "SNOMEDCT",
            "id" : "urn:oid:2.16.840.1.113883.6.96",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "localId" : "6",
            "locator" : "10:1-10:60",
            "name" : "Birthdate",
            "id" : "21112-8",
            "display" : "Birthdate",
            "accessLevel" : "Public",
            "codeSystem" : {
               "localId" : "5",
               "locator" : "10:34-10:40",
               "name" : "LOINC"
            }
         }, {
            "localId" : "8",
            "locator" : "11:1-11:55",
            "name" : "Dead",
            "id" : "419099009",
            "display" : "Dead",
            "accessLevel" : "Public",
            "codeSystem" : {
               "localId" : "7",
               "locator" : "11:31-11:40",
               "name" : "SNOMEDCT"
            }
         } ]
      },
      "statements" : {
         "def" : [ {
            "locator" : "15:1-15:15",
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "locator" : "15:1-15:15",
                  "dataType" : "{urn:healthit-gov:qdm:v5_3}Patient",
                  "templateId" : "Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "localId" : "82",
            "locator" : "52:1-60:4",
            "name" : "ToUnifiedCodeForUnitsOfMeasure",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "82",
                  "s" : [ {
                     "value" : [ "define function ","\"ToUnifiedCodeForUnitsOfMeasure\"","(","unit"," " ]
                  }, {
                     "r" : "62",
                     "s" : [ {
                        "value" : [ "String" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*This function converts the dose units to the correct unified code for units of measure (UCUM)*/\r\n\t" ]
                  }, {
                     "r" : "81",
                     "s" : [ {
                        "r" : "81",
                        "s" : [ {
                           "value" : [ "case " ]
                        }, {
                           "r" : "63",
                           "s" : [ {
                              "value" : [ "unit" ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "66",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "64",
                              "s" : [ {
                                 "value" : [ "'MG'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "65",
                              "s" : [ {
                                 "value" : [ "'mg'" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "69",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "67",
                              "s" : [ {
                                 "value" : [ "'MG/ACTUAT'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "68",
                              "s" : [ {
                                 "value" : [ "'mg/{actuat}'" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "72",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "70",
                              "s" : [ {
                                 "value" : [ "'MG/HR'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "71",
                              "s" : [ {
                                 "value" : [ "'mg/h'" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "75",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "73",
                              "s" : [ {
                                 "value" : [ "'MG/ML'" ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "74",
                              "s" : [ {
                                 "value" : [ "'mg/mL'" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " \r\n\t\telse " ]
                        }, {
                           "r" : "80",
                           "s" : [ {
                              "r" : "78",
                              "s" : [ {
                                 "r" : "76",
                                 "s" : [ {
                                    "value" : [ "'unknown{'" ]
                                 } ]
                              }, {
                                 "value" : [ " + " ]
                              }, {
                                 "r" : "77",
                                 "s" : [ {
                                    "value" : [ "unit" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " + " ]
                           }, {
                              "r" : "79",
                              "s" : [ {
                                 "value" : [ "'}'" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " \r\n\tend" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "81",
               "locator" : "54:2-60:4",
               "type" : "Case",
               "comparand" : {
                  "localId" : "63",
                  "locator" : "54:7-54:10",
                  "name" : "unit",
                  "type" : "OperandRef"
               },
               "caseItem" : [ {
                  "localId" : "66",
                  "locator" : "55:3-55:21",
                  "when" : {
                     "localId" : "64",
                     "locator" : "55:8-55:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MG",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "65",
                     "locator" : "55:18-55:21",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mg",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "69",
                  "locator" : "56:3-56:37",
                  "when" : {
                     "localId" : "67",
                     "locator" : "56:8-56:18",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MG/ACTUAT",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "68",
                     "locator" : "56:25-56:37",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mg/{actuat}",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "72",
                  "locator" : "57:3-57:26",
                  "when" : {
                     "localId" : "70",
                     "locator" : "57:8-57:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MG/HR",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "71",
                     "locator" : "57:21-57:26",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mg/h",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "75",
                  "locator" : "58:3-58:27",
                  "when" : {
                     "localId" : "73",
                     "locator" : "58:8-58:14",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MG/ML",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "74",
                     "locator" : "58:21-58:27",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "mg/mL",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "localId" : "80",
                  "locator" : "59:8-59:30",
                  "type" : "Concatenate",
                  "operand" : [ {
                     "localId" : "78",
                     "locator" : "59:8-59:24",
                     "type" : "Concatenate",
                     "operand" : [ {
                        "localId" : "76",
                        "locator" : "59:8-59:17",
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "unknown{",
                        "type" : "Literal"
                     }, {
                        "localId" : "77",
                        "locator" : "59:21-59:24",
                        "name" : "unit",
                        "type" : "OperandRef"
                     } ]
                  }, {
                     "localId" : "79",
                     "locator" : "59:28-59:30",
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "}",
                     "type" : "Literal"
                  } ]
               }
            },
            "operand" : [ {
               "name" : "unit",
               "operandTypeSpecifier" : {
                  "localId" : "62",
                  "locator" : "52:55-52:60",
                  "name" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "110",
            "locator" : "46:1-50:15",
            "name" : "EnsureMicrogramQuantity",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "110",
                  "s" : [ {
                     "value" : [ "define function ","\"EnsureMicrogramQuantity\"","(","strength"," " ]
                  }, {
                     "r" : "85",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Converts micrograms to milligrams*/\r\n\t" ]
                  }, {
                     "r" : "109",
                     "s" : [ {
                        "r" : "109",
                        "s" : [ {
                           "value" : [ "if " ]
                        }, {
                           "r" : "96",
                           "s" : [ {
                              "r" : "89",
                              "s" : [ {
                                 "r" : "87",
                                 "s" : [ {
                                    "r" : "86",
                                    "s" : [ {
                                       "value" : [ "strength" ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "87",
                                    "s" : [ {
                                       "value" : [ "value" ]
                                    } ]
                                 } ]
                              }, {
                                 "r" : "88",
                                 "value" : [ " ","<"," ","0.1" ]
                              } ]
                           }, {
                              "value" : [ "\r\n\t\tand " ]
                           }, {
                              "r" : "95",
                              "s" : [ {
                                 "value" : [ "( " ]
                              }, {
                                 "r" : "95",
                                 "s" : [ {
                                    "r" : "93",
                                    "s" : [ {
                                       "value" : [ "PositionOf","(" ]
                                    }, {
                                       "r" : "90",
                                       "s" : [ {
                                          "value" : [ "'mg'" ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "92",
                                       "s" : [ {
                                          "r" : "91",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "92",
                                          "s" : [ {
                                             "value" : [ "unit" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "r" : "94",
                                    "value" : [ "="," ","0" ]
                                 } ]
                              }, {
                                 "value" : [ " )" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ " then " ]
                        }, {
                           "r" : "107",
                           "s" : [ {
                              "value" : [ "Quantity"," { " ]
                           }, {
                              "s" : [ {
                                 "value" : [ "value",": " ]
                              }, {
                                 "r" : "100",
                                 "s" : [ {
                                    "r" : "98",
                                    "s" : [ {
                                       "r" : "97",
                                       "s" : [ {
                                          "value" : [ "strength" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "98",
                                       "s" : [ {
                                          "value" : [ "value" ]
                                       } ]
                                    } ]
                                 }, {
                                    "r" : "99",
                                    "value" : [ " * ","1000" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ", " ]
                           }, {
                              "s" : [ {
                                 "value" : [ "unit",": " ]
                              }, {
                                 "r" : "106",
                                 "s" : [ {
                                    "r" : "101",
                                    "s" : [ {
                                       "value" : [ "'mcg'" ]
                                    } ]
                                 }, {
                                    "value" : [ " + " ]
                                 }, {
                                    "r" : "105",
                                    "s" : [ {
                                       "value" : [ "Substring","(" ]
                                    }, {
                                       "r" : "103",
                                       "s" : [ {
                                          "r" : "102",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "103",
                                          "s" : [ {
                                             "value" : [ "unit" ]
                                          } ]
                                       } ]
                                    }, {
                                       "r" : "104",
                                       "value" : [ ", ","2",")" ]
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ "}" ]
                           } ]
                        }, {
                           "value" : [ " \r\n\t\telse " ]
                        }, {
                           "r" : "108",
                           "s" : [ {
                              "value" : [ "strength" ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "109",
               "locator" : "48:2-50:15",
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "localId" : "96",
                     "locator" : "48:5-49:44",
                     "type" : "And",
                     "operand" : [ {
                        "localId" : "89",
                        "locator" : "48:5-48:24",
                        "type" : "Less",
                        "operand" : [ {
                           "localId" : "87",
                           "locator" : "48:5-48:18",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "86",
                              "locator" : "48:5-48:12",
                              "name" : "strength",
                              "type" : "OperandRef"
                           }
                        }, {
                           "localId" : "88",
                           "locator" : "48:22-48:24",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "0.1",
                           "type" : "Literal"
                        } ]
                     }, {
                        "localId" : "95",
                        "locator" : "49:7-49:44",
                        "type" : "Equal",
                        "operand" : [ {
                           "localId" : "93",
                           "locator" : "49:9-49:39",
                           "type" : "PositionOf",
                           "pattern" : {
                              "localId" : "90",
                              "locator" : "49:20-49:23",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "mg",
                              "type" : "Literal"
                           },
                           "string" : {
                              "localId" : "92",
                              "locator" : "49:26-49:38",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "91",
                                 "locator" : "49:26-49:33",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           }
                        }, {
                           "localId" : "94",
                           "locator" : "49:42",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "0",
                           "type" : "Literal"
                        } ]
                     } ]
                  }
               },
               "then" : {
                  "localId" : "107",
                  "locator" : "49:51-49:133",
                  "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "Instance",
                  "element" : [ {
                     "name" : "value",
                     "value" : {
                        "localId" : "100",
                        "locator" : "49:69-49:89",
                        "type" : "Multiply",
                        "operand" : [ {
                           "localId" : "98",
                           "locator" : "49:69-49:82",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "97",
                              "locator" : "49:69-49:76",
                              "name" : "strength",
                              "type" : "OperandRef"
                           }
                        }, {
                           "type" : "ToDecimal",
                           "operand" : {
                              "localId" : "99",
                              "locator" : "49:86-49:89",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "1000",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }, {
                     "name" : "unit",
                     "value" : {
                        "localId" : "106",
                        "locator" : "49:98-49:132",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "localId" : "101",
                           "locator" : "49:98-49:102",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mcg",
                           "type" : "Literal"
                        }, {
                           "localId" : "105",
                           "locator" : "49:106-49:132",
                           "type" : "Substring",
                           "stringToSub" : {
                              "localId" : "103",
                              "locator" : "49:116-49:128",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "102",
                                 "locator" : "49:116-49:123",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           },
                           "startIndex" : {
                              "localId" : "104",
                              "locator" : "49:131",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "2",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  } ]
               },
               "else" : {
                  "localId" : "108",
                  "locator" : "50:8-50:15",
                  "name" : "strength",
                  "type" : "OperandRef"
               }
            },
            "operand" : [ {
               "name" : "strength",
               "operandTypeSpecifier" : {
                  "localId" : "85",
                  "locator" : "46:52-46:59",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "115",
            "locator" : "176:1-187:3",
            "name" : "GetIngredients",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "115",
                  "s" : [ {
                     "value" : [ "define function ","\"GetIngredients\"","(","rxNormCode"," " ]
                  }, {
                     "r" : "24",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Uses the RxNorm code of the opioid prescription to identify the ingredient and dose form codes and the strength of the drug from the opioid drug library*/\r\n\t" ]
                  }, {
                     "r" : "114",
                     "s" : [ {
                        "r" : "114",
                        "s" : [ {
                           "s" : [ {
                              "r" : "26",
                              "s" : [ {
                                 "r" : "25",
                                 "s" : [ {
                                    "s" : [ {
                                       "value" : [ "OpioidDataLibrary",".","\"DrugIngredients\"" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " ","DrugIngredientElement" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "32",
                           "s" : [ {
                              "value" : [ "where " ]
                           }, {
                              "r" : "32",
                              "s" : [ {
                                 "r" : "28",
                                 "s" : [ {
                                    "r" : "27",
                                    "s" : [ {
                                       "value" : [ "DrugIngredientElement" ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "28",
                                    "s" : [ {
                                       "value" : [ "drugCode" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " ","="," " ]
                              }, {
                                 "r" : "31",
                                 "s" : [ {
                                    "value" : [ "ToInteger","(" ]
                                 }, {
                                    "r" : "30",
                                    "s" : [ {
                                       "r" : "29",
                                       "s" : [ {
                                          "value" : [ "rxNormCode" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "30",
                                       "s" : [ {
                                          "value" : [ "code" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "113",
                           "s" : [ {
                              "value" : [ "return " ]
                           }, {
                              "r" : "112",
                              "s" : [ {
                                 "value" : [ "{\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "rxNormCode",": " ]
                                 }, {
                                    "r" : "39",
                                    "s" : [ {
                                       "value" : [ "Code"," { " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "code",": " ]
                                       }, {
                                          "r" : "35",
                                          "s" : [ {
                                             "value" : [ "ToString","(" ]
                                          }, {
                                             "r" : "34",
                                             "s" : [ {
                                                "r" : "33",
                                                "s" : [ {
                                                   "value" : [ "DrugIngredientElement" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "34",
                                                "s" : [ {
                                                   "value" : [ "drugCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "system",": " ]
                                       }, {
                                          "r" : "36",
                                          "s" : [ {
                                             "value" : [ "'2.16.840.1.113883.6.88'" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "display",": " ]
                                       }, {
                                          "r" : "38",
                                          "s" : [ {
                                             "r" : "37",
                                             "s" : [ {
                                                "value" : [ "DrugIngredientElement" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "38",
                                             "s" : [ {
                                                "value" : [ "drugName" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " }" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ",\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "doseFormCode",": " ]
                                 }, {
                                    "r" : "46",
                                    "s" : [ {
                                       "value" : [ "Code"," { " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "code",": " ]
                                       }, {
                                          "r" : "42",
                                          "s" : [ {
                                             "value" : [ "ToString","(" ]
                                          }, {
                                             "r" : "41",
                                             "s" : [ {
                                                "r" : "40",
                                                "s" : [ {
                                                   "value" : [ "DrugIngredientElement" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "41",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "system",": " ]
                                       }, {
                                          "r" : "43",
                                          "s" : [ {
                                             "value" : [ "'2.16.840.1.113883.6.88'" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "display",": " ]
                                       }, {
                                          "r" : "45",
                                          "s" : [ {
                                             "r" : "44",
                                             "s" : [ {
                                                "value" : [ "DrugIngredientElement" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "45",
                                             "s" : [ {
                                                "value" : [ "doseFormName" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " }" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ",\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "doseFormName",": " ]
                                 }, {
                                    "r" : "48",
                                    "s" : [ {
                                       "r" : "47",
                                       "s" : [ {
                                          "value" : [ "DrugIngredientElement" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "48",
                                       "s" : [ {
                                          "value" : [ "doseFormName" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ",\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "ingredientCode",": " ]
                                 }, {
                                    "r" : "55",
                                    "s" : [ {
                                       "value" : [ "Code"," { " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "code",": " ]
                                       }, {
                                          "r" : "51",
                                          "s" : [ {
                                             "value" : [ "ToString","(" ]
                                          }, {
                                             "r" : "50",
                                             "s" : [ {
                                                "r" : "49",
                                                "s" : [ {
                                                   "value" : [ "DrugIngredientElement" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "50",
                                                "s" : [ {
                                                   "value" : [ "ingredientCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "system",": " ]
                                       }, {
                                          "r" : "52",
                                          "s" : [ {
                                             "value" : [ "'2.16.840.1.113883.6.88'" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "s" : [ {
                                          "value" : [ "display",": " ]
                                       }, {
                                          "r" : "54",
                                          "s" : [ {
                                             "r" : "53",
                                             "s" : [ {
                                                "value" : [ "DrugIngredientElement" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "54",
                                             "s" : [ {
                                                "value" : [ "ingredientName" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " }" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ",\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "ingredientName",": " ]
                                 }, {
                                    "r" : "57",
                                    "s" : [ {
                                       "r" : "56",
                                       "s" : [ {
                                          "value" : [ "DrugIngredientElement" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "57",
                                       "s" : [ {
                                          "value" : [ "ingredientName" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ",\r\n\t\t\t" ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "strength",": " ]
                                 }, {
                                    "r" : "111",
                                    "s" : [ {
                                       "value" : [ "\"EnsureMicrogramQuantity\"","(" ]
                                    }, {
                                       "r" : "84",
                                       "s" : [ {
                                          "value" : [ "Quantity"," { " ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "value",": " ]
                                          }, {
                                             "r" : "59",
                                             "s" : [ {
                                                "r" : "58",
                                                "s" : [ {
                                                   "value" : [ "DrugIngredientElement" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "59",
                                                "s" : [ {
                                                   "value" : [ "strengthValue" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "unit",": " ]
                                          }, {
                                             "r" : "83",
                                             "s" : [ {
                                                "value" : [ "\"ToUnifiedCodeForUnitsOfMeasure\"","(" ]
                                             }, {
                                                "r" : "61",
                                                "s" : [ {
                                                   "r" : "60",
                                                   "s" : [ {
                                                      "value" : [ "DrugIngredientElement" ]
                                                   } ]
                                                }, {
                                                   "value" : [ "." ]
                                                }, {
                                                   "r" : "61",
                                                   "s" : [ {
                                                      "value" : [ "strengthUnit" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ ")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "}" ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "\r\n\t\t}" ]
                              } ]
                           } ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "114",
               "locator" : "178:2-187:3",
               "type" : "Query",
               "source" : [ {
                  "localId" : "26",
                  "locator" : "178:2-178:58",
                  "alias" : "DrugIngredientElement",
                  "expression" : {
                     "localId" : "25",
                     "locator" : "178:2-178:36",
                     "name" : "DrugIngredients",
                     "libraryName" : "OpioidDataLibrary",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "localId" : "32",
                  "locator" : "179:3-179:67",
                  "type" : "Equal",
                  "operand" : [ {
                     "localId" : "28",
                     "locator" : "179:9-179:38",
                     "path" : "drugCode",
                     "scope" : "DrugIngredientElement",
                     "type" : "Property"
                  }, {
                     "localId" : "31",
                     "locator" : "179:42-179:67",
                     "type" : "ToInteger",
                     "operand" : {
                        "localId" : "30",
                        "locator" : "179:52-179:66",
                        "path" : "code",
                        "type" : "Property",
                        "source" : {
                           "localId" : "29",
                           "locator" : "179:52-179:61",
                           "name" : "rxNormCode",
                           "type" : "OperandRef"
                        }
                     }
                  } ]
               },
               "return" : {
                  "localId" : "113",
                  "locator" : "180:3-187:3",
                  "expression" : {
                     "localId" : "112",
                     "locator" : "180:10-187:3",
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "rxNormCode",
                        "value" : {
                           "localId" : "39",
                           "locator" : "181:16-181:145",
                           "classType" : "{urn:hl7-org:elm-types:r1}Code",
                           "type" : "Instance",
                           "element" : [ {
                              "name" : "code",
                              "value" : {
                                 "localId" : "35",
                                 "locator" : "181:29-181:68",
                                 "type" : "ToString",
                                 "operand" : {
                                    "localId" : "34",
                                    "locator" : "181:38-181:67",
                                    "path" : "drugCode",
                                    "scope" : "DrugIngredientElement",
                                    "type" : "Property"
                                 }
                              }
                           }, {
                              "name" : "system",
                              "value" : {
                                 "localId" : "36",
                                 "locator" : "181:79-181:102",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "2.16.840.1.113883.6.88",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "display",
                              "value" : {
                                 "localId" : "38",
                                 "locator" : "181:114-181:143",
                                 "path" : "drugName",
                                 "scope" : "DrugIngredientElement",
                                 "type" : "Property"
                              }
                           } ]
                        }
                     }, {
                        "name" : "doseFormCode",
                        "value" : {
                           "localId" : "46",
                           "locator" : "182:18-182:155",
                           "classType" : "{urn:hl7-org:elm-types:r1}Code",
                           "type" : "Instance",
                           "element" : [ {
                              "name" : "code",
                              "value" : {
                                 "localId" : "42",
                                 "locator" : "182:31-182:74",
                                 "type" : "ToString",
                                 "operand" : {
                                    "localId" : "41",
                                    "locator" : "182:40-182:73",
                                    "path" : "doseFormCode",
                                    "scope" : "DrugIngredientElement",
                                    "type" : "Property"
                                 }
                              }
                           }, {
                              "name" : "system",
                              "value" : {
                                 "localId" : "43",
                                 "locator" : "182:85-182:108",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "2.16.840.1.113883.6.88",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "display",
                              "value" : {
                                 "localId" : "45",
                                 "locator" : "182:120-182:153",
                                 "path" : "doseFormName",
                                 "scope" : "DrugIngredientElement",
                                 "type" : "Property"
                              }
                           } ]
                        }
                     }, {
                        "name" : "doseFormName",
                        "value" : {
                           "localId" : "48",
                           "locator" : "183:18-183:51",
                           "path" : "doseFormName",
                           "scope" : "DrugIngredientElement",
                           "type" : "Property"
                        }
                     }, {
                        "name" : "ingredientCode",
                        "value" : {
                           "localId" : "55",
                           "locator" : "184:20-184:161",
                           "classType" : "{urn:hl7-org:elm-types:r1}Code",
                           "type" : "Instance",
                           "element" : [ {
                              "name" : "code",
                              "value" : {
                                 "localId" : "51",
                                 "locator" : "184:33-184:78",
                                 "type" : "ToString",
                                 "operand" : {
                                    "localId" : "50",
                                    "locator" : "184:42-184:77",
                                    "path" : "ingredientCode",
                                    "scope" : "DrugIngredientElement",
                                    "type" : "Property"
                                 }
                              }
                           }, {
                              "name" : "system",
                              "value" : {
                                 "localId" : "52",
                                 "locator" : "184:89-184:112",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "2.16.840.1.113883.6.88",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "display",
                              "value" : {
                                 "localId" : "54",
                                 "locator" : "184:124-184:159",
                                 "path" : "ingredientName",
                                 "scope" : "DrugIngredientElement",
                                 "type" : "Property"
                              }
                           } ]
                        }
                     }, {
                        "name" : "ingredientName",
                        "value" : {
                           "localId" : "57",
                           "locator" : "185:20-185:55",
                           "path" : "ingredientName",
                           "scope" : "DrugIngredientElement",
                           "type" : "Property"
                        }
                     }, {
                        "name" : "strength",
                        "value" : {
                           "localId" : "111",
                           "locator" : "186:14-186:170",
                           "name" : "EnsureMicrogramQuantity",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "localId" : "84",
                              "locator" : "186:40-186:169",
                              "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "type" : "Instance",
                              "element" : [ {
                                 "name" : "value",
                                 "value" : {
                                    "localId" : "59",
                                    "locator" : "186:58-186:92",
                                    "path" : "strengthValue",
                                    "scope" : "DrugIngredientElement",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "unit",
                                 "value" : {
                                    "localId" : "83",
                                    "locator" : "186:101-186:168",
                                    "name" : "ToUnifiedCodeForUnitsOfMeasure",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "localId" : "61",
                                       "locator" : "186:134-186:167",
                                       "path" : "strengthUnit",
                                       "scope" : "DrugIngredientElement",
                                       "type" : "Property"
                                    } ]
                                 }
                              } ]
                           } ]
                        }
                     } ]
                  }
               }
            },
            "operand" : [ {
               "name" : "rxNormCode",
               "operandTypeSpecifier" : {
                  "localId" : "24",
                  "locator" : "176:45-176:48",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "145",
            "locator" : "155:1-157:37",
            "name" : "IsTransdermalPatch",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "145",
                  "s" : [ {
                     "value" : [ "define function ","\"IsTransdermalPatch\"","(","doseFormCode"," " ]
                  }, {
                     "r" : "139",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Returns true when dose form name is 'Transdermal System'*/\r\n\t" ]
                  }, {
                     "r" : "144",
                     "s" : [ {
                        "r" : "144",
                        "s" : [ {
                           "r" : "142",
                           "s" : [ {
                              "value" : [ "ToInteger","(" ]
                           }, {
                              "r" : "141",
                              "s" : [ {
                                 "r" : "140",
                                 "s" : [ {
                                    "value" : [ "doseFormCode" ]
                                 } ]
                              }, {
                                 "value" : [ "." ]
                              }, {
                                 "r" : "141",
                                 "s" : [ {
                                    "value" : [ "code" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "r" : "143",
                           "value" : [ "="," ","316987" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "144",
               "locator" : "157:2-157:37",
               "type" : "Equal",
               "operand" : [ {
                  "localId" : "142",
                  "locator" : "157:2-157:29",
                  "type" : "ToInteger",
                  "operand" : {
                     "localId" : "141",
                     "locator" : "157:12-157:28",
                     "path" : "code",
                     "type" : "Property",
                     "source" : {
                        "localId" : "140",
                        "locator" : "157:12-157:23",
                        "name" : "doseFormCode",
                        "type" : "OperandRef"
                     }
                  }
               }, {
                  "localId" : "143",
                  "locator" : "157:32-157:37",
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "316987",
                  "type" : "Literal"
               } ]
            },
            "operand" : [ {
               "name" : "doseFormCode",
               "operandTypeSpecifier" : {
                  "localId" : "139",
                  "locator" : "155:51-155:54",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "228",
            "locator" : "133:1-153:4",
            "name" : "GetMedicationDailyDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "228",
                  "s" : [ {
                     "value" : [ "define function ","\"GetMedicationDailyDose\"","(","ingredientCode"," " ]
                  }, {
                     "r" : "133",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ ", ","strength"," " ]
                  }, {
                     "r" : "134",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseFormCode"," " ]
                  }, {
                     "r" : "135",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseQuantity"," " ]
                  }, {
                     "r" : "136",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ ", ","dosesPerDay"," " ]
                  }, {
                     "r" : "137",
                     "s" : [ {
                        "value" : [ "Decimal" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Calculates the amount of opioid medication for a single day*/\r\n\t" ]
                  }, {
                     "r" : "227",
                     "s" : [ {
                        "r" : "227",
                        "s" : [ {
                           "value" : [ "case\r\n\t  /* if patch --> daily dose = dose value (e.g, number patches with doseQuantity unit = \"patch\") * per-hour strength */\r\n\t\t" ]
                        }, {
                           "r" : "164",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "146",
                              "s" : [ {
                                 "value" : [ "\"IsTransdermalPatch\"","(" ]
                              }, {
                                 "r" : "138",
                                 "s" : [ {
                                    "value" : [ "doseFormCode" ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           }, {
                              "value" : [ "then\r\n\t      /* buprenorphine or fentanyl patch */ " ]
                           }, {
                              "r" : "163",
                              "s" : [ {
                                 "value" : [ "if " ]
                              }, {
                                 "r" : "153",
                                 "s" : [ {
                                    "r" : "149",
                                    "s" : [ {
                                       "value" : [ "ToInteger","(" ]
                                    }, {
                                       "r" : "148",
                                       "s" : [ {
                                          "r" : "147",
                                          "s" : [ {
                                             "value" : [ "ingredientCode" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "148",
                                          "s" : [ {
                                             "value" : [ "code" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "value" : [ "in " ]
                                 }, {
                                    "r" : "152",
                                    "s" : [ {
                                       "r" : "150",
                                       "value" : [ "{ ","1819",", ","4337"," }" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " then " ]
                              }, {
                                 "r" : "161",
                                 "s" : [ {
                                    "value" : [ "Quantity"," { " ]
                                 }, {
                                    "s" : [ {
                                       "value" : [ "value",": " ]
                                    }, {
                                       "r" : "158",
                                       "s" : [ {
                                          "r" : "155",
                                          "s" : [ {
                                             "r" : "154",
                                             "s" : [ {
                                                "value" : [ "doseQuantity" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "155",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " * " ]
                                       }, {
                                          "r" : "157",
                                          "s" : [ {
                                             "r" : "156",
                                             "s" : [ {
                                                "value" : [ "strength" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "157",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "s" : [ {
                                       "value" : [ "unit",": " ]
                                    }, {
                                       "r" : "160",
                                       "s" : [ {
                                          "r" : "159",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "160",
                                          "s" : [ {
                                             "value" : [ "unit" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " }" ]
                                 } ]
                              }, {
                                 "r" : "162",
                                 "value" : [ " \r\n\t\t\telse ","null" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\r\n\t\r\n\t    /* if dose unit in actual mass units (mg or mcg -- when it's a single med) --> daily dose = numTimesPerDay * dose */\r\n\t\t" ]
                        }, {
                           "r" : "178",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "170",
                              "s" : [ {
                                 "r" : "166",
                                 "s" : [ {
                                    "r" : "165",
                                    "s" : [ {
                                       "value" : [ "doseQuantity" ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "166",
                                    "s" : [ {
                                       "value" : [ "unit" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " in " ]
                              }, {
                                 "r" : "169",
                                 "s" : [ {
                                    "value" : [ "{ " ]
                                 }, {
                                    "r" : "167",
                                    "s" : [ {
                                       "value" : [ "'mg'" ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "r" : "168",
                                    "s" : [ {
                                       "value" : [ "'mcg'" ]
                                    } ]
                                 }, {
                                    "value" : [ " }" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "177",
                              "s" : [ {
                                 "value" : [ "Quantity"," { " ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "value",": " ]
                                 }, {
                                    "r" : "174",
                                    "s" : [ {
                                       "r" : "171",
                                       "s" : [ {
                                          "value" : [ "dosesPerDay" ]
                                       } ]
                                    }, {
                                       "value" : [ " * " ]
                                    }, {
                                       "r" : "173",
                                       "s" : [ {
                                          "r" : "172",
                                          "s" : [ {
                                             "value" : [ "doseQuantity" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "173",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ", " ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "unit",": " ]
                                 }, {
                                    "r" : "176",
                                    "s" : [ {
                                       "r" : "175",
                                       "s" : [ {
                                          "value" : [ "doseQuantity" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "176",
                                       "s" : [ {
                                          "value" : [ "unit" ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " }" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\r\n\t\r\n\t    /* if doseQuantity is in actual volume units (mL) --> daily dose = numTimesPerDay * dose * strength */\r\n\t\t" ]
                        }, {
                           "r" : "210",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "193",
                              "s" : [ {
                                 "r" : "182",
                                 "s" : [ {
                                    "r" : "180",
                                    "s" : [ {
                                       "r" : "179",
                                       "s" : [ {
                                          "value" : [ "doseQuantity" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "180",
                                       "s" : [ {
                                          "value" : [ "unit" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " ","="," " ]
                                 }, {
                                    "r" : "181",
                                    "s" : [ {
                                       "value" : [ "'mL'" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "\r\n\t\t\tand " ]
                              }, {
                                 "r" : "192",
                                 "s" : [ {
                                    "value" : [ "( " ]
                                 }, {
                                    "r" : "192",
                                    "s" : [ {
                                       "r" : "186",
                                       "s" : [ {
                                          "value" : [ "PositionOf","(" ]
                                       }, {
                                          "r" : "183",
                                          "s" : [ {
                                             "value" : [ "'/mL'" ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "r" : "185",
                                          "s" : [ {
                                             "r" : "184",
                                             "s" : [ {
                                                "value" : [ "strength" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "185",
                                             "s" : [ {
                                                "value" : [ "unit" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    }, {
                                       "value" : [ "="," " ]
                                    }, {
                                       "r" : "191",
                                       "s" : [ {
                                          "r" : "189",
                                          "s" : [ {
                                             "value" : [ "Length","(" ]
                                          }, {
                                             "r" : "188",
                                             "s" : [ {
                                                "r" : "187",
                                                "s" : [ {
                                                   "value" : [ "strength" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "188",
                                                "s" : [ {
                                                   "value" : [ "unit" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       }, {
                                          "r" : "190",
                                          "value" : [ "- ","3" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " )" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "209",
                              "s" : [ {
                                 "value" : [ "Quantity"," { " ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "value",": " ]
                                 }, {
                                    "r" : "200",
                                    "s" : [ {
                                       "r" : "197",
                                       "s" : [ {
                                          "r" : "194",
                                          "s" : [ {
                                             "value" : [ "dosesPerDay" ]
                                          } ]
                                       }, {
                                          "value" : [ " * " ]
                                       }, {
                                          "r" : "196",
                                          "s" : [ {
                                             "r" : "195",
                                             "s" : [ {
                                                "value" : [ "doseQuantity" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "196",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " * " ]
                                    }, {
                                       "r" : "199",
                                       "s" : [ {
                                          "r" : "198",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "199",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ ", " ]
                              }, {
                                 "s" : [ {
                                    "value" : [ "unit",": " ]
                                 }, {
                                    "r" : "208",
                                    "s" : [ {
                                       "value" : [ "Substring","(" ]
                                    }, {
                                       "r" : "202",
                                       "s" : [ {
                                          "r" : "201",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "202",
                                          "s" : [ {
                                             "value" : [ "unit" ]
                                          } ]
                                       } ]
                                    }, {
                                       "r" : "203",
                                       "value" : [ ", ","0",", " ]
                                    }, {
                                       "r" : "207",
                                       "s" : [ {
                                          "value" : [ "PositionOf","(" ]
                                       }, {
                                          "r" : "204",
                                          "s" : [ {
                                             "value" : [ "'/'" ]
                                          } ]
                                       }, {
                                          "value" : [ ", " ]
                                       }, {
                                          "r" : "206",
                                          "s" : [ {
                                             "r" : "205",
                                             "s" : [ {
                                                "value" : [ "strength" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "206",
                                             "s" : [ {
                                                "value" : [ "unit" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "}" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\r\n\t\r\n\t/*if doseQuantity is not in actual units (e.g., 1 tab, 1 spray -- when it's a combo med with a unit of tablet, or it's mg/actuat) -->  daily dose = numTimesPerDay * dose value * strength value */ \r\n\t\telse " ]
                        }, {
                           "r" : "226",
                           "s" : [ {
                              "value" : [ "Quantity"," { " ]
                           }, {
                              "s" : [ {
                                 "value" : [ "value",": " ]
                              }, {
                                 "r" : "217",
                                 "s" : [ {
                                    "r" : "214",
                                    "s" : [ {
                                       "r" : "211",
                                       "s" : [ {
                                          "value" : [ "dosesPerDay" ]
                                       } ]
                                    }, {
                                       "value" : [ " * " ]
                                    }, {
                                       "r" : "213",
                                       "s" : [ {
                                          "r" : "212",
                                          "s" : [ {
                                             "value" : [ "doseQuantity" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "213",
                                          "s" : [ {
                                             "value" : [ "value" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " * " ]
                                 }, {
                                    "r" : "216",
                                    "s" : [ {
                                       "r" : "215",
                                       "s" : [ {
                                          "value" : [ "strength" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "216",
                                       "s" : [ {
                                          "value" : [ "value" ]
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ", " ]
                           }, {
                              "s" : [ {
                                 "value" : [ "unit",": " ]
                              }, {
                                 "r" : "225",
                                 "s" : [ {
                                    "value" : [ "Substring","(" ]
                                 }, {
                                    "r" : "219",
                                    "s" : [ {
                                       "r" : "218",
                                       "s" : [ {
                                          "value" : [ "strength" ]
                                       } ]
                                    }, {
                                       "value" : [ "." ]
                                    }, {
                                       "r" : "219",
                                       "s" : [ {
                                          "value" : [ "unit" ]
                                       } ]
                                    } ]
                                 }, {
                                    "r" : "220",
                                    "value" : [ ", ","0",", " ]
                                 }, {
                                    "r" : "224",
                                    "s" : [ {
                                       "value" : [ "PositionOf","(" ]
                                    }, {
                                       "r" : "221",
                                       "s" : [ {
                                          "value" : [ "'/'" ]
                                       } ]
                                    }, {
                                       "value" : [ ", " ]
                                    }, {
                                       "r" : "223",
                                       "s" : [ {
                                          "r" : "222",
                                          "s" : [ {
                                             "value" : [ "strength" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "223",
                                          "s" : [ {
                                             "value" : [ "unit" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ "}" ]
                           } ]
                        }, {
                           "value" : [ " \r\n\tend" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "227",
               "locator" : "135:2-153:4",
               "type" : "Case",
               "caseItem" : [ {
                  "localId" : "164",
                  "locator" : "137:3-139:12",
                  "when" : {
                     "localId" : "146",
                     "locator" : "137:8-137:41",
                     "name" : "IsTransdermalPatch",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "localId" : "138",
                        "locator" : "137:29-137:40",
                        "name" : "doseFormCode",
                        "type" : "OperandRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "163",
                     "locator" : "138:46-139:12",
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "localId" : "153",
                           "locator" : "138:49-138:95",
                           "type" : "In",
                           "operand" : [ {
                              "localId" : "149",
                              "locator" : "138:49-138:78",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "148",
                                 "locator" : "138:59-138:77",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "147",
                                    "locator" : "138:59-138:72",
                                    "name" : "ingredientCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "152",
                              "locator" : "138:82-138:95",
                              "type" : "List",
                              "element" : [ {
                                 "localId" : "150",
                                 "locator" : "138:84-138:87",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1819",
                                 "type" : "Literal"
                              }, {
                                 "localId" : "151",
                                 "locator" : "138:90-138:93",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "4337",
                                 "type" : "Literal"
                              } ]
                           } ]
                        }
                     },
                     "then" : {
                        "localId" : "161",
                        "locator" : "138:102-138:177",
                        "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                        "type" : "Instance",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "localId" : "158",
                              "locator" : "138:120-138:154",
                              "type" : "Multiply",
                              "operand" : [ {
                                 "localId" : "155",
                                 "locator" : "138:120-138:137",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "154",
                                    "locator" : "138:120-138:131",
                                    "name" : "doseQuantity",
                                    "type" : "OperandRef"
                                 }
                              }, {
                                 "localId" : "157",
                                 "locator" : "138:141-138:154",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "156",
                                    "locator" : "138:141-138:148",
                                    "name" : "strength",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           }
                        }, {
                           "name" : "unit",
                           "value" : {
                              "localId" : "160",
                              "locator" : "138:163-138:175",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "159",
                                 "locator" : "138:163-138:170",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           }
                        } ]
                     },
                     "else" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Quantity",
                        "type" : "As",
                        "operand" : {
                           "localId" : "162",
                           "locator" : "139:9-139:12",
                           "type" : "Null"
                        }
                     }
                  }
               }, {
                  "localId" : "178",
                  "locator" : "143:3-143:126",
                  "when" : {
                     "localId" : "170",
                     "locator" : "143:8-143:43",
                     "type" : "In",
                     "operand" : [ {
                        "localId" : "166",
                        "locator" : "143:8-143:24",
                        "path" : "unit",
                        "type" : "Property",
                        "source" : {
                           "localId" : "165",
                           "locator" : "143:8-143:19",
                           "name" : "doseQuantity",
                           "type" : "OperandRef"
                        }
                     }, {
                        "localId" : "169",
                        "locator" : "143:29-143:43",
                        "type" : "List",
                        "element" : [ {
                           "localId" : "167",
                           "locator" : "143:31-143:34",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mg",
                           "type" : "Literal"
                        }, {
                           "localId" : "168",
                           "locator" : "143:37-143:41",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mcg",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "localId" : "177",
                     "locator" : "143:50-143:126",
                     "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Instance",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "localId" : "174",
                           "locator" : "143:68-143:99",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "171",
                              "locator" : "143:68-143:78",
                              "name" : "dosesPerDay",
                              "type" : "OperandRef"
                           }, {
                              "localId" : "173",
                              "locator" : "143:82-143:99",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "172",
                                 "locator" : "143:82-143:93",
                                 "name" : "doseQuantity",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }
                     }, {
                        "name" : "unit",
                        "value" : {
                           "localId" : "176",
                           "locator" : "143:108-143:124",
                           "path" : "unit",
                           "type" : "Property",
                           "source" : {
                              "localId" : "175",
                              "locator" : "143:108-143:119",
                              "name" : "doseQuantity",
                              "type" : "OperandRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "localId" : "210",
                  "locator" : "147:3-148:210",
                  "when" : {
                     "localId" : "193",
                     "locator" : "147:8-148:69",
                     "type" : "And",
                     "operand" : [ {
                        "localId" : "182",
                        "locator" : "147:8-147:31",
                        "type" : "Equal",
                        "operand" : [ {
                           "localId" : "180",
                           "locator" : "147:8-147:24",
                           "path" : "unit",
                           "type" : "Property",
                           "source" : {
                              "localId" : "179",
                              "locator" : "147:8-147:19",
                              "name" : "doseQuantity",
                              "type" : "OperandRef"
                           }
                        }, {
                           "localId" : "181",
                           "locator" : "147:28-147:31",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mL",
                           "type" : "Literal"
                        } ]
                     }, {
                        "localId" : "192",
                        "locator" : "148:8-148:69",
                        "type" : "Equal",
                        "operand" : [ {
                           "localId" : "186",
                           "locator" : "148:10-148:41",
                           "type" : "PositionOf",
                           "pattern" : {
                              "localId" : "183",
                              "locator" : "148:21-148:25",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "/mL",
                              "type" : "Literal"
                           },
                           "string" : {
                              "localId" : "185",
                              "locator" : "148:28-148:40",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "184",
                                 "locator" : "148:28-148:35",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           }
                        }, {
                           "localId" : "191",
                           "locator" : "148:44-148:67",
                           "type" : "Subtract",
                           "operand" : [ {
                              "localId" : "189",
                              "locator" : "148:44-148:64",
                              "type" : "Length",
                              "operand" : {
                                 "localId" : "188",
                                 "locator" : "148:51-148:63",
                                 "path" : "unit",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "187",
                                    "locator" : "148:51-148:58",
                                    "name" : "strength",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "190",
                              "locator" : "148:67",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "3",
                              "type" : "Literal"
                           } ]
                        } ]
                     } ]
                  },
                  "then" : {
                     "localId" : "209",
                     "locator" : "148:76-148:210",
                     "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                     "type" : "Instance",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "localId" : "200",
                           "locator" : "148:94-148:142",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "197",
                              "locator" : "148:94-148:125",
                              "type" : "Multiply",
                              "operand" : [ {
                                 "localId" : "194",
                                 "locator" : "148:94-148:104",
                                 "name" : "dosesPerDay",
                                 "type" : "OperandRef"
                              }, {
                                 "localId" : "196",
                                 "locator" : "148:108-148:125",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "195",
                                    "locator" : "148:108-148:119",
                                    "name" : "doseQuantity",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           }, {
                              "localId" : "199",
                              "locator" : "148:129-148:142",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "198",
                                 "locator" : "148:129-148:136",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }
                     }, {
                        "name" : "unit",
                        "value" : {
                           "localId" : "208",
                           "locator" : "148:151-148:209",
                           "type" : "Substring",
                           "stringToSub" : {
                              "localId" : "202",
                              "locator" : "148:161-148:173",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "201",
                                 "locator" : "148:161-148:168",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           },
                           "startIndex" : {
                              "localId" : "203",
                              "locator" : "148:176",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "0",
                              "type" : "Literal"
                           },
                           "length" : {
                              "localId" : "207",
                              "locator" : "148:179-148:208",
                              "type" : "PositionOf",
                              "pattern" : {
                                 "localId" : "204",
                                 "locator" : "148:190-148:192",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "/",
                                 "type" : "Literal"
                              },
                              "string" : {
                                 "localId" : "206",
                                 "locator" : "148:195-148:207",
                                 "path" : "unit",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "205",
                                    "locator" : "148:195-148:202",
                                    "name" : "strength",
                                    "type" : "OperandRef"
                                 }
                              }
                           }
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "localId" : "226",
                  "locator" : "152:8-152:142",
                  "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "Instance",
                  "element" : [ {
                     "name" : "value",
                     "value" : {
                        "localId" : "217",
                        "locator" : "152:26-152:74",
                        "type" : "Multiply",
                        "operand" : [ {
                           "localId" : "214",
                           "locator" : "152:26-152:57",
                           "type" : "Multiply",
                           "operand" : [ {
                              "localId" : "211",
                              "locator" : "152:26-152:36",
                              "name" : "dosesPerDay",
                              "type" : "OperandRef"
                           }, {
                              "localId" : "213",
                              "locator" : "152:40-152:57",
                              "path" : "value",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "212",
                                 "locator" : "152:40-152:51",
                                 "name" : "doseQuantity",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }, {
                           "localId" : "216",
                           "locator" : "152:61-152:74",
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "localId" : "215",
                              "locator" : "152:61-152:68",
                              "name" : "strength",
                              "type" : "OperandRef"
                           }
                        } ]
                     }
                  }, {
                     "name" : "unit",
                     "value" : {
                        "localId" : "225",
                        "locator" : "152:83-152:141",
                        "type" : "Substring",
                        "stringToSub" : {
                           "localId" : "219",
                           "locator" : "152:93-152:105",
                           "path" : "unit",
                           "type" : "Property",
                           "source" : {
                              "localId" : "218",
                              "locator" : "152:93-152:100",
                              "name" : "strength",
                              "type" : "OperandRef"
                           }
                        },
                        "startIndex" : {
                           "localId" : "220",
                           "locator" : "152:108",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "0",
                           "type" : "Literal"
                        },
                        "length" : {
                           "localId" : "224",
                           "locator" : "152:111-152:140",
                           "type" : "PositionOf",
                           "pattern" : {
                              "localId" : "221",
                              "locator" : "152:122-152:124",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "/",
                              "type" : "Literal"
                           },
                           "string" : {
                              "localId" : "223",
                              "locator" : "152:127-152:139",
                              "path" : "unit",
                              "type" : "Property",
                              "source" : {
                                 "localId" : "222",
                                 "locator" : "152:127-152:134",
                                 "name" : "strength",
                                 "type" : "OperandRef"
                              }
                           }
                        }
                     }
                  } ]
               }
            },
            "operand" : [ {
               "name" : "ingredientCode",
               "operandTypeSpecifier" : {
                  "localId" : "133",
                  "locator" : "133:57-133:60",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "strength",
               "operandTypeSpecifier" : {
                  "localId" : "134",
                  "locator" : "133:72-133:79",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseFormCode",
               "operandTypeSpecifier" : {
                  "localId" : "135",
                  "locator" : "133:95-133:98",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseQuantity",
               "operandTypeSpecifier" : {
                  "localId" : "136",
                  "locator" : "133:114-133:121",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "dosesPerDay",
               "operandTypeSpecifier" : {
                  "localId" : "137",
                  "locator" : "133:136-133:142",
                  "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "452",
            "locator" : "62:1-131:4",
            "name" : "GetConversionFactor",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "452",
                  "s" : [ {
                     "value" : [ "define function ","\"GetConversionFactor\"","(","ingredientCode"," " ]
                  }, {
                     "r" : "236",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ ", ","dailyDose"," " ]
                  }, {
                     "r" : "237",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseFormCode"," " ]
                  }, {
                     "r" : "238",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Determines the conversion factor for each drug based on the ingredient code*/\r\n\t" ]
                  }, {
                     "r" : "451",
                     "s" : [ {
                        "r" : "451",
                        "s" : [ {
                           "value" : [ "case " ]
                        }, {
                           "r" : "241",
                           "s" : [ {
                              "value" : [ "ToInteger","(" ]
                           }, {
                              "r" : "240",
                              "s" : [ {
                                 "r" : "239",
                                 "s" : [ {
                                    "value" : [ "ingredientCode" ]
                                 } ]
                              }, {
                                 "value" : [ "." ]
                              }, {
                                 "r" : "240",
                                 "s" : [ {
                                    "value" : [ "code" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ ")" ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "244",
                           "s" : [ {
                              "r" : "242",
                              "value" : [ "when ","161"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ "  /*Acetaminophen*/\r\n\t\t" ]
                        }, {
                           "r" : "247",
                           "s" : [ {
                              "r" : "245",
                              "value" : [ "when ","1191"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Aspirin*/\r\n\t\t" ]
                        }, {
                           "r" : "250",
                           "s" : [ {
                              "r" : "248",
                              "value" : [ "when ","1223"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Atropine*/\r\n\t\t" ]
                        }, {
                           "r" : "253",
                           "s" : [ {
                              "r" : "251",
                              "value" : [ "when ","1767"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Brompheniramine*/\r\n\t\t" ]
                        }, {
                           "r" : "264",
                           "s" : [ {
                              "r" : "254",
                              "value" : [ "when ","1819"," then " ]
                           }, {
                              "r" : "263",
                              "s" : [ {
                                 "value" : [ "( /*Buprenorphine*/ " ]
                              }, {
                                 "r" : "263",
                                 "s" : [ {
                                    "value" : [ "case\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "261",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "259",
                                       "s" : [ {
                                          "r" : "257",
                                          "s" : [ {
                                             "value" : [ "ToInteger","(" ]
                                          }, {
                                             "r" : "256",
                                             "s" : [ {
                                                "r" : "255",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "256",
                                                "s" : [ {
                                                   "value" : [ "code" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       }, {
                                          "r" : "258",
                                          "value" : [ "="," ","316987" ]
                                       } ]
                                    }, {
                                       "r" : "260",
                                       "value" : [ " then ","12.6" ]
                                    } ]
                                 }, {
                                    "r" : "262",
                                    "value" : [ " /*Transdermal system*/ \r\n\t\t\t\telse ","30"," /*Tablet or Film (or Film in MCG)*/ \r\n\t\t\tend" ]
                                 } ]
                              }, {
                                 "value" : [ "\r\n\t\t)" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "267",
                           "s" : [ {
                              "r" : "265",
                              "value" : [ "when ","1841"," then ","7" ]
                           } ]
                        }, {
                           "value" : [ " /*Butorphanol*/\r\n\t\t" ]
                        }, {
                           "r" : "270",
                           "s" : [ {
                              "r" : "268",
                              "value" : [ "when ","1886"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Caffeine*/\r\n\t\t" ]
                        }, {
                           "r" : "273",
                           "s" : [ {
                              "r" : "271",
                              "value" : [ "when ","2101"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Carisoprodol*/\r\n\t\t" ]
                        }, {
                           "r" : "276",
                           "s" : [ {
                              "r" : "274",
                              "value" : [ "when ","2354"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Chlorcyclizine*/\r\n\t\t" ]
                        }, {
                           "r" : "279",
                           "s" : [ {
                              "r" : "277",
                              "value" : [ "when ","2400"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Chlorpheniramine*/\r\n\t\t" ]
                        }, {
                           "r" : "282",
                           "s" : [ {
                              "r" : "280",
                              "value" : [ "when ","2670"," then ","0.15" ]
                           } ]
                        }, {
                           "value" : [ " /*Codeine*/\r\n\t\t" ]
                        }, {
                           "r" : "285",
                           "s" : [ {
                              "r" : "283",
                              "value" : [ "when ","3423"," then ","4" ]
                           } ]
                        }, {
                           "value" : [ " /*Hydromorphone*/\r\n\t\t" ]
                        }, {
                           "r" : "288",
                           "s" : [ {
                              "r" : "286",
                              "value" : [ "when ","3498"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Diphenhydramine*/\r\n\t\t" ]
                        }, {
                           "r" : "322",
                           "s" : [ {
                              "r" : "289",
                              "value" : [ "when ","4337"," then " ]
                           }, {
                              "r" : "321",
                              "s" : [ {
                                 "value" : [ "( /*Fentanyl*/ " ]
                              }, {
                                 "r" : "321",
                                 "s" : [ {
                                    "value" : [ "case\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "299",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "297",
                                       "s" : [ {
                                          "r" : "292",
                                          "s" : [ {
                                             "value" : [ "ToInteger","(" ]
                                          }, {
                                             "r" : "291",
                                             "s" : [ {
                                                "r" : "290",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "291",
                                                "s" : [ {
                                                   "value" : [ "code" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       }, {
                                          "value" : [ "in " ]
                                       }, {
                                          "r" : "296",
                                          "s" : [ {
                                             "r" : "293",
                                             "value" : [ "{ ","970789",", ","317007",", ","316992"," }" ]
                                          } ]
                                       } ]
                                    }, {
                                       "r" : "298",
                                       "value" : [ " then ","0.13" ]
                                    } ]
                                 }, {
                                    "value" : [ " /*Buccal Tablet, Sublingual Tablet, Oral Lozenge*/\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "306",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "304",
                                       "s" : [ {
                                          "r" : "302",
                                          "s" : [ {
                                             "value" : [ "ToInteger","(" ]
                                          }, {
                                             "r" : "301",
                                             "s" : [ {
                                                "r" : "300",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "301",
                                                "s" : [ {
                                                   "value" : [ "code" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       }, {
                                          "r" : "303",
                                          "value" : [ "="," ","346163" ]
                                       } ]
                                    }, {
                                       "r" : "305",
                                       "value" : [ " then ","0.18" ]
                                    } ]
                                 }, {
                                    "value" : [ " /*Buccal Film*/\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "315",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "313",
                                       "s" : [ {
                                          "r" : "309",
                                          "s" : [ {
                                             "value" : [ "ToInteger","(" ]
                                          }, {
                                             "r" : "308",
                                             "s" : [ {
                                                "r" : "307",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "308",
                                                "s" : [ {
                                                   "value" : [ "code" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       }, {
                                          "value" : [ "in " ]
                                       }, {
                                          "r" : "312",
                                          "s" : [ {
                                             "r" : "310",
                                             "value" : [ "{ ","126542",", ","346163"," }" ]
                                          } ]
                                       } ]
                                    }, {
                                       "r" : "314",
                                       "value" : [ " then ","0.16" ]
                                    } ]
                                 }, {
                                    "value" : [ " /*Nasal Spray, Mucosal Spray*/\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "319",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "317",
                                       "s" : [ {
                                          "value" : [ "\"IsTransdermalPatch\"","(" ]
                                       }, {
                                          "r" : "316",
                                          "s" : [ {
                                             "value" : [ "doseFormCode" ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    }, {
                                       "r" : "318",
                                       "value" : [ "then ","7.2" ]
                                    } ]
                                 }, {
                                    "r" : "320",
                                    "value" : [ " /*Transdermal system*/ \r\n\t\t\t\telse ","1000"," \r\n\t\t\tend" ]
                                 } ]
                              }, {
                                 "value" : [ "\r\n\t\t)" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "325",
                           "s" : [ {
                              "r" : "323",
                              "value" : [ "when ","5032"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Guaifenesin*/\r\n\t\t" ]
                        }, {
                           "r" : "328",
                           "s" : [ {
                              "r" : "326",
                              "value" : [ "when ","5489"," then ","1" ]
                           } ]
                        }, {
                           "value" : [ " /*Hydrocodone*/\r\n\t\t" ]
                        }, {
                           "r" : "331",
                           "s" : [ {
                              "r" : "329",
                              "value" : [ "when ","5640"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Ibuprofen*/\r\n\t\t" ]
                        }, {
                           "r" : "334",
                           "s" : [ {
                              "r" : "332",
                              "value" : [ "when ","6102"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Kaolin*/\r\n\t\t" ]
                        }, {
                           "r" : "337",
                           "s" : [ {
                              "r" : "335",
                              "value" : [ "when ","6378"," then ","11" ]
                           } ]
                        }, {
                           "value" : [ " /*Levorphanol (NOTE: Given as Levorphanol tartrate in the CDC conversion table)*/\r\n\t\t" ]
                        }, {
                           "r" : "340",
                           "s" : [ {
                              "r" : "338",
                              "value" : [ "when ","6754"," then ","0.1" ]
                           } ]
                        }, {
                           "value" : [ " /*Meperidine*/\r\n\t\t" ]
                        }, {
                           "r" : "371",
                           "s" : [ {
                              "r" : "341",
                              "value" : [ "when ","6813"," then " ]
                           }, {
                              "r" : "370",
                              "s" : [ {
                                 "value" : [ "( /*Methadone*/ " ]
                              }, {
                                 "r" : "370",
                                 "s" : [ {
                                    "value" : [ "case\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "348",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "346",
                                       "s" : [ {
                                          "r" : "343",
                                          "s" : [ {
                                             "r" : "342",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "343",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       }, {
                                          "r" : "344",
                                          "value" : [ " between ","1"," and ","20" ]
                                       } ]
                                    }, {
                                       "r" : "347",
                                       "value" : [ " then ","4" ]
                                    } ]
                                 }, {
                                    "value" : [ "\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "355",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "353",
                                       "s" : [ {
                                          "r" : "350",
                                          "s" : [ {
                                             "r" : "349",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "350",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       }, {
                                          "r" : "351",
                                          "value" : [ " between ","21"," and ","40" ]
                                       } ]
                                    }, {
                                       "r" : "354",
                                       "value" : [ " then ","8" ]
                                    } ]
                                 }, {
                                    "value" : [ "\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "362",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "360",
                                       "s" : [ {
                                          "r" : "357",
                                          "s" : [ {
                                             "r" : "356",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "357",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       }, {
                                          "r" : "358",
                                          "value" : [ " between ","41"," and ","60" ]
                                       } ]
                                    }, {
                                       "r" : "361",
                                       "value" : [ " then ","10" ]
                                    } ]
                                 }, {
                                    "value" : [ "\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "368",
                                    "s" : [ {
                                       "value" : [ "when " ]
                                    }, {
                                       "r" : "366",
                                       "s" : [ {
                                          "r" : "364",
                                          "s" : [ {
                                             "r" : "363",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ "." ]
                                          }, {
                                             "r" : "364",
                                             "s" : [ {
                                                "value" : [ "value" ]
                                             } ]
                                          } ]
                                       }, {
                                          "r" : "365",
                                          "value" : [ " ",">="," ","61" ]
                                       } ]
                                    }, {
                                       "r" : "367",
                                       "value" : [ " then ","12" ]
                                    } ]
                                 }, {
                                    "r" : "369",
                                    "value" : [ " \r\n\t\t\t\telse ","1000"," \r\n\t\t\tend" ]
                                 } ]
                              }, {
                                 "value" : [ "\r\n\t\t)" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\t" ]
                        }, {
                           "r" : "374",
                           "s" : [ {
                              "r" : "372",
                              "value" : [ "when ","7052"," then ","1" ]
                           } ]
                        }, {
                           "value" : [ " /*Morphine*/\r\n\t\t" ]
                        }, {
                           "r" : "377",
                           "s" : [ {
                              "r" : "375",
                              "value" : [ "when ","7238"," then ","1" ]
                           } ]
                        }, {
                           "value" : [ " /*Nalbuphine*/\r\n\t\t" ]
                        }, {
                           "r" : "380",
                           "s" : [ {
                              "r" : "378",
                              "value" : [ "when ","7242"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Naloxone*/\r\n\t\t" ]
                        }, {
                           "r" : "383",
                           "s" : [ {
                              "r" : "381",
                              "value" : [ "when ","7243"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Naltrexone*/\r\n\t\t" ]
                        }, {
                           "r" : "386",
                           "s" : [ {
                              "r" : "384",
                              "value" : [ "when ","7676"," then ","1" ]
                           } ]
                        }, {
                           "value" : [ " /*Opium*/\r\n\t\t" ]
                        }, {
                           "r" : "389",
                           "s" : [ {
                              "r" : "387",
                              "value" : [ "when ","7804"," then ","1.5" ]
                           } ]
                        }, {
                           "value" : [ " /*Oxycodone*/\r\n\t\t" ]
                        }, {
                           "r" : "392",
                           "s" : [ {
                              "r" : "390",
                              "value" : [ "when ","7814"," then ","3" ]
                           } ]
                        }, {
                           "value" : [ " /*Oxymorphone*/\r\n\t\t" ]
                        }, {
                           "r" : "395",
                           "s" : [ {
                              "r" : "393",
                              "value" : [ "when ","8001"," then ","0.37" ]
                           } ]
                        }, {
                           "value" : [ " /*Pentazocine*/\r\n\t\t" ]
                        }, {
                           "r" : "398",
                           "s" : [ {
                              "r" : "396",
                              "value" : [ "when ","8163"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Phenylephrine*/\r\n\t\t" ]
                        }, {
                           "r" : "401",
                           "s" : [ {
                              "r" : "399",
                              "value" : [ "when ","8175"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Phenylpropanolamine*/\r\n\t\t" ]
                        }, {
                           "r" : "404",
                           "s" : [ {
                              "r" : "402",
                              "value" : [ "when ","8745"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Promethazine*/\r\n\t\t" ]
                        }, {
                           "r" : "407",
                           "s" : [ {
                              "r" : "405",
                              "value" : [ "when ","8785"," then ","0.167" ]
                           } ]
                        }, {
                           "value" : [ " /*Propoxyphene*/\r\n\t\t" ]
                        }, {
                           "r" : "410",
                           "s" : [ {
                              "r" : "408",
                              "value" : [ "when ","8896"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Pseudoephedrine*/\r\n\t\t" ]
                        }, {
                           "r" : "413",
                           "s" : [ {
                              "r" : "411",
                              "value" : [ "when ","9009"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Pyrilamine*/\r\n\t\t" ]
                        }, {
                           "r" : "416",
                           "s" : [ {
                              "r" : "414",
                              "value" : [ "when ","10689"," then ","0.1" ]
                           } ]
                        }, {
                           "value" : [ " /*Tramadol*/\r\n\t\t" ]
                        }, {
                           "r" : "419",
                           "s" : [ {
                              "r" : "417",
                              "value" : [ "when ","10849"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Triprolidine*/\r\n\t\t" ]
                        }, {
                           "r" : "422",
                           "s" : [ {
                              "r" : "420",
                              "value" : [ "when ","19759"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Bromodiphenhydramine*/\r\n\t\t" ]
                        }, {
                           "r" : "425",
                           "s" : [ {
                              "r" : "423",
                              "value" : [ "when ","19860"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Butalbital*/\r\n\t\t" ]
                        }, {
                           "r" : "428",
                           "s" : [ {
                              "r" : "426",
                              "value" : [ "when ","22696"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Dexbrompheniramine*/\r\n\t\t" ]
                        }, {
                           "r" : "431",
                           "s" : [ {
                              "r" : "429",
                              "value" : [ "when ","22697"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Dexchlorpheniramine*/\r\n\t\t" ]
                        }, {
                           "r" : "434",
                           "s" : [ {
                              "r" : "432",
                              "value" : [ "when ","23088"," then ","0.25" ]
                           } ]
                        }, {
                           "value" : [ " /*Dihydrocodeine*/\r\n\t\t" ]
                        }, {
                           "r" : "437",
                           "s" : [ {
                              "r" : "435",
                              "value" : [ "when ","27084"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Homatropine */\r\n\t\t" ]
                        }, {
                           "r" : "440",
                           "s" : [ {
                              "r" : "438",
                              "value" : [ "when ","35780"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Ropivacaine*/\r\n\t\t" ]
                        }, {
                           "r" : "443",
                           "s" : [ {
                              "r" : "441",
                              "value" : [ "when ","237005"," then ","8" ]
                           } ]
                        }, {
                           "value" : [ " /*Levomethadyl (NOTE: given as Levomethadyl acetate in the CDC conversion table)*/\r\n\t\t" ]
                        }, {
                           "r" : "446",
                           "s" : [ {
                              "r" : "444",
                              "value" : [ "when ","636827"," then ","0" ]
                           } ]
                        }, {
                           "value" : [ " /*Guaiacolsulfonate*/\r\n\t\t" ]
                        }, {
                           "r" : "449",
                           "s" : [ {
                              "r" : "447",
                              "value" : [ "when ","787390"," then ","0.4" ]
                           } ]
                        }, {
                           "r" : "450",
                           "value" : [ " /*Tapentadol*/ \r\n\t\telse ","0"," \r\n\tend" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "451",
               "locator" : "64:2-131:4",
               "type" : "Case",
               "comparand" : {
                  "localId" : "241",
                  "locator" : "64:7-64:36",
                  "type" : "ToInteger",
                  "operand" : {
                     "localId" : "240",
                     "locator" : "64:17-64:35",
                     "path" : "code",
                     "type" : "Property",
                     "source" : {
                        "localId" : "239",
                        "locator" : "64:17-64:30",
                        "name" : "ingredientCode",
                        "type" : "OperandRef"
                     }
                  }
               },
               "caseItem" : [ {
                  "localId" : "244",
                  "locator" : "65:3-65:17",
                  "when" : {
                     "localId" : "242",
                     "locator" : "65:8-65:10",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "161",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "243",
                        "locator" : "65:17",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "247",
                  "locator" : "66:3-66:18",
                  "when" : {
                     "localId" : "245",
                     "locator" : "66:8-66:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1191",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "246",
                        "locator" : "66:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "250",
                  "locator" : "67:3-67:18",
                  "when" : {
                     "localId" : "248",
                     "locator" : "67:8-67:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1223",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "249",
                        "locator" : "67:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "253",
                  "locator" : "68:3-68:18",
                  "when" : {
                     "localId" : "251",
                     "locator" : "68:8-68:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1767",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "252",
                        "locator" : "68:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "264",
                  "locator" : "69:3-73:3",
                  "when" : {
                     "localId" : "254",
                     "locator" : "69:8-69:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1819",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "263",
                     "locator" : "69:18-73:3",
                     "type" : "Case",
                     "caseItem" : [ {
                        "localId" : "261",
                        "locator" : "70:5-70:55",
                        "when" : {
                           "localId" : "259",
                           "locator" : "70:10-70:45",
                           "type" : "Equal",
                           "operand" : [ {
                              "localId" : "257",
                              "locator" : "70:10-70:37",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "256",
                                 "locator" : "70:20-70:36",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "255",
                                    "locator" : "70:20-70:31",
                                    "name" : "doseFormCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "258",
                              "locator" : "70:40-70:45",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "316987",
                              "type" : "Literal"
                           } ]
                        },
                        "then" : {
                           "localId" : "260",
                           "locator" : "70:52-70:55",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "12.6",
                           "type" : "Literal"
                        }
                     } ],
                     "else" : {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "262",
                           "locator" : "71:10-71:11",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "30",
                           "type" : "Literal"
                        }
                     }
                  }
               }, {
                  "localId" : "267",
                  "locator" : "74:3-74:18",
                  "when" : {
                     "localId" : "265",
                     "locator" : "74:8-74:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1841",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "266",
                        "locator" : "74:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "7",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "270",
                  "locator" : "75:3-75:18",
                  "when" : {
                     "localId" : "268",
                     "locator" : "75:8-75:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1886",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "269",
                        "locator" : "75:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "273",
                  "locator" : "76:3-76:18",
                  "when" : {
                     "localId" : "271",
                     "locator" : "76:8-76:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2101",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "272",
                        "locator" : "76:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "276",
                  "locator" : "77:3-77:18",
                  "when" : {
                     "localId" : "274",
                     "locator" : "77:8-77:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2354",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "275",
                        "locator" : "77:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "279",
                  "locator" : "78:3-78:18",
                  "when" : {
                     "localId" : "277",
                     "locator" : "78:8-78:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2400",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "278",
                        "locator" : "78:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "282",
                  "locator" : "79:3-79:21",
                  "when" : {
                     "localId" : "280",
                     "locator" : "79:8-79:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2670",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "281",
                     "locator" : "79:18-79:21",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.15",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "285",
                  "locator" : "80:3-80:18",
                  "when" : {
                     "localId" : "283",
                     "locator" : "80:8-80:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3423",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "284",
                        "locator" : "80:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "4",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "288",
                  "locator" : "81:3-81:18",
                  "when" : {
                     "localId" : "286",
                     "locator" : "81:8-81:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3498",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "287",
                        "locator" : "81:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "322",
                  "locator" : "82:3-89:3",
                  "when" : {
                     "localId" : "289",
                     "locator" : "82:8-82:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "4337",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "321",
                     "locator" : "82:18-89:3",
                     "type" : "Case",
                     "caseItem" : [ {
                        "localId" : "299",
                        "locator" : "83:5-83:76",
                        "when" : {
                           "localId" : "297",
                           "locator" : "83:10-83:66",
                           "type" : "In",
                           "operand" : [ {
                              "localId" : "292",
                              "locator" : "83:10-83:37",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "291",
                                 "locator" : "83:20-83:36",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "290",
                                    "locator" : "83:20-83:31",
                                    "name" : "doseFormCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "296",
                              "locator" : "83:41-83:66",
                              "type" : "List",
                              "element" : [ {
                                 "localId" : "293",
                                 "locator" : "83:43-83:48",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "970789",
                                 "type" : "Literal"
                              }, {
                                 "localId" : "294",
                                 "locator" : "83:51-83:56",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "317007",
                                 "type" : "Literal"
                              }, {
                                 "localId" : "295",
                                 "locator" : "83:59-83:64",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "316992",
                                 "type" : "Literal"
                              } ]
                           } ]
                        },
                        "then" : {
                           "localId" : "298",
                           "locator" : "83:73-83:76",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "0.13",
                           "type" : "Literal"
                        }
                     }, {
                        "localId" : "306",
                        "locator" : "84:5-84:55",
                        "when" : {
                           "localId" : "304",
                           "locator" : "84:10-84:45",
                           "type" : "Equal",
                           "operand" : [ {
                              "localId" : "302",
                              "locator" : "84:10-84:37",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "301",
                                 "locator" : "84:20-84:36",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "300",
                                    "locator" : "84:20-84:31",
                                    "name" : "doseFormCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "303",
                              "locator" : "84:40-84:45",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "346163",
                              "type" : "Literal"
                           } ]
                        },
                        "then" : {
                           "localId" : "305",
                           "locator" : "84:52-84:55",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "0.18",
                           "type" : "Literal"
                        }
                     }, {
                        "localId" : "315",
                        "locator" : "85:5-85:68",
                        "when" : {
                           "localId" : "313",
                           "locator" : "85:10-85:58",
                           "type" : "In",
                           "operand" : [ {
                              "localId" : "309",
                              "locator" : "85:10-85:37",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "308",
                                 "locator" : "85:20-85:36",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "307",
                                    "locator" : "85:20-85:31",
                                    "name" : "doseFormCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "312",
                              "locator" : "85:41-85:58",
                              "type" : "List",
                              "element" : [ {
                                 "localId" : "310",
                                 "locator" : "85:43-85:48",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "126542",
                                 "type" : "Literal"
                              }, {
                                 "localId" : "311",
                                 "locator" : "85:51-85:56",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "346163",
                                 "type" : "Literal"
                              } ]
                           } ]
                        },
                        "then" : {
                           "localId" : "314",
                           "locator" : "85:65-85:68",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "0.16",
                           "type" : "Literal"
                        }
                     }, {
                        "localId" : "319",
                        "locator" : "86:5-86:51",
                        "when" : {
                           "localId" : "317",
                           "locator" : "86:10-86:43",
                           "name" : "IsTransdermalPatch",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "localId" : "316",
                              "locator" : "86:31-86:42",
                              "name" : "doseFormCode",
                              "type" : "OperandRef"
                           } ]
                        },
                        "then" : {
                           "localId" : "318",
                           "locator" : "86:49-86:51",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "value" : "7.2",
                           "type" : "Literal"
                        }
                     } ],
                     "else" : {
                        "type" : "ToDecimal",
                        "operand" : {
                           "localId" : "320",
                           "locator" : "87:10-87:13",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "1000",
                           "type" : "Literal"
                        }
                     }
                  }
               }, {
                  "localId" : "325",
                  "locator" : "90:3-90:18",
                  "when" : {
                     "localId" : "323",
                     "locator" : "90:8-90:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5032",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "324",
                        "locator" : "90:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "328",
                  "locator" : "91:3-91:18",
                  "when" : {
                     "localId" : "326",
                     "locator" : "91:8-91:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5489",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "327",
                        "locator" : "91:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "331",
                  "locator" : "92:3-92:18",
                  "when" : {
                     "localId" : "329",
                     "locator" : "92:8-92:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "5640",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "330",
                        "locator" : "92:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "334",
                  "locator" : "93:3-93:18",
                  "when" : {
                     "localId" : "332",
                     "locator" : "93:8-93:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "6102",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "333",
                        "locator" : "93:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "337",
                  "locator" : "94:3-94:19",
                  "when" : {
                     "localId" : "335",
                     "locator" : "94:8-94:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "6378",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "336",
                        "locator" : "94:18-94:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "11",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "340",
                  "locator" : "95:3-95:20",
                  "when" : {
                     "localId" : "338",
                     "locator" : "95:8-95:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "6754",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "339",
                     "locator" : "95:18-95:20",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.1",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "371",
                  "locator" : "96:3-103:3",
                  "when" : {
                     "localId" : "341",
                     "locator" : "96:8-96:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "6813",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "370",
                        "locator" : "96:18-103:3",
                        "type" : "Case",
                        "caseItem" : [ {
                           "localId" : "348",
                           "locator" : "97:5-97:48",
                           "when" : {
                              "localId" : "346",
                              "locator" : "97:10-97:41",
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "localId" : "343",
                                    "locator" : "97:10-97:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "342",
                                       "locator" : "97:10-97:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "344",
                                       "locator" : "97:34",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "1",
                                       "type" : "Literal"
                                    }
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "localId" : "343",
                                    "locator" : "97:10-97:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "342",
                                       "locator" : "97:10-97:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "345",
                                       "locator" : "97:40-97:41",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "20",
                                       "type" : "Literal"
                                    }
                                 } ]
                              } ]
                           },
                           "then" : {
                              "localId" : "347",
                              "locator" : "97:48",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "4",
                              "type" : "Literal"
                           }
                        }, {
                           "localId" : "355",
                           "locator" : "98:5-98:49",
                           "when" : {
                              "localId" : "353",
                              "locator" : "98:10-98:42",
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "localId" : "350",
                                    "locator" : "98:10-98:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "349",
                                       "locator" : "98:10-98:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "351",
                                       "locator" : "98:34-98:35",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "21",
                                       "type" : "Literal"
                                    }
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "localId" : "350",
                                    "locator" : "98:10-98:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "349",
                                       "locator" : "98:10-98:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "352",
                                       "locator" : "98:41-98:42",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "40",
                                       "type" : "Literal"
                                    }
                                 } ]
                              } ]
                           },
                           "then" : {
                              "localId" : "354",
                              "locator" : "98:49",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "8",
                              "type" : "Literal"
                           }
                        }, {
                           "localId" : "362",
                           "locator" : "99:5-99:50",
                           "when" : {
                              "localId" : "360",
                              "locator" : "99:10-99:42",
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "GreaterOrEqual",
                                 "operand" : [ {
                                    "localId" : "357",
                                    "locator" : "99:10-99:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "356",
                                       "locator" : "99:10-99:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "358",
                                       "locator" : "99:34-99:35",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "41",
                                       "type" : "Literal"
                                    }
                                 } ]
                              }, {
                                 "type" : "LessOrEqual",
                                 "operand" : [ {
                                    "localId" : "357",
                                    "locator" : "99:10-99:24",
                                    "path" : "value",
                                    "type" : "Property",
                                    "source" : {
                                       "localId" : "356",
                                       "locator" : "99:10-99:18",
                                       "name" : "dailyDose",
                                       "type" : "OperandRef"
                                    }
                                 }, {
                                    "type" : "ToDecimal",
                                    "operand" : {
                                       "localId" : "359",
                                       "locator" : "99:41-99:42",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "60",
                                       "type" : "Literal"
                                    }
                                 } ]
                              } ]
                           },
                           "then" : {
                              "localId" : "361",
                              "locator" : "99:49-99:50",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "10",
                              "type" : "Literal"
                           }
                        }, {
                           "localId" : "368",
                           "locator" : "100:5-100:38",
                           "when" : {
                              "localId" : "366",
                              "locator" : "100:10-100:30",
                              "type" : "GreaterOrEqual",
                              "operand" : [ {
                                 "localId" : "364",
                                 "locator" : "100:10-100:24",
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "363",
                                    "locator" : "100:10-100:18",
                                    "name" : "dailyDose",
                                    "type" : "OperandRef"
                                 }
                              }, {
                                 "type" : "ToDecimal",
                                 "operand" : {
                                    "localId" : "365",
                                    "locator" : "100:29-100:30",
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "61",
                                    "type" : "Literal"
                                 }
                              } ]
                           },
                           "then" : {
                              "localId" : "367",
                              "locator" : "100:37-100:38",
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "12",
                              "type" : "Literal"
                           }
                        } ],
                        "else" : {
                           "localId" : "369",
                           "locator" : "101:10-101:13",
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "1000",
                           "type" : "Literal"
                        }
                     }
                  }
               }, {
                  "localId" : "374",
                  "locator" : "104:3-104:18",
                  "when" : {
                     "localId" : "372",
                     "locator" : "104:8-104:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7052",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "373",
                        "locator" : "104:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "377",
                  "locator" : "105:3-105:18",
                  "when" : {
                     "localId" : "375",
                     "locator" : "105:8-105:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7238",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "376",
                        "locator" : "105:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "380",
                  "locator" : "106:3-106:18",
                  "when" : {
                     "localId" : "378",
                     "locator" : "106:8-106:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7242",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "379",
                        "locator" : "106:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "383",
                  "locator" : "107:3-107:18",
                  "when" : {
                     "localId" : "381",
                     "locator" : "107:8-107:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7243",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "382",
                        "locator" : "107:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "386",
                  "locator" : "108:3-108:18",
                  "when" : {
                     "localId" : "384",
                     "locator" : "108:8-108:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7676",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "385",
                        "locator" : "108:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "389",
                  "locator" : "109:3-109:20",
                  "when" : {
                     "localId" : "387",
                     "locator" : "109:8-109:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7804",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "388",
                     "locator" : "109:18-109:20",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "1.5",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "392",
                  "locator" : "110:3-110:18",
                  "when" : {
                     "localId" : "390",
                     "locator" : "110:8-110:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "7814",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "391",
                        "locator" : "110:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "395",
                  "locator" : "111:3-111:21",
                  "when" : {
                     "localId" : "393",
                     "locator" : "111:8-111:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8001",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "394",
                     "locator" : "111:18-111:21",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.37",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "398",
                  "locator" : "112:3-112:18",
                  "when" : {
                     "localId" : "396",
                     "locator" : "112:8-112:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8163",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "397",
                        "locator" : "112:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "401",
                  "locator" : "113:3-113:18",
                  "when" : {
                     "localId" : "399",
                     "locator" : "113:8-113:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8175",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "400",
                        "locator" : "113:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "404",
                  "locator" : "114:3-114:18",
                  "when" : {
                     "localId" : "402",
                     "locator" : "114:8-114:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8745",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "403",
                        "locator" : "114:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "407",
                  "locator" : "115:3-115:22",
                  "when" : {
                     "localId" : "405",
                     "locator" : "115:8-115:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8785",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "406",
                     "locator" : "115:18-115:22",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.167",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "410",
                  "locator" : "116:3-116:18",
                  "when" : {
                     "localId" : "408",
                     "locator" : "116:8-116:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "8896",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "409",
                        "locator" : "116:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "413",
                  "locator" : "117:3-117:18",
                  "when" : {
                     "localId" : "411",
                     "locator" : "117:8-117:11",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "9009",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "412",
                        "locator" : "117:18",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "416",
                  "locator" : "118:3-118:21",
                  "when" : {
                     "localId" : "414",
                     "locator" : "118:8-118:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "10689",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "415",
                     "locator" : "118:19-118:21",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.1",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "419",
                  "locator" : "119:3-119:19",
                  "when" : {
                     "localId" : "417",
                     "locator" : "119:8-119:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "10849",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "418",
                        "locator" : "119:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "422",
                  "locator" : "120:3-120:19",
                  "when" : {
                     "localId" : "420",
                     "locator" : "120:8-120:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "19759",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "421",
                        "locator" : "120:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "425",
                  "locator" : "121:3-121:19",
                  "when" : {
                     "localId" : "423",
                     "locator" : "121:8-121:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "19860",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "424",
                        "locator" : "121:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "428",
                  "locator" : "122:3-122:19",
                  "when" : {
                     "localId" : "426",
                     "locator" : "122:8-122:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "22696",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "427",
                        "locator" : "122:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "431",
                  "locator" : "123:3-123:19",
                  "when" : {
                     "localId" : "429",
                     "locator" : "123:8-123:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "22697",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "430",
                        "locator" : "123:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "434",
                  "locator" : "124:3-124:22",
                  "when" : {
                     "localId" : "432",
                     "locator" : "124:8-124:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "23088",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "433",
                     "locator" : "124:19-124:22",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.25",
                     "type" : "Literal"
                  }
               }, {
                  "localId" : "437",
                  "locator" : "125:3-125:19",
                  "when" : {
                     "localId" : "435",
                     "locator" : "125:8-125:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "27084",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "436",
                        "locator" : "125:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "440",
                  "locator" : "126:3-126:19",
                  "when" : {
                     "localId" : "438",
                     "locator" : "126:8-126:12",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "35780",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "439",
                        "locator" : "126:19",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "443",
                  "locator" : "127:3-127:20",
                  "when" : {
                     "localId" : "441",
                     "locator" : "127:8-127:13",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "237005",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "442",
                        "locator" : "127:20",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "8",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "446",
                  "locator" : "128:3-128:20",
                  "when" : {
                     "localId" : "444",
                     "locator" : "128:8-128:13",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "636827",
                     "type" : "Literal"
                  },
                  "then" : {
                     "type" : "ToDecimal",
                     "operand" : {
                        "localId" : "445",
                        "locator" : "128:20",
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "0",
                        "type" : "Literal"
                     }
                  }
               }, {
                  "localId" : "449",
                  "locator" : "129:3-129:22",
                  "when" : {
                     "localId" : "447",
                     "locator" : "129:8-129:13",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "787390",
                     "type" : "Literal"
                  },
                  "then" : {
                     "localId" : "448",
                     "locator" : "129:20-129:22",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                     "value" : "0.4",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "type" : "ToDecimal",
                  "operand" : {
                     "localId" : "450",
                     "locator" : "130:8",
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "0",
                     "type" : "Literal"
                  }
               }
            },
            "operand" : [ {
               "name" : "ingredientCode",
               "operandTypeSpecifier" : {
                  "localId" : "236",
                  "locator" : "62:54-62:57",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "dailyDose",
               "operandTypeSpecifier" : {
                  "localId" : "237",
                  "locator" : "62:70-62:77",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseFormCode",
               "operandTypeSpecifier" : {
                  "localId" : "238",
                  "locator" : "62:93-62:96",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "559",
            "locator" : "159:1-174:4",
            "name" : "GetMedDailyDoseDescription",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "559",
                  "s" : [ {
                     "value" : [ "define function ","\"GetMedDailyDoseDescription\"","(","ingredientCode"," " ]
                  }, {
                     "r" : "469",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ ", ","ingredientName"," " ]
                  }, {
                     "r" : "470",
                     "s" : [ {
                        "value" : [ "String" ]
                     } ]
                  }, {
                     "value" : [ ", ","strength"," " ]
                  }, {
                     "r" : "471",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseFormCode"," " ]
                  }, {
                     "r" : "472",
                     "s" : [ {
                        "value" : [ "Code" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseFormName"," " ]
                  }, {
                     "r" : "473",
                     "s" : [ {
                        "value" : [ "String" ]
                     } ]
                  }, {
                     "value" : [ ", ","doseQuantity"," " ]
                  }, {
                     "r" : "474",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ ", ","dosesPerDay"," " ]
                  }, {
                     "r" : "475",
                     "s" : [ {
                        "value" : [ "Decimal" ]
                     } ]
                  }, {
                     "value" : [ ", ","dailyDose"," " ]
                  }, {
                     "r" : "476",
                     "s" : [ {
                        "value" : [ "Quantity" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*If a transdermal system (patch) form, assesses drug name and strength to determine the code to use in converting to MME*/\r\n\t" ]
                  }, {
                     "r" : "558",
                     "s" : [ {
                        "r" : "558",
                        "s" : [ {
                           "value" : [ "case\r\n\t    /* if patch */\r\n\t\t" ]
                        }, {
                           "r" : "505",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "478",
                              "s" : [ {
                                 "value" : [ "\"IsTransdermalPatch\"","(" ]
                              }, {
                                 "r" : "477",
                                 "s" : [ {
                                    "value" : [ "doseFormCode" ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           }, {
                              "value" : [ "then\r\n\t      /* buprenorphine or fentanyl patch */ " ]
                           }, {
                              "r" : "504",
                              "s" : [ {
                                 "value" : [ "if " ]
                              }, {
                                 "r" : "485",
                                 "s" : [ {
                                    "r" : "481",
                                    "s" : [ {
                                       "value" : [ "ToInteger","(" ]
                                    }, {
                                       "r" : "480",
                                       "s" : [ {
                                          "r" : "479",
                                          "s" : [ {
                                             "value" : [ "ingredientCode" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "480",
                                          "s" : [ {
                                             "value" : [ "code" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 }, {
                                    "value" : [ "in " ]
                                 }, {
                                    "r" : "484",
                                    "s" : [ {
                                       "r" : "482",
                                       "value" : [ "{ ","1819",", ","4337"," }" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " then " ]
                              }, {
                                 "r" : "502",
                                 "s" : [ {
                                    "r" : "499",
                                    "s" : [ {
                                       "r" : "497",
                                       "s" : [ {
                                          "r" : "494",
                                          "s" : [ {
                                             "r" : "492",
                                             "s" : [ {
                                                "r" : "488",
                                                "s" : [ {
                                                   "r" : "486",
                                                   "s" : [ {
                                                      "value" : [ "ingredientName" ]
                                                   } ]
                                                }, {
                                                   "value" : [ " + " ]
                                                }, {
                                                   "r" : "487",
                                                   "s" : [ {
                                                      "value" : [ "' patch: '" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " + " ]
                                             }, {
                                                "r" : "491",
                                                "s" : [ {
                                                   "value" : [ "ToString","(" ]
                                                }, {
                                                   "r" : "490",
                                                   "s" : [ {
                                                      "r" : "489",
                                                      "s" : [ {
                                                         "value" : [ "doseQuantity" ]
                                                      } ]
                                                   }, {
                                                      "value" : [ "." ]
                                                   }, {
                                                      "r" : "490",
                                                      "s" : [ {
                                                         "value" : [ "value" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ ")" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ "+ " ]
                                          }, {
                                             "r" : "493",
                                             "s" : [ {
                                                "value" : [ "' * '" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " + " ]
                                       }, {
                                          "r" : "496",
                                          "s" : [ {
                                             "value" : [ "ToString","(" ]
                                          }, {
                                             "r" : "495",
                                             "s" : [ {
                                                "value" : [ "strength" ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "+ " ]
                                    }, {
                                       "r" : "498",
                                       "s" : [ {
                                          "value" : [ "' = '" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " + " ]
                                 }, {
                                    "r" : "501",
                                    "s" : [ {
                                       "value" : [ "ToString","(" ]
                                    }, {
                                       "r" : "500",
                                       "s" : [ {
                                          "value" : [ "dailyDose" ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              }, {
                                 "r" : "503",
                                 "value" : [ "\r\n\t\t\telse ","null" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\r\n\t\r\n\t    /* if dose unit in actual mass units (mg or mcg -- when it's a single med) */\r\n\t\t" ]
                        }, {
                           "r" : "532",
                           "s" : [ {
                              "value" : [ "when " ]
                           }, {
                              "r" : "511",
                              "s" : [ {
                                 "r" : "507",
                                 "s" : [ {
                                    "r" : "506",
                                    "s" : [ {
                                       "value" : [ "doseQuantity" ]
                                    } ]
                                 }, {
                                    "value" : [ "." ]
                                 }, {
                                    "r" : "507",
                                    "s" : [ {
                                       "value" : [ "unit" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " in " ]
                              }, {
                                 "r" : "510",
                                 "s" : [ {
                                    "value" : [ "{ " ]
                                 }, {
                                    "r" : "508",
                                    "s" : [ {
                                       "value" : [ "'mg'" ]
                                    } ]
                                 }, {
                                    "value" : [ ", " ]
                                 }, {
                                    "r" : "509",
                                    "s" : [ {
                                       "value" : [ "'mcg'" ]
                                    } ]
                                 }, {
                                    "value" : [ " }" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " then " ]
                           }, {
                              "r" : "531",
                              "s" : [ {
                                 "r" : "528",
                                 "s" : [ {
                                    "r" : "526",
                                    "s" : [ {
                                       "r" : "523",
                                       "s" : [ {
                                          "r" : "521",
                                          "s" : [ {
                                             "r" : "518",
                                             "s" : [ {
                                                "r" : "516",
                                                "s" : [ {
                                                   "r" : "514",
                                                   "s" : [ {
                                                      "r" : "512",
                                                      "s" : [ {
                                                         "value" : [ "ingredientName" ]
                                                      } ]
                                                   }, {
                                                      "value" : [ " + " ]
                                                   }, {
                                                      "r" : "513",
                                                      "s" : [ {
                                                         "value" : [ "' '" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " + " ]
                                                }, {
                                                   "r" : "515",
                                                   "s" : [ {
                                                      "value" : [ "doseFormName" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " + " ]
                                             }, {
                                                "r" : "517",
                                                "s" : [ {
                                                   "value" : [ "': '" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " + " ]
                                          }, {
                                             "r" : "520",
                                             "s" : [ {
                                                "value" : [ "ToString","(" ]
                                             }, {
                                                "r" : "519",
                                                "s" : [ {
                                                   "value" : [ "dosesPerDay" ]
                                                } ]
                                             }, {
                                                "value" : [ ")" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "+ " ]
                                       }, {
                                          "r" : "522",
                                          "s" : [ {
                                             "value" : [ "'/d * '" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ " + " ]
                                    }, {
                                       "r" : "525",
                                       "s" : [ {
                                          "value" : [ "ToString","(" ]
                                       }, {
                                          "r" : "524",
                                          "s" : [ {
                                             "value" : [ "doseQuantity" ]
                                          } ]
                                       }, {
                                          "value" : [ ")" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "+ " ]
                                 }, {
                                    "r" : "527",
                                    "s" : [ {
                                       "value" : [ "' = '" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ " + " ]
                              }, {
                                 "r" : "530",
                                 "s" : [ {
                                    "value" : [ "ToString","(" ]
                                 }, {
                                    "r" : "529",
                                    "s" : [ {
                                       "value" : [ "dailyDose" ]
                                    } ]
                                 }, {
                                    "value" : [ ")" ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t\r\n\t\r\n\t    /* if doseQuantity in actual volume units (mL) or not in actual units (e.g. 1 tab, 1 spray) */\r\n\t\telse " ]
                        }, {
                           "r" : "557",
                           "s" : [ {
                              "r" : "554",
                              "s" : [ {
                                 "r" : "552",
                                 "s" : [ {
                                    "r" : "549",
                                    "s" : [ {
                                       "r" : "547",
                                       "s" : [ {
                                          "r" : "544",
                                          "s" : [ {
                                             "r" : "542",
                                             "s" : [ {
                                                "r" : "539",
                                                "s" : [ {
                                                   "r" : "537",
                                                   "s" : [ {
                                                      "r" : "535",
                                                      "s" : [ {
                                                         "r" : "533",
                                                         "s" : [ {
                                                            "value" : [ "ingredientName" ]
                                                         } ]
                                                      }, {
                                                         "value" : [ " + " ]
                                                      }, {
                                                         "r" : "534",
                                                         "s" : [ {
                                                            "value" : [ "' '" ]
                                                         } ]
                                                      } ]
                                                   }, {
                                                      "value" : [ " + " ]
                                                   }, {
                                                      "r" : "536",
                                                      "s" : [ {
                                                         "value" : [ "doseFormName" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " + " ]
                                                }, {
                                                   "r" : "538",
                                                   "s" : [ {
                                                      "value" : [ "': '" ]
                                                   } ]
                                                } ]
                                             }, {
                                                "value" : [ " + " ]
                                             }, {
                                                "r" : "541",
                                                "s" : [ {
                                                   "value" : [ "ToString","(" ]
                                                }, {
                                                   "r" : "540",
                                                   "s" : [ {
                                                      "value" : [ "dosesPerDay" ]
                                                   } ]
                                                }, {
                                                   "value" : [ ")" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ "+ " ]
                                          }, {
                                             "r" : "543",
                                             "s" : [ {
                                                "value" : [ "'/d * '" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " + " ]
                                       }, {
                                          "r" : "546",
                                          "s" : [ {
                                             "value" : [ "ToString","(" ]
                                          }, {
                                             "r" : "545",
                                             "s" : [ {
                                                "value" : [ "doseQuantity" ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ "+ " ]
                                    }, {
                                       "r" : "548",
                                       "s" : [ {
                                          "value" : [ "' * '" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " + " ]
                                 }, {
                                    "r" : "551",
                                    "s" : [ {
                                       "value" : [ "ToString","(" ]
                                    }, {
                                       "r" : "550",
                                       "s" : [ {
                                          "value" : [ "strength" ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              }, {
                                 "value" : [ "+ " ]
                              }, {
                                 "r" : "553",
                                 "s" : [ {
                                    "value" : [ "' = '" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ " + " ]
                           }, {
                              "r" : "556",
                              "s" : [ {
                                 "value" : [ "ToString","(" ]
                              }, {
                                 "r" : "555",
                                 "s" : [ {
                                    "value" : [ "dailyDose" ]
                                 } ]
                              }, {
                                 "value" : [ ")" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\tend" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "558",
               "locator" : "161:2-174:4",
               "type" : "Case",
               "caseItem" : [ {
                  "localId" : "505",
                  "locator" : "163:3-165:12",
                  "when" : {
                     "localId" : "478",
                     "locator" : "163:8-163:41",
                     "name" : "IsTransdermalPatch",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "localId" : "477",
                        "locator" : "163:29-163:40",
                        "name" : "doseFormCode",
                        "type" : "OperandRef"
                     } ]
                  },
                  "then" : {
                     "localId" : "504",
                     "locator" : "164:46-165:12",
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "localId" : "485",
                           "locator" : "164:49-164:95",
                           "type" : "In",
                           "operand" : [ {
                              "localId" : "481",
                              "locator" : "164:49-164:78",
                              "type" : "ToInteger",
                              "operand" : {
                                 "localId" : "480",
                                 "locator" : "164:59-164:77",
                                 "path" : "code",
                                 "type" : "Property",
                                 "source" : {
                                    "localId" : "479",
                                    "locator" : "164:59-164:72",
                                    "name" : "ingredientCode",
                                    "type" : "OperandRef"
                                 }
                              }
                           }, {
                              "localId" : "484",
                              "locator" : "164:82-164:95",
                              "type" : "List",
                              "element" : [ {
                                 "localId" : "482",
                                 "locator" : "164:84-164:87",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "1819",
                                 "type" : "Literal"
                              }, {
                                 "localId" : "483",
                                 "locator" : "164:90-164:93",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                 "value" : "4337",
                                 "type" : "Literal"
                              } ]
                           } ]
                        }
                     },
                     "then" : {
                        "localId" : "502",
                        "locator" : "164:102-164:216",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "localId" : "499",
                           "locator" : "164:102-164:194",
                           "type" : "Concatenate",
                           "operand" : [ {
                              "localId" : "497",
                              "locator" : "164:102-164:187",
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "localId" : "494",
                                 "locator" : "164:102-164:166",
                                 "type" : "Concatenate",
                                 "operand" : [ {
                                    "localId" : "492",
                                    "locator" : "164:102-164:159",
                                    "type" : "Concatenate",
                                    "operand" : [ {
                                       "localId" : "488",
                                       "locator" : "164:102-164:128",
                                       "type" : "Concatenate",
                                       "operand" : [ {
                                          "localId" : "486",
                                          "locator" : "164:102-164:115",
                                          "name" : "ingredientName",
                                          "type" : "OperandRef"
                                       }, {
                                          "localId" : "487",
                                          "locator" : "164:119-164:128",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : " patch: ",
                                          "type" : "Literal"
                                       } ]
                                    }, {
                                       "localId" : "491",
                                       "locator" : "164:132-164:159",
                                       "type" : "ToString",
                                       "operand" : {
                                          "localId" : "490",
                                          "locator" : "164:141-164:158",
                                          "path" : "value",
                                          "type" : "Property",
                                          "source" : {
                                             "localId" : "489",
                                             "locator" : "164:141-164:152",
                                             "name" : "doseQuantity",
                                             "type" : "OperandRef"
                                          }
                                       }
                                    } ]
                                 }, {
                                    "localId" : "493",
                                    "locator" : "164:162-164:166",
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : " * ",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "localId" : "496",
                                 "locator" : "164:170-164:187",
                                 "type" : "ToString",
                                 "operand" : {
                                    "localId" : "495",
                                    "locator" : "164:179-164:186",
                                    "name" : "strength",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           }, {
                              "localId" : "498",
                              "locator" : "164:190-164:194",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : " = ",
                              "type" : "Literal"
                           } ]
                        }, {
                           "localId" : "501",
                           "locator" : "164:198-164:216",
                           "type" : "ToString",
                           "operand" : {
                              "localId" : "500",
                              "locator" : "164:207-164:215",
                              "name" : "dailyDose",
                              "type" : "OperandRef"
                           }
                        } ]
                     },
                     "else" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}String",
                        "type" : "As",
                        "operand" : {
                           "localId" : "503",
                           "locator" : "165:9-165:12",
                           "type" : "Null"
                        }
                     }
                  }
               }, {
                  "localId" : "532",
                  "locator" : "169:3-169:178",
                  "when" : {
                     "localId" : "511",
                     "locator" : "169:8-169:43",
                     "type" : "In",
                     "operand" : [ {
                        "localId" : "507",
                        "locator" : "169:8-169:24",
                        "path" : "unit",
                        "type" : "Property",
                        "source" : {
                           "localId" : "506",
                           "locator" : "169:8-169:19",
                           "name" : "doseQuantity",
                           "type" : "OperandRef"
                        }
                     }, {
                        "localId" : "510",
                        "locator" : "169:29-169:43",
                        "type" : "List",
                        "element" : [ {
                           "localId" : "508",
                           "locator" : "169:31-169:34",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mg",
                           "type" : "Literal"
                        }, {
                           "localId" : "509",
                           "locator" : "169:37-169:41",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "mcg",
                           "type" : "Literal"
                        } ]
                     } ]
                  },
                  "then" : {
                     "localId" : "531",
                     "locator" : "169:50-169:178",
                     "type" : "Concatenate",
                     "operand" : [ {
                        "localId" : "528",
                        "locator" : "169:50-169:156",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "localId" : "526",
                           "locator" : "169:50-169:149",
                           "type" : "Concatenate",
                           "operand" : [ {
                              "localId" : "523",
                              "locator" : "169:50-169:124",
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "localId" : "521",
                                 "locator" : "169:50-169:115",
                                 "type" : "Concatenate",
                                 "operand" : [ {
                                    "localId" : "518",
                                    "locator" : "169:50-169:91",
                                    "type" : "Concatenate",
                                    "operand" : [ {
                                       "localId" : "516",
                                       "locator" : "169:50-169:84",
                                       "type" : "Concatenate",
                                       "operand" : [ {
                                          "localId" : "514",
                                          "locator" : "169:50-169:69",
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "localId" : "512",
                                             "locator" : "169:50-169:63",
                                             "name" : "ingredientName",
                                             "type" : "OperandRef"
                                          }, {
                                             "localId" : "513",
                                             "locator" : "169:67-169:69",
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : " ",
                                             "type" : "Literal"
                                          } ]
                                       }, {
                                          "localId" : "515",
                                          "locator" : "169:73-169:84",
                                          "name" : "doseFormName",
                                          "type" : "OperandRef"
                                       } ]
                                    }, {
                                       "localId" : "517",
                                       "locator" : "169:88-169:91",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : ": ",
                                       "type" : "Literal"
                                    } ]
                                 }, {
                                    "localId" : "520",
                                    "locator" : "169:95-169:115",
                                    "type" : "ToString",
                                    "operand" : {
                                       "localId" : "519",
                                       "locator" : "169:104-169:114",
                                       "name" : "dosesPerDay",
                                       "type" : "OperandRef"
                                    }
                                 } ]
                              }, {
                                 "localId" : "522",
                                 "locator" : "169:118-169:124",
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "/d * ",
                                 "type" : "Literal"
                              } ]
                           }, {
                              "localId" : "525",
                              "locator" : "169:128-169:149",
                              "type" : "ToString",
                              "operand" : {
                                 "localId" : "524",
                                 "locator" : "169:137-169:148",
                                 "name" : "doseQuantity",
                                 "type" : "OperandRef"
                              }
                           } ]
                        }, {
                           "localId" : "527",
                           "locator" : "169:152-169:156",
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : " = ",
                           "type" : "Literal"
                        } ]
                     }, {
                        "localId" : "530",
                        "locator" : "169:160-169:178",
                        "type" : "ToString",
                        "operand" : {
                           "localId" : "529",
                           "locator" : "169:169-169:177",
                           "name" : "dailyDose",
                           "type" : "OperandRef"
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "localId" : "557",
                  "locator" : "173:8-173:164",
                  "type" : "Concatenate",
                  "operand" : [ {
                     "localId" : "554",
                     "locator" : "173:8-173:142",
                     "type" : "Concatenate",
                     "operand" : [ {
                        "localId" : "552",
                        "locator" : "173:8-173:135",
                        "type" : "Concatenate",
                        "operand" : [ {
                           "localId" : "549",
                           "locator" : "173:8-173:114",
                           "type" : "Concatenate",
                           "operand" : [ {
                              "localId" : "547",
                              "locator" : "173:8-173:107",
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "localId" : "544",
                                 "locator" : "173:8-173:82",
                                 "type" : "Concatenate",
                                 "operand" : [ {
                                    "localId" : "542",
                                    "locator" : "173:8-173:73",
                                    "type" : "Concatenate",
                                    "operand" : [ {
                                       "localId" : "539",
                                       "locator" : "173:8-173:49",
                                       "type" : "Concatenate",
                                       "operand" : [ {
                                          "localId" : "537",
                                          "locator" : "173:8-173:42",
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "localId" : "535",
                                             "locator" : "173:8-173:27",
                                             "type" : "Concatenate",
                                             "operand" : [ {
                                                "localId" : "533",
                                                "locator" : "173:8-173:21",
                                                "name" : "ingredientName",
                                                "type" : "OperandRef"
                                             }, {
                                                "localId" : "534",
                                                "locator" : "173:25-173:27",
                                                "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                "value" : " ",
                                                "type" : "Literal"
                                             } ]
                                          }, {
                                             "localId" : "536",
                                             "locator" : "173:31-173:42",
                                             "name" : "doseFormName",
                                             "type" : "OperandRef"
                                          } ]
                                       }, {
                                          "localId" : "538",
                                          "locator" : "173:46-173:49",
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : ": ",
                                          "type" : "Literal"
                                       } ]
                                    }, {
                                       "localId" : "541",
                                       "locator" : "173:53-173:73",
                                       "type" : "ToString",
                                       "operand" : {
                                          "localId" : "540",
                                          "locator" : "173:62-173:72",
                                          "name" : "dosesPerDay",
                                          "type" : "OperandRef"
                                       }
                                    } ]
                                 }, {
                                    "localId" : "543",
                                    "locator" : "173:76-173:82",
                                    "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                    "value" : "/d * ",
                                    "type" : "Literal"
                                 } ]
                              }, {
                                 "localId" : "546",
                                 "locator" : "173:86-173:107",
                                 "type" : "ToString",
                                 "operand" : {
                                    "localId" : "545",
                                    "locator" : "173:95-173:106",
                                    "name" : "doseQuantity",
                                    "type" : "OperandRef"
                                 }
                              } ]
                           }, {
                              "localId" : "548",
                              "locator" : "173:110-173:114",
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : " * ",
                              "type" : "Literal"
                           } ]
                        }, {
                           "localId" : "551",
                           "locator" : "173:118-173:135",
                           "type" : "ToString",
                           "operand" : {
                              "localId" : "550",
                              "locator" : "173:127-173:134",
                              "name" : "strength",
                              "type" : "OperandRef"
                           }
                        } ]
                     }, {
                        "localId" : "553",
                        "locator" : "173:138-173:142",
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : " = ",
                        "type" : "Literal"
                     } ]
                  }, {
                     "localId" : "556",
                     "locator" : "173:146-173:164",
                     "type" : "ToString",
                     "operand" : {
                        "localId" : "555",
                        "locator" : "173:155-173:163",
                        "name" : "dailyDose",
                        "type" : "OperandRef"
                     }
                  } ]
               }
            },
            "operand" : [ {
               "name" : "ingredientCode",
               "operandTypeSpecifier" : {
                  "localId" : "469",
                  "locator" : "159:61-159:64",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "ingredientName",
               "operandTypeSpecifier" : {
                  "localId" : "470",
                  "locator" : "159:82-159:87",
                  "name" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "strength",
               "operandTypeSpecifier" : {
                  "localId" : "471",
                  "locator" : "159:99-159:106",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseFormCode",
               "operandTypeSpecifier" : {
                  "localId" : "472",
                  "locator" : "159:122-159:125",
                  "name" : "{urn:hl7-org:elm-types:r1}Code",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseFormName",
               "operandTypeSpecifier" : {
                  "localId" : "473",
                  "locator" : "159:141-159:146",
                  "name" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "doseQuantity",
               "operandTypeSpecifier" : {
                  "localId" : "474",
                  "locator" : "159:162-159:169",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "dosesPerDay",
               "operandTypeSpecifier" : {
                  "localId" : "475",
                  "locator" : "159:184-159:190",
                  "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                  "type" : "NamedTypeSpecifier"
               }
            }, {
               "name" : "dailyDose",
               "operandTypeSpecifier" : {
                  "localId" : "476",
                  "locator" : "159:203-159:210",
                  "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                  "type" : "NamedTypeSpecifier"
               }
            } ]
         }, {
            "localId" : "595",
            "locator" : "17:1-44:2",
            "name" : "CalculateMorphineMilligramEquivalents",
            "context" : "Patient",
            "accessLevel" : "Public",
            "type" : "FunctionDef",
            "annotation" : [ {
               "type" : "Annotation",
               "s" : {
                  "r" : "595",
                  "s" : [ {
                     "value" : [ "define function ","\"CalculateMorphineMilligramEquivalents\"","(","medications"," " ]
                  }, {
                     "r" : "19",
                     "s" : [ {
                        "value" : [ "List<" ]
                     }, {
                        "r" : "18",
                        "s" : [ {
                           "value" : [ "Tuple {\r\n\t" ]
                        }, {
                           "r" : "13",
                           "s" : [ {
                              "value" : [ "rxNormCode"," " ]
                           }, {
                              "r" : "12",
                              "s" : [ {
                                 "value" : [ "Code" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ ",\r\n\t" ]
                        }, {
                           "r" : "15",
                           "s" : [ {
                              "value" : [ "doseQuantity"," " ]
                           }, {
                              "r" : "14",
                              "s" : [ {
                                 "value" : [ "Quantity" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ ",\r\n\t" ]
                        }, {
                           "r" : "17",
                           "s" : [ {
                              "value" : [ "dosesPerDay"," " ]
                           }, {
                              "r" : "16",
                              "s" : [ {
                                 "value" : [ "Decimal" ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n}" ]
                        } ]
                     }, {
                        "value" : [ ">" ]
                     } ]
                  }, {
                     "value" : [ "):\r\n\t/*Converts the opioid drug strength to its MME*/\r\n\t" ]
                  }, {
                     "r" : "594",
                     "s" : [ {
                        "r" : "594",
                        "s" : [ {
                           "value" : [ "Flatten","(" ]
                        }, {
                           "r" : "593",
                           "s" : [ {
                              "s" : [ {
                                 "r" : "21",
                                 "s" : [ {
                                    "r" : "20",
                                    "s" : [ {
                                       "s" : [ {
                                          "value" : [ "medications" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ " ","Med" ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ "\r\n\t\t\t" ]
                           }, {
                              "s" : [ {
                                 "value" : [ "let " ]
                              }, {
                                 "r" : "117",
                                 "s" : [ {
                                    "value" : [ "Ingredients",": " ]
                                 }, {
                                    "r" : "116",
                                    "s" : [ {
                                       "value" : [ "\"GetIngredients\"","(" ]
                                    }, {
                                       "r" : "23",
                                       "s" : [ {
                                          "r" : "22",
                                          "s" : [ {
                                             "value" : [ "Med" ]
                                          } ]
                                       }, {
                                          "value" : [ "." ]
                                       }, {
                                          "r" : "23",
                                          "s" : [ {
                                             "value" : [ "rxNormCode" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ")" ]
                                    } ]
                                 } ]
                              } ]
                           }, {
                              "value" : [ "\r\n\t\t\t" ]
                           }, {
                              "r" : "592",
                              "s" : [ {
                                 "value" : [ "return " ]
                              }, {
                                 "r" : "591",
                                 "s" : [ {
                                    "s" : [ {
                                       "r" : "119",
                                       "s" : [ {
                                          "r" : "118",
                                          "s" : [ {
                                             "s" : [ {
                                                "value" : [ "Ingredients" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ " ","Drug" ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\r\n\t\t\t\t" ]
                                 }, {
                                    "s" : [ {
                                       "value" : [ "let " ]
                                    }, {
                                       "r" : "123",
                                       "s" : [ {
                                          "value" : [ "adjustedDoseQuantity",": " ]
                                       }, {
                                          "r" : "122",
                                          "s" : [ {
                                             "value" : [ "\"EnsureMicrogramQuantity\"","(" ]
                                          }, {
                                             "r" : "121",
                                             "s" : [ {
                                                "r" : "120",
                                                "s" : [ {
                                                   "value" : [ "Med" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "121",
                                                "s" : [ {
                                                   "value" : [ "doseQuantity" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ",\r\n\t\t\t\t" ]
                                    }, {
                                       "r" : "230",
                                       "s" : [ {
                                          "value" : [ "dailyDose",": " ]
                                       }, {
                                          "r" : "229",
                                          "s" : [ {
                                             "value" : [ "\"GetMedicationDailyDose\"","(" ]
                                          }, {
                                             "r" : "125",
                                             "s" : [ {
                                                "r" : "124",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "125",
                                                "s" : [ {
                                                   "value" : [ "ingredientCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "127",
                                             "s" : [ {
                                                "r" : "126",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "127",
                                                "s" : [ {
                                                   "value" : [ "strength" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "129",
                                             "s" : [ {
                                                "r" : "128",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "129",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "130",
                                             "s" : [ {
                                                "value" : [ "adjustedDoseQuantity" ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "132",
                                             "s" : [ {
                                                "r" : "131",
                                                "s" : [ {
                                                   "value" : [ "Med" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "132",
                                                "s" : [ {
                                                   "value" : [ "dosesPerDay" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ",\r\n\t\t\t\t" ]
                                    }, {
                                       "r" : "454",
                                       "s" : [ {
                                          "value" : [ "factor",": " ]
                                       }, {
                                          "r" : "453",
                                          "s" : [ {
                                             "value" : [ "\"GetConversionFactor\"","(" ]
                                          }, {
                                             "r" : "232",
                                             "s" : [ {
                                                "r" : "231",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "232",
                                                "s" : [ {
                                                   "value" : [ "ingredientCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "233",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "235",
                                             "s" : [ {
                                                "r" : "234",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "235",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ",\r\n\t\t\t\t" ]
                                    }, {
                                       "r" : "561",
                                       "s" : [ {
                                          "value" : [ "dailyDoseDescription",": " ]
                                       }, {
                                          "r" : "560",
                                          "s" : [ {
                                             "value" : [ "\"GetMedDailyDoseDescription\"","(" ]
                                          }, {
                                             "r" : "456",
                                             "s" : [ {
                                                "r" : "455",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "456",
                                                "s" : [ {
                                                   "value" : [ "ingredientCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "458",
                                             "s" : [ {
                                                "r" : "457",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "458",
                                                "s" : [ {
                                                   "value" : [ "ingredientName" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "460",
                                             "s" : [ {
                                                "r" : "459",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "460",
                                                "s" : [ {
                                                   "value" : [ "strength" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "462",
                                             "s" : [ {
                                                "r" : "461",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "462",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "464",
                                             "s" : [ {
                                                "r" : "463",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "464",
                                                "s" : [ {
                                                   "value" : [ "doseFormName" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "465",
                                             "s" : [ {
                                                "value" : [ "adjustedDoseQuantity" ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "467",
                                             "s" : [ {
                                                "r" : "466",
                                                "s" : [ {
                                                   "value" : [ "Med" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "467",
                                                "s" : [ {
                                                   "value" : [ "dosesPerDay" ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "r" : "468",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          }, {
                                             "value" : [ ")" ]
                                          } ]
                                       } ]
                                    }, {
                                       "value" : [ ",\r\n\t\t\t\t" ]
                                    }, {
                                       "r" : "571",
                                       "s" : [ {
                                          "value" : [ "MME",": " ]
                                       }, {
                                          "r" : "570",
                                          "s" : [ {
                                             "value" : [ "Quantity"," { " ]
                                          }, {
                                             "s" : [ {
                                                "value" : [ "value",": " ]
                                             }, {
                                                "r" : "565",
                                                "s" : [ {
                                                   "r" : "563",
                                                   "s" : [ {
                                                      "r" : "562",
                                                      "s" : [ {
                                                         "value" : [ "dailyDose" ]
                                                      } ]
                                                   }, {
                                                      "value" : [ "." ]
                                                   }, {
                                                      "r" : "563",
                                                      "s" : [ {
                                                         "value" : [ "value" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " * " ]
                                                }, {
                                                   "r" : "564",
                                                   "s" : [ {
                                                      "value" : [ "factor" ]
                                                   } ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ ", " ]
                                          }, {
                                             "s" : [ {
                                                "value" : [ "unit",": " ]
                                             }, {
                                                "r" : "569",
                                                "s" : [ {
                                                   "r" : "567",
                                                   "s" : [ {
                                                      "r" : "566",
                                                      "s" : [ {
                                                         "value" : [ "dailyDose" ]
                                                      } ]
                                                   }, {
                                                      "value" : [ "." ]
                                                   }, {
                                                      "r" : "567",
                                                      "s" : [ {
                                                         "value" : [ "unit" ]
                                                      } ]
                                                   } ]
                                                }, {
                                                   "value" : [ " + " ]
                                                }, {
                                                   "r" : "568",
                                                   "s" : [ {
                                                      "value" : [ "'/d'" ]
                                                   } ]
                                                } ]
                                             } ]
                                          }, {
                                             "value" : [ " }" ]
                                          } ]
                                       } ]
                                    } ]
                                 }, {
                                    "value" : [ "\r\n\t\t\t\t" ]
                                 }, {
                                    "r" : "590",
                                    "s" : [ {
                                       "value" : [ "return " ]
                                    }, {
                                       "r" : "589",
                                       "s" : [ {
                                          "value" : [ "{\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "rxNormCode",": " ]
                                          }, {
                                             "r" : "573",
                                             "s" : [ {
                                                "r" : "572",
                                                "s" : [ {
                                                   "value" : [ "Med" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "573",
                                                "s" : [ {
                                                   "value" : [ "rxNormCode" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "doseFormCode",": " ]
                                          }, {
                                             "r" : "575",
                                             "s" : [ {
                                                "r" : "574",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "575",
                                                "s" : [ {
                                                   "value" : [ "doseFormCode" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "doseQuantity",": " ]
                                          }, {
                                             "r" : "576",
                                             "s" : [ {
                                                "value" : [ "adjustedDoseQuantity" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "dosesPerDay",": " ]
                                          }, {
                                             "r" : "578",
                                             "s" : [ {
                                                "r" : "577",
                                                "s" : [ {
                                                   "value" : [ "Med" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "578",
                                                "s" : [ {
                                                   "value" : [ "dosesPerDay" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "ingredientCode",": " ]
                                          }, {
                                             "r" : "580",
                                             "s" : [ {
                                                "r" : "579",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "580",
                                                "s" : [ {
                                                   "value" : [ "ingredientCode" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "ingredientName",": " ]
                                          }, {
                                             "r" : "582",
                                             "s" : [ {
                                                "r" : "581",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "582",
                                                "s" : [ {
                                                   "value" : [ "ingredientName" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "strength",": " ]
                                          }, {
                                             "r" : "584",
                                             "s" : [ {
                                                "r" : "583",
                                                "s" : [ {
                                                   "value" : [ "Drug" ]
                                                } ]
                                             }, {
                                                "value" : [ "." ]
                                             }, {
                                                "r" : "584",
                                                "s" : [ {
                                                   "value" : [ "strength" ]
                                                } ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "dailyDose",": " ]
                                          }, {
                                             "r" : "585",
                                             "s" : [ {
                                                "value" : [ "dailyDose" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "dailyDoseDescription",": " ]
                                          }, {
                                             "r" : "586",
                                             "s" : [ {
                                                "value" : [ "dailyDoseDescription" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "conversionFactor",": " ]
                                          }, {
                                             "r" : "587",
                                             "s" : [ {
                                                "value" : [ "factor" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ ",\r\n\t\t\t\t\t" ]
                                       }, {
                                          "s" : [ {
                                             "value" : [ "MME",": " ]
                                          }, {
                                             "r" : "588",
                                             "s" : [ {
                                                "value" : [ "MME" ]
                                             } ]
                                          } ]
                                       }, {
                                          "value" : [ "\r\n\t\t\t\t}" ]
                                       } ]
                                    } ]
                                 } ]
                              } ]
                           } ]
                        }, {
                           "value" : [ "\r\n\t)" ]
                        } ]
                     } ]
                  } ]
               }
            } ],
            "expression" : {
               "localId" : "594",
               "locator" : "23:2-44:2",
               "type" : "Flatten",
               "operand" : {
                  "localId" : "593",
                  "locator" : "23:10-43:5",
                  "type" : "Query",
                  "source" : [ {
                     "localId" : "21",
                     "locator" : "23:10-23:24",
                     "alias" : "Med",
                     "expression" : {
                        "localId" : "20",
                        "locator" : "23:10-23:20",
                        "name" : "medications",
                        "type" : "OperandRef"
                     }
                  } ],
                  "let" : [ {
                     "localId" : "117",
                     "locator" : "24:8-24:52",
                     "identifier" : "Ingredients",
                     "expression" : {
                        "localId" : "116",
                        "locator" : "24:21-24:52",
                        "name" : "GetIngredients",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "localId" : "23",
                           "locator" : "24:38-24:51",
                           "path" : "rxNormCode",
                           "scope" : "Med",
                           "type" : "Property"
                        } ]
                     }
                  } ],
                  "relationship" : [ ],
                  "return" : {
                     "localId" : "592",
                     "locator" : "25:4-43:5",
                     "expression" : {
                        "localId" : "591",
                        "locator" : "25:11-43:5",
                        "type" : "Query",
                        "source" : [ {
                           "localId" : "119",
                           "locator" : "25:11-25:26",
                           "alias" : "Drug",
                           "expression" : {
                              "localId" : "118",
                              "locator" : "25:11-25:21",
                              "name" : "Ingredients",
                              "type" : "QueryLetRef"
                           }
                        } ],
                        "let" : [ {
                           "localId" : "123",
                           "locator" : "26:9-26:73",
                           "identifier" : "adjustedDoseQuantity",
                           "expression" : {
                              "localId" : "122",
                              "locator" : "26:31-26:73",
                              "name" : "EnsureMicrogramQuantity",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "localId" : "121",
                                 "locator" : "26:57-26:72",
                                 "path" : "doseQuantity",
                                 "scope" : "Med",
                                 "type" : "Property"
                              } ]
                           }
                        }, {
                           "localId" : "230",
                           "locator" : "27:5-27:133",
                           "identifier" : "dailyDose",
                           "expression" : {
                              "localId" : "229",
                              "locator" : "27:16-27:133",
                              "name" : "GetMedicationDailyDose",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "localId" : "125",
                                 "locator" : "27:41-27:59",
                                 "path" : "ingredientCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "127",
                                 "locator" : "27:62-27:74",
                                 "path" : "strength",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "129",
                                 "locator" : "27:77-27:93",
                                 "path" : "doseFormCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "130",
                                 "locator" : "27:96-27:115",
                                 "name" : "adjustedDoseQuantity",
                                 "type" : "QueryLetRef"
                              }, {
                                 "localId" : "132",
                                 "locator" : "27:118-27:132",
                                 "path" : "dosesPerDay",
                                 "scope" : "Med",
                                 "type" : "Property"
                              } ]
                           }
                        }, {
                           "localId" : "454",
                           "locator" : "28:5-28:84",
                           "identifier" : "factor",
                           "expression" : {
                              "localId" : "453",
                              "locator" : "28:13-28:84",
                              "name" : "GetConversionFactor",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "localId" : "232",
                                 "locator" : "28:35-28:53",
                                 "path" : "ingredientCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "233",
                                 "locator" : "28:56-28:64",
                                 "name" : "dailyDose",
                                 "type" : "QueryLetRef"
                              }, {
                                 "localId" : "235",
                                 "locator" : "28:67-28:83",
                                 "path" : "doseFormCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              } ]
                           }
                        }, {
                           "localId" : "561",
                           "locator" : "29:5-29:199",
                           "identifier" : "dailyDoseDescription",
                           "expression" : {
                              "localId" : "560",
                              "locator" : "29:27-29:199",
                              "name" : "GetMedDailyDoseDescription",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "localId" : "456",
                                 "locator" : "29:56-29:74",
                                 "path" : "ingredientCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "458",
                                 "locator" : "29:77-29:95",
                                 "path" : "ingredientName",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "460",
                                 "locator" : "29:98-29:110",
                                 "path" : "strength",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "462",
                                 "locator" : "29:113-29:129",
                                 "path" : "doseFormCode",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "464",
                                 "locator" : "29:132-29:148",
                                 "path" : "doseFormName",
                                 "scope" : "Drug",
                                 "type" : "Property"
                              }, {
                                 "localId" : "465",
                                 "locator" : "29:151-29:170",
                                 "name" : "adjustedDoseQuantity",
                                 "type" : "QueryLetRef"
                              }, {
                                 "localId" : "467",
                                 "locator" : "29:173-29:187",
                                 "path" : "dosesPerDay",
                                 "scope" : "Med",
                                 "type" : "Property"
                              }, {
                                 "localId" : "468",
                                 "locator" : "29:190-29:198",
                                 "name" : "dailyDose",
                                 "type" : "QueryLetRef"
                              } ]
                           }
                        }, {
                           "localId" : "571",
                           "locator" : "30:5-30:82",
                           "identifier" : "MME",
                           "expression" : {
                              "localId" : "570",
                              "locator" : "30:10-30:82",
                              "classType" : "{urn:hl7-org:elm-types:r1}Quantity",
                              "type" : "Instance",
                              "element" : [ {
                                 "name" : "value",
                                 "value" : {
                                    "localId" : "565",
                                    "locator" : "30:28-30:51",
                                    "type" : "Multiply",
                                    "operand" : [ {
                                       "localId" : "563",
                                       "locator" : "30:28-30:42",
                                       "path" : "value",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "562",
                                          "locator" : "30:28-30:36",
                                          "name" : "dailyDose",
                                          "type" : "QueryLetRef"
                                       }
                                    }, {
                                       "localId" : "564",
                                       "locator" : "30:46-30:51",
                                       "name" : "factor",
                                       "type" : "QueryLetRef"
                                    } ]
                                 }
                              }, {
                                 "name" : "unit",
                                 "value" : {
                                    "localId" : "569",
                                    "locator" : "30:60-30:80",
                                    "type" : "Concatenate",
                                    "operand" : [ {
                                       "localId" : "567",
                                       "locator" : "30:60-30:73",
                                       "path" : "unit",
                                       "type" : "Property",
                                       "source" : {
                                          "localId" : "566",
                                          "locator" : "30:60-30:68",
                                          "name" : "dailyDose",
                                          "type" : "QueryLetRef"
                                       }
                                    }, {
                                       "localId" : "568",
                                       "locator" : "30:77-30:80",
                                       "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                       "value" : "/d",
                                       "type" : "Literal"
                                    } ]
                                 }
                              } ]
                           }
                        } ],
                        "relationship" : [ ],
                        "return" : {
                           "localId" : "590",
                           "locator" : "31:5-43:5",
                           "expression" : {
                              "localId" : "589",
                              "locator" : "31:12-43:5",
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "rxNormCode",
                                 "value" : {
                                    "localId" : "573",
                                    "locator" : "32:18-32:31",
                                    "path" : "rxNormCode",
                                    "scope" : "Med",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "doseFormCode",
                                 "value" : {
                                    "localId" : "575",
                                    "locator" : "33:20-33:36",
                                    "path" : "doseFormCode",
                                    "scope" : "Drug",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "doseQuantity",
                                 "value" : {
                                    "localId" : "576",
                                    "locator" : "34:20-34:39",
                                    "name" : "adjustedDoseQuantity",
                                    "type" : "QueryLetRef"
                                 }
                              }, {
                                 "name" : "dosesPerDay",
                                 "value" : {
                                    "localId" : "578",
                                    "locator" : "35:19-35:33",
                                    "path" : "dosesPerDay",
                                    "scope" : "Med",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "ingredientCode",
                                 "value" : {
                                    "localId" : "580",
                                    "locator" : "36:22-36:40",
                                    "path" : "ingredientCode",
                                    "scope" : "Drug",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "ingredientName",
                                 "value" : {
                                    "localId" : "582",
                                    "locator" : "37:22-37:40",
                                    "path" : "ingredientName",
                                    "scope" : "Drug",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "strength",
                                 "value" : {
                                    "localId" : "584",
                                    "locator" : "38:16-38:28",
                                    "path" : "strength",
                                    "scope" : "Drug",
                                    "type" : "Property"
                                 }
                              }, {
                                 "name" : "dailyDose",
                                 "value" : {
                                    "localId" : "585",
                                    "locator" : "39:17-39:25",
                                    "name" : "dailyDose",
                                    "type" : "QueryLetRef"
                                 }
                              }, {
                                 "name" : "dailyDoseDescription",
                                 "value" : {
                                    "localId" : "586",
                                    "locator" : "40:28-40:47",
                                    "name" : "dailyDoseDescription",
                                    "type" : "QueryLetRef"
                                 }
                              }, {
                                 "name" : "conversionFactor",
                                 "value" : {
                                    "localId" : "587",
                                    "locator" : "41:24-41:29",
                                    "name" : "factor",
                                    "type" : "QueryLetRef"
                                 }
                              }, {
                                 "name" : "MME",
                                 "value" : {
                                    "localId" : "588",
                                    "locator" : "42:11-42:13",
                                    "name" : "MME",
                                    "type" : "QueryLetRef"
                                 }
                              } ]
                           }
                        }
                     }
                  }
               }
            },
            "operand" : [ {
               "name" : "medications",
               "operandTypeSpecifier" : {
                  "localId" : "19",
                  "locator" : "17:69-21:2",
                  "type" : "ListTypeSpecifier",
                  "elementType" : {
                     "localId" : "18",
                     "locator" : "17:74-21:1",
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "localId" : "13",
                        "locator" : "18:2-18:16",
                        "name" : "rxNormCode",
                        "elementType" : {
                           "localId" : "12",
                           "locator" : "18:13-18:16",
                           "name" : "{urn:hl7-org:elm-types:r1}Code",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "localId" : "15",
                        "locator" : "19:2-19:22",
                        "name" : "doseQuantity",
                        "elementType" : {
                           "localId" : "14",
                           "locator" : "19:15-19:22",
                           "name" : "{urn:hl7-org:elm-types:r1}Quantity",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "localId" : "17",
                        "locator" : "20:2-20:20",
                        "name" : "dosesPerDay",
                        "elementType" : {
                           "localId" : "16",
                           "locator" : "20:14-20:20",
                           "name" : "{urn:hl7-org:elm-types:r1}Decimal",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            } ]
         } ]
      }
   }
}

