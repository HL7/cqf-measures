<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <identifier id="PotentialOpioidOveruse_FHIR" version="0.1.082"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:35" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="3.0.0"/>
      <def localId="3" locator="6:1-6:69" localIdentifier="Global" path="MATGlobalCommonFunctions_FHIR" version="2.0.000"/>
      <def localId="4" locator="7:1-7:72" localIdentifier="OpioidConversionLogic" path="OpioidConversion" version="1.21.000"/>
      <def localId="5" locator="8:1-8:55" localIdentifier="Timing" path="DayMonthTimings" version="0.9.000"/>
   </includes>
   <parameters>
      <def localId="67" locator="51:1-51:49" name="Measurement Period" accessLevel="Public">
         <parameterTypeSpecifier localId="66" locator="51:32-51:49" xsi:type="IntervalTypeSpecifier">
            <pointType localId="65" locator="51:41-51:48" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="6" locator="10:1-10:97" name="SNOMEDCT:2018-03" id="urn:oid:2.16.840.1.113883.6.96" version="urn:hl7:version:2018-03" accessLevel="Public"/>
      <def localId="7" locator="11:1-11:55" name="SNOMEDCT" id="urn:oid:2.16.840.1.113883.6.96" accessLevel="Public"/>
   </codeSystems>
   <valueSets>
      <def localId="8" locator="13:1-13:68" name="ONC Administrative Sex" id="urn:oid:2.16.840.1.113762.1.4.1" accessLevel="Public"/>
      <def localId="9" locator="14:1-14:53" name="Race" id="urn:oid:2.16.840.1.114222.4.11.836" accessLevel="Public"/>
      <def localId="10" locator="15:1-15:58" name="Ethnicity" id="urn:oid:2.16.840.1.114222.4.11.837" accessLevel="Public"/>
      <def localId="11" locator="16:1-16:55" name="Payer" id="urn:oid:2.16.840.1.114222.4.11.3591" accessLevel="Public"/>
      <def localId="12" locator="17:1-17:75" name="Office Visit" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001" accessLevel="Public"/>
      <def localId="13" locator="18:1-18:125" name="Preventive Care Services - Established Office Visit, 18 and Up" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025" accessLevel="Public"/>
      <def localId="14" locator="19:1-19:119" name="Preventive Care Services-Initial Office Visit, 18 and Up" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023" accessLevel="Public"/>
      <def localId="15" locator="20:1-20:95" name="Preventive Care Services - Other" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1030" accessLevel="Public"/>
      <def localId="16" locator="21:1-21:83" name="Face to Face Interaction - No ED" id="urn:oid:2.16.840.1.113762.1.4.1080.2" accessLevel="Public"/>
      <def localId="17" locator="22:1-22:68" name="Palliative Care" id="urn:oid:2.16.840.1.113883.3.600.1.1579" accessLevel="Public"/>
      <def localId="18" locator="23:1-23:71" name="Hospice Care SNO" id="urn:oid:2.16.840.1.113883.3.3157.1004.20" accessLevel="Public"/>
      <def localId="19" locator="24:1-24:73" name="All Cancer" id="urn:oid:2.16.840.1.113883.3.464.1003.108.12.1011" accessLevel="Public"/>
      <def localId="20" locator="25:1-25:80" name="Sickle Cell Disease SNOMEDCT" id="urn:oid:2.16.840.1.113762.1.4.1029.33" accessLevel="Public"/>
      <def localId="21" locator="26:1-26:86" name="Outpatient Consultation" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008" accessLevel="Public"/>
      <def localId="22" locator="27:1-27:73" name="Opioid Medications" id="urn:oid:2.16.840.1.113883.3.3157.1004.26" accessLevel="Public"/>
   </valueSets>
   <codes>
      <def localId="24" locator="29:1-29:125" name="Every eight hours (qualifier value)" id="307469008" display="Every eight hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="23" locator="29:62-29:79" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="26" locator="30:1-30:137" name="Every eight to twelve hours (qualifier value)" id="396140003" display="Every eight to twelve hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="25" locator="30:72-30:81" name="SNOMEDCT"/>
      </def>
      <def localId="28" locator="31:1-31:137" name="Every forty eight hours (qualifier value)" id="396131002" display="Every forty eight hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="27" locator="31:68-31:85" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="30" locator="32:1-32:115" name="Every four hours (qualifier value)" id="225756002" display="Every four hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="29" locator="32:61-32:70" name="SNOMEDCT"/>
      </def>
      <def localId="32" locator="33:1-33:137" name="Every seventy two hours (qualifier value)" id="396143001" display="Every seventy two hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="31" locator="33:68-33:85" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="34" locator="34:1-34:121" name="Every six hours (qualifier value)" id="307468000" display="Every six hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="33" locator="34:60-34:77" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="36" locator="35:1-35:131" name="Every six to eight hours (qualifier value)" id="396139000" display="Every six to eight hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="35" locator="35:69-35:78" name="SNOMEDCT"/>
      </def>
      <def localId="38" locator="36:1-36:135" name="Every thirty six hours (qualifier value)" id="396126004" display="Every thirty six hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="37" locator="36:67-36:84" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="40" locator="37:1-37:133" name="Every three to four hours (qualifier value)" id="225754004" display="Every three to four hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="39" locator="37:70-37:79" name="SNOMEDCT"/>
      </def>
      <def localId="42" locator="38:1-38:131" name="Every three to six hours (qualifier value)" id="396127008" display="Every three to six hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="41" locator="38:69-38:78" name="SNOMEDCT"/>
      </def>
      <def localId="44" locator="39:1-39:127" name="Every twelve hours (qualifier value)" id="307470009" display="Every twelve hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="43" locator="39:63-39:80" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="46" locator="40:1-40:137" name="Every twenty four hours (qualifier value)" id="396125000" display="Every twenty four hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="45" locator="40:68-40:85" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="48" locator="41:1-41:129" name="Every two to four hours (qualifier value)" id="225752000" display="Every two to four hours (qualifier value)" accessLevel="Public">
         <codeSystem localId="47" locator="41:68-41:77" name="SNOMEDCT"/>
      </def>
      <def localId="50" locator="42:1-42:123" name="Four times daily (qualifier value)" id="307439001" display="Four times daily (qualifier value)" accessLevel="Public">
         <codeSystem localId="49" locator="42:61-42:78" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="52" locator="43:1-43:111" name="Once daily (qualifier value)" id="229797004" display="Once daily (qualifier value)" accessLevel="Public">
         <codeSystem localId="51" locator="43:55-43:72" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="54" locator="44:1-44:129" name="One to four times a day (qualifier value)" id="396109005" display="One to four times a day (qualifier value)" accessLevel="Public">
         <codeSystem localId="53" locator="44:68-44:77" name="SNOMEDCT"/>
      </def>
      <def localId="56" locator="45:1-45:131" name="One to three times a day (qualifier value)" id="396108002" display="One to three times a day (qualifier value)" accessLevel="Public">
         <codeSystem localId="55" locator="45:69-45:78" name="SNOMEDCT"/>
      </def>
      <def localId="58" locator="46:1-46:127" name="One to two times a day (qualifier value)" id="396107007" display="One to two times a day (qualifier value)" accessLevel="Public">
         <codeSystem localId="57" locator="46:67-46:76" name="SNOMEDCT"/>
      </def>
      <def localId="60" locator="47:1-47:125" name="Three times daily (qualifier value)" id="229798009" display="Three times daily (qualifier value)" accessLevel="Public">
         <codeSystem localId="59" locator="47:62-47:79" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="62" locator="48:1-48:113" name="Twice a day (qualifier value)" id="229799001" display="Twice a day (qualifier value)" accessLevel="Public">
         <codeSystem localId="61" locator="48:56-48:73" name="SNOMEDCT:2018-03"/>
      </def>
      <def localId="64" locator="49:1-49:129" name="Two to four times a day (qualifier value)" id="396111001" display="Two to four times a day (qualifier value)" accessLevel="Public">
         <codeSystem localId="63" locator="49:68-49:77" name="SNOMEDCT"/>
      </def>
   </codes>
   <statements>
      <def locator="53:1-53:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="53:1-53:15" dataType="fhir:Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="101" locator="143:1-152:52" name="Encounters during Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="101">
               <a:s>define &quot;Encounters during Measurement Period&quot;:&#xd;
	/*Determines if qualifying encounters were performed during the Measurement Period*/&#xd;
	</a:s>
               <a:s r="100">
                  <a:s>
                     <a:s r="88">
                        <a:s r="87">
                           <a:s>( </a:s>
                           <a:s r="87">
                              <a:s r="85">
                                 <a:s r="83">
                                    <a:s r="81">
                                       <a:s r="79">
                                          <a:s r="77">
                                             <a:s>[&quot;Encounter&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Face to Face Interaction - No ED&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>&#xd;
		union </a:s>
                                          <a:s r="78">
                                             <a:s>[&quot;Encounter&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Office Visit&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
		union </a:s>
                                       <a:s r="80">
                                          <a:s>[&quot;Encounter&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Preventive Care Services - Established Office Visit, 18 and Up&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
		union </a:s>
                                    <a:s r="82">
                                       <a:s>[&quot;Encounter&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Preventive Care Services-Initial Office Visit, 18 and Up&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
		union </a:s>
                                 <a:s r="84">
                                    <a:s>[&quot;Encounter&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Outpatient Consultation&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="86">
                                 <a:s>[&quot;Encounter&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Preventive Care Services - Other&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> Encounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="99">
                     <a:s>where </a:s>
                     <a:s r="99">
                        <a:s r="94">
                           <a:s r="90">
                              <a:s r="89">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="90">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="93">
                              <a:s>{ </a:s>
                              <a:s r="91">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="92">
                                 <a:s>'finished'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		  and </a:s>
                        <a:s r="98">
                           <a:s r="96">
                              <a:s r="95">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="96">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="98"> during </a:s>
                           <a:s r="97">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="100" locator="145:2-152:52" xsi:type="Query">
            <source localId="88" locator="145:2-150:69" alias="Encounter">
               <expression localId="87" locator="145:2-150:59" xsi:type="Union">
                  <operand localId="83" locator="145:4-148:81" xsi:type="Union">
                     <operand localId="79" locator="145:4-146:37" xsi:type="Union">
                        <operand localId="77" locator="145:4-145:52" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                           <codes name="Face to Face Interaction - No ED" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="78" locator="146:9-146:37" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                           <codes name="Office Visit" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="80" locator="147:9-147:87" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                           <codes name="Preventive Care Services - Established Office Visit, 18 and Up" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="82" locator="148:9-148:81" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                           <codes name="Preventive Care Services-Initial Office Visit, 18 and Up" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="84" locator="149:9-149:48" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                        <codes name="Outpatient Consultation" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="86" locator="150:9-150:57" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                        <codes name="Preventive Care Services - Other" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
               </expression>
            </source>
            <where localId="99" locator="151:3-152:52" xsi:type="And">
               <operand localId="94" locator="151:9-151:57" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="90" locator="151:9-151:24" path="status" scope="Encounter" xsi:type="Property"/>
                  </operand>
                  <operand localId="93" locator="151:29-151:57" xsi:type="List">
                     <element localId="91" locator="151:31-151:43" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="92" locator="151:46-151:55" valueType="t:String" value="finished" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="98" locator="152:9-152:52" xsi:type="In">
                  <operand localId="96" locator="152:9-152:24" path="period" scope="Encounter" xsi:type="Property"/>
                  <operand localId="97" locator="152:33-152:52" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="134" locator="85:1-91:33" name="Opioid Medication Order during Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="134">
               <a:s>define &quot;Opioid Medication Order during Measurement Period&quot;:&#xd;
	/*An active opioid medication order during or overlapping the start of the measurement period*/&#xd;
	</a:s>
               <a:s r="133">
                  <a:s>
                     <a:s r="106">
                        <a:s r="105">
                           <a:s r="105">
                              <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                              <a:s>
                                 <a:s>&quot;Opioid Medications&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> OpioidMedicationOrder</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="132">
                     <a:s>where </a:s>
                     <a:s r="132">
                        <a:s r="110">
                           <a:s r="108">
                              <a:s r="107">
                                 <a:s>OpioidMedicationOrder</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="108">
                                 <a:s>intent</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="109">
                              <a:s>'order'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		  and </a:s>
                        <a:s r="131">
                           <a:s r="129">
                              <a:s>Interval[</a:s>
                              <a:s r="116">
                                 <a:s>start of </a:s>
                                 <a:s r="115">
                                    <a:s r="111">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="115">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="114">
                                          <a:s r="113">
                                             <a:s r="112">
                                                <a:s>OpioidMedicationOrder</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="113">
                                                <a:s>dispenseRequest</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="114">
                                             <a:s>validityPeriod</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>,&#xd;
			 	</a:s>
                              <a:s r="128">
                                 <a:s r="122">
                                    <a:s>start of </a:s>
                                    <a:s r="121">
                                       <a:s r="117">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="121">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="120">
                                             <a:s r="119">
                                                <a:s r="118">
                                                   <a:s>OpioidMedicationOrder</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="119">
                                                   <a:s>dispenseRequest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="120">
                                                <a:s>validityPeriod</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> + </a:s>
                                 <a:s r="127">
                                    <a:s r="123">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="127">
                                       <a:s>ToQuantity(</a:s>
                                       <a:s r="126">
                                          <a:s r="125">
                                             <a:s r="124">
                                                <a:s>OpioidMedicationOrder</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="125">
                                                <a:s>dispenseRequest</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="126">
                                             <a:s>expectedSupplyDuration</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                           <a:s r="131"> &#xd;
				overlaps </a:s>
                           <a:s r="130">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="133" locator="87:2-91:33" xsi:type="Query">
            <source localId="106" locator="87:2-87:80" alias="OpioidMedicationOrder">
               <expression localId="105" locator="87:2-87:58" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                  <codes name="Opioid Medications" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="132" locator="88:3-91:33" xsi:type="And">
               <operand localId="110" locator="88:9-88:46" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="108" locator="88:9-88:36" path="intent" scope="OpioidMedicationOrder" xsi:type="Property"/>
                  </operand>
                  <operand localId="109" locator="88:40-88:46" valueType="t:String" value="order" xsi:type="Literal"/>
               </operand>
               <operand localId="131" locator="89:9-91:33" xsi:type="Overlaps">
                  <operand localId="129" locator="89:9-90:178" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="116" locator="89:18-89:102" xsi:type="Start">
                        <operand localId="115" locator="89:27-89:102" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="114" locator="89:50-89:101" path="validityPeriod" xsi:type="Property">
                              <source localId="113" locator="89:50-89:86" path="dispenseRequest" scope="OpioidMedicationOrder" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </low>
                     <high localId="128" locator="90:6-90:177" xsi:type="Add">
                        <operand localId="122" locator="90:6-90:90" xsi:type="Start">
                           <operand localId="121" locator="90:15-90:90" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="120" locator="90:38-90:89" path="validityPeriod" xsi:type="Property">
                                 <source localId="119" locator="90:38-90:74" path="dispenseRequest" scope="OpioidMedicationOrder" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="127" locator="90:94-90:177" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="126" locator="90:117-90:176" path="expectedSupplyDuration" xsi:type="Property">
                              <source localId="125" locator="90:117-90:153" path="dispenseRequest" scope="OpioidMedicationOrder" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </high>
                  </operand>
                  <operand localId="130" locator="91:14-91:33" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="162" locator="99:1-107:3" name="Opioid Medication Periods in Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="162">
               <a:s>define &quot;Opioid Medication Periods in Measurement Period&quot;:&#xd;
	/*Creates a list that has the medication and the period of the medication in the measurement period*/&#xd;
	</a:s>
               <a:s r="161">
                  <a:s>
                     <a:s r="136">
                        <a:s r="135">
                           <a:s>
                              <a:s>&quot;Opioid Medication Order during Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Opioid</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="160">
                     <a:s>return </a:s>
                     <a:s r="159">
                        <a:s>{&#xd;
			</a:s>
                        <a:s>
                           <a:s>periodInMP: </a:s>
                           <a:s r="157">
                              <a:s r="155">
                                 <a:s>Interval[</a:s>
                                 <a:s r="142">
                                    <a:s>start of </a:s>
                                    <a:s r="141">
                                       <a:s r="137">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="141">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="140">
                                             <a:s r="139">
                                                <a:s r="138">
                                                   <a:s>Opioid</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="139">
                                                   <a:s>dispenseRequest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="140">
                                                <a:s>validityPeriod</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, &#xd;
					</a:s>
                                 <a:s r="154">
                                    <a:s r="148">
                                       <a:s>start of </a:s>
                                       <a:s r="147">
                                          <a:s r="143">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="147">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="146">
                                                <a:s r="145">
                                                   <a:s r="144">
                                                      <a:s>Opioid</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="145">
                                                      <a:s>dispenseRequest</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="146">
                                                   <a:s>validityPeriod</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="153">
                                       <a:s r="149">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="153">
                                          <a:s>ToQuantity(</a:s>
                                          <a:s r="152">
                                             <a:s r="151">
                                                <a:s r="150">
                                                   <a:s>Opioid</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="151">
                                                   <a:s>dispenseRequest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="152">
                                                <a:s>expectedSupplyDuration</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                              <a:s>&#xd;
				intersect </a:s>
                              <a:s r="156">
                                 <a:s>&quot;Measurement Period&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>med: </a:s>
                           <a:s r="158">
                              <a:s>Opioid</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		}</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="161" locator="101:2-107:3" xsi:type="Query">
            <source localId="136" locator="101:2-101:59" alias="Opioid">
               <expression localId="135" locator="101:2-101:52" name="Opioid Medication Order during Measurement Period" xsi:type="ExpressionRef"/>
            </source>
            <return localId="160" locator="102:3-107:3">
               <expression localId="159" locator="102:10-107:3" xsi:type="Tuple">
                  <element name="periodInMP">
                     <value localId="157" locator="103:16-105:34" xsi:type="Intersect">
                        <operand localId="155" locator="103:16-104:148" lowClosed="true" highClosed="true" xsi:type="Interval">
                           <low localId="142" locator="103:25-103:94" xsi:type="Start">
                              <operand localId="141" locator="103:34-103:94" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="140" locator="103:57-103:93" path="validityPeriod" xsi:type="Property">
                                    <source localId="139" locator="103:57-103:78" path="dispenseRequest" scope="Opioid" xsi:type="Property"/>
                                 </operand>
                              </operand>
                           </low>
                           <high localId="154" locator="104:6-104:147" xsi:type="Add">
                              <operand localId="148" locator="104:6-104:75" xsi:type="Start">
                                 <operand localId="147" locator="104:15-104:75" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="146" locator="104:38-104:74" path="validityPeriod" xsi:type="Property">
                                       <source localId="145" locator="104:38-104:59" path="dispenseRequest" scope="Opioid" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                              </operand>
                              <operand localId="153" locator="104:79-104:147" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="152" locator="104:102-104:146" path="expectedSupplyDuration" xsi:type="Property">
                                    <source localId="151" locator="104:102-104:123" path="dispenseRequest" scope="Opioid" xsi:type="Property"/>
                                 </operand>
                              </operand>
                           </high>
                        </operand>
                        <operand localId="156" locator="105:15-105:34" name="Measurement Period" xsi:type="ParameterRef"/>
                     </value>
                  </element>
                  <element name="med">
                     <value localId="158" locator="106:9-106:14" name="Opioid" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="170" locator="93:1-97:2" name="Opioid Medication Periods" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="170">
               <a:s>define &quot;Opioid Medication Periods&quot;:&#xd;
	/*All intervals of opioid medications, associated with the measurement period, and returns a unique set of intervals that covers all time periods for all opioid prescriptions*/&#xd;
	</a:s>
               <a:s r="169">
                  <a:s>collapse </a:s>
                  <a:s r="168">
                     <a:s>( </a:s>
                     <a:s r="168">
                        <a:s>
                           <a:s r="164">
                              <a:s r="163">
                                 <a:s>
                                    <a:s>&quot;Opioid Medication Periods in Measurement Period&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> OpioidPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="167">
                           <a:s>return </a:s>
                           <a:s r="166">
                              <a:s r="165">
                                 <a:s>OpioidPeriod</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="166">
                                 <a:s>periodInMP</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="169" locator="95:2-97:2" xsi:type="Collapse">
            <operand localId="168" locator="95:11-97:2" xsi:type="Query">
               <source localId="164" locator="95:13-95:74" alias="OpioidPeriod">
                  <expression localId="163" locator="95:13-95:61" name="Opioid Medication Periods in Measurement Period" xsi:type="ExpressionRef"/>
               </source>
               <return localId="167" locator="96:4-96:33">
                  <expression localId="166" locator="96:11-96:33" path="periodInMP" scope="OpioidPeriod" xsi:type="Property"/>
               </return>
            </operand>
            <operand resultTypeName="t:Quantity" xsi:type="Null"/>
         </expression>
      </def>
      <def localId="192" locator="135:1-141:65" name="Gaps in Active Opioid Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="192">
               <a:s>define &quot;Gaps in Active Opioid Period&quot;:&#xd;
	/*Creates a list of the opioid medications and its start and end dates within the measurement period*/&#xd;
	</a:s>
               <a:s r="191">
                  <a:s>
                     <a:s r="172">
                        <a:s r="171">
                           <a:s>
                              <a:s>&quot;Opioid Medication Periods&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Period</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="178">
                        <a:s>NextIndex: </a:s>
                        <a:s r="177">
                           <a:s r="175">
                              <a:s>IndexOf(</a:s>
                              <a:s r="173">
                                 <a:s>&quot;Opioid Medication Periods&quot;</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="174">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="176">+ 1</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="182">
                     <a:s>where </a:s>
                     <a:s r="182">
                        <a:s r="179">
                           <a:s>NextIndex</a:s>
                        </a:s>
                        <a:s> &lt; </a:s>
                        <a:s r="181">
                           <a:s>Length(</a:s>
                           <a:s r="180">
                              <a:s>&quot;Opioid Medication Periods&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="190">
                     <a:s>return </a:s>
                     <a:s r="189">
                        <a:s>Interval ( &#xd;
		</a:s>
                        <a:s r="184">
                           <a:s>end of </a:s>
                           <a:s r="183">
                              <a:s>Period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="188">
                           <a:s>start of </a:s>
                           <a:s r="187">
                              <a:s r="185">
                                 <a:s>&quot;Opioid Medication Periods&quot;</a:s>
                              </a:s>
                              <a:s>[</a:s>
                              <a:s r="186">
                                 <a:s>NextIndex</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="191" locator="137:2-141:65" xsi:type="Query">
            <source localId="172" locator="137:2-137:35" alias="Period">
               <expression localId="171" locator="137:2-137:28" name="Opioid Medication Periods" xsi:type="ExpressionRef"/>
            </source>
            <let localId="178" locator="138:7-138:64" identifier="NextIndex">
               <expression localId="177" locator="138:18-138:64" xsi:type="Add">
                  <operand localId="175" locator="138:18-138:61" xsi:type="IndexOf">
                     <source localId="173" locator="138:26-138:52" name="Opioid Medication Periods" xsi:type="ExpressionRef"/>
                     <element localId="174" locator="138:55-138:60" name="Period" xsi:type="AliasRef"/>
                  </operand>
                  <operand localId="176" locator="138:64" valueType="t:Integer" value="1" xsi:type="Literal"/>
               </expression>
            </let>
            <where localId="182" locator="139:3-139:55" xsi:type="Less">
               <operand localId="179" locator="139:9-139:17" name="NextIndex" xsi:type="QueryLetRef"/>
               <operand localId="181" locator="139:21-139:55" xsi:type="Length">
                  <operand localId="180" locator="139:28-139:54" name="Opioid Medication Periods" xsi:type="ExpressionRef"/>
               </operand>
            </where>
            <return localId="190" locator="140:3-141:65">
               <expression localId="189" locator="140:10-141:65" lowClosed="false" highClosed="false" xsi:type="Interval">
                  <low localId="184" locator="141:3-141:15" xsi:type="End">
                     <operand localId="183" locator="141:10-141:15" name="Period" xsi:type="AliasRef"/>
                  </low>
                  <high localId="188" locator="141:18-141:64" xsi:type="Start">
                     <operand localId="187" locator="141:27-141:64" xsi:type="Indexer">
                        <operand localId="185" locator="141:27-141:53" name="Opioid Medication Periods" xsi:type="ExpressionRef"/>
                        <operand localId="186" locator="141:55-141:63" name="NextIndex" xsi:type="QueryLetRef"/>
                     </operand>
                  </high>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="200" locator="73:1-76:35" name="Gaps in Active Opioid Period Greater Than 7 Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="200">
               <a:s>define &quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;:&#xd;
	/*Assesses for gaps of more than 7 days between opioid medications*/&#xd;
	</a:s>
               <a:s r="199">
                  <a:s>
                     <a:s r="194">
                        <a:s r="193">
                           <a:s>
                              <a:s>&quot;Gaps in Active Opioid Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Gap</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="198">
                     <a:s>where </a:s>
                     <a:s r="198">
                        <a:s r="196">
                           <a:s>duration in days of </a:s>
                           <a:s r="195">
                              <a:s>Gap</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="197"> > 7</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="199" locator="75:2-76:35" xsi:type="Query">
            <source localId="194" locator="75:2-75:35" alias="Gap">
               <expression localId="193" locator="75:2-75:31" name="Gaps in Active Opioid Period" xsi:type="ExpressionRef"/>
            </source>
            <where localId="198" locator="76:3-76:35" xsi:type="Greater">
               <operand localId="196" locator="76:9-76:31" precision="Day" xsi:type="DurationBetween">
                  <operand xsi:type="Start">
                     <operand localId="195" locator="76:29-76:31" name="Gap" xsi:type="AliasRef"/>
                  </operand>
                  <operand xsi:type="End">
                     <operand localId="195" locator="76:29-76:31" name="Gap" xsi:type="AliasRef"/>
                  </operand>
               </operand>
               <operand localId="197" locator="76:35" valueType="t:Integer" value="7" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="226" locator="109:1-117:14" name="Overall Active Opioid Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="226">
               <a:s>define &quot;Overall Active Opioid Period&quot;:&#xd;
	/*The overall period of an active opioid medications from the start of first opioid medication to end of last opioid medication during the measurement period*/&#xd;
	</a:s>
               <a:s r="225">
                  <a:s>Interval[</a:s>
                  <a:s r="214">
                     <a:s>start of </a:s>
                     <a:s r="213">
                        <a:s r="212">
                           <a:s>First(</a:s>
                           <a:s r="211">
                              <a:s>
                                 <a:s r="206">
                                    <a:s r="205">
                                       <a:s>
                                          <a:s>&quot;Opioid Medication Periods in Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> OpioidPeriod</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			</a:s>
                              <a:s r="210">
                                 <a:s>sort by </a:s>
                                 <a:s r="209">
                                    <a:s r="208">
                                       <a:s>start of </a:s>
                                       <a:s r="207">
                                          <a:s>periodInMP</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
	)</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="213">
                           <a:s>periodInMP</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>, &#xd;
	</a:s>
                  <a:s r="224">
                     <a:s>end of </a:s>
                     <a:s r="223">
                        <a:s r="222">
                           <a:s>Last(</a:s>
                           <a:s r="221">
                              <a:s>
                                 <a:s r="216">
                                    <a:s r="215">
                                       <a:s>
                                          <a:s>&quot;Opioid Medication Periods in Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> OpioidPeriod</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			</a:s>
                              <a:s r="220">
                                 <a:s>sort by &#xd;
			</a:s>
                                 <a:s r="219">
                                    <a:s r="218">
                                       <a:s>end of </a:s>
                                       <a:s r="217">
                                          <a:s>periodInMP</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
	)</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="223">
                           <a:s>periodInMP</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="225" locator="111:2-117:14" lowClosed="true" highClosed="true" xsi:type="Interval">
            <low localId="214" locator="111:11-113:13" xsi:type="Start">
               <operand localId="213" locator="111:20-113:13" path="periodInMP" xsi:type="Property">
                  <source localId="212" locator="111:20-113:2" xsi:type="First">
                     <source localId="211" locator="111:26-112:30" xsi:type="Query">
                        <source localId="206" locator="111:26-111:87" alias="OpioidPeriod">
                           <expression localId="205" locator="111:26-111:74" name="Opioid Medication Periods in Measurement Period" xsi:type="ExpressionRef"/>
                        </source>
                        <sort localId="210" locator="112:4-112:30">
                           <by localId="209" locator="112:12-112:30" direction="asc" xsi:type="ByExpression">
                              <expression localId="208" locator="112:12-112:30" xsi:type="Start">
                                 <operand localId="207" locator="112:21-112:30" name="periodInMP" xsi:type="IdentifierRef"/>
                              </expression>
                           </by>
                        </sort>
                     </source>
                  </source>
               </operand>
            </low>
            <high localId="224" locator="114:2-117:13" xsi:type="End">
               <operand localId="223" locator="114:9-117:13" path="periodInMP" xsi:type="Property">
                  <source localId="222" locator="114:9-117:2" xsi:type="Last">
                     <source localId="221" locator="114:14-116:20" xsi:type="Query">
                        <source localId="216" locator="114:14-114:75" alias="OpioidPeriod">
                           <expression localId="215" locator="114:14-114:62" name="Opioid Medication Periods in Measurement Period" xsi:type="ExpressionRef"/>
                        </source>
                        <sort localId="220" locator="115:4-116:20">
                           <by localId="219" locator="116:4-116:20" direction="asc" xsi:type="ByExpression">
                              <expression localId="218" locator="116:4-116:20" xsi:type="End">
                                 <operand localId="217" locator="116:11-116:20" name="periodInMP" xsi:type="IdentifierRef"/>
                              </expression>
                           </by>
                        </sort>
                     </source>
                  </source>
               </operand>
            </high>
         </expression>
      </def>
      <def localId="266" locator="154:1-170:41" name="Active Periods with Allowed Gaps" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="266">
               <a:s>define &quot;Active Periods with Allowed Gaps&quot;:&#xd;
	/*Creates a list of periods with gaps that are 7 days or less*/&#xd;
	</a:s>
               <a:s r="265">
                  <a:s>if </a:s>
                  <a:s r="204">
                     <a:s r="202">
                        <a:s>Length(</a:s>
                        <a:s r="201">
                           <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s r="203">&lt; 1</a:s>
                  </a:s>
                  <a:s>&#xd;
	/*If there are no gaps, use the overall period &#xd;
	                                                                     */ then </a:s>
                  <a:s r="228">
                     <a:s>{ </a:s>
                     <a:s r="227">
                        <a:s>&quot;Overall Active Opioid Period&quot;</a:s>
                     </a:s>
                     <a:s> }</a:s>
                  </a:s>
                  <a:s> &#xd;
		else &#xd;
	/*First interval from start of overall period to first gap&#xd;
	                                                                       */ </a:s>
                  <a:s r="264">
                     <a:s r="236">
                        <a:s>{ </a:s>
                        <a:s r="235">
                           <a:s>Interval[</a:s>
                           <a:s r="230">
                              <a:s>start of </a:s>
                              <a:s r="229">
                                 <a:s>&quot;Overall Active Opioid Period&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="234">
                              <a:s>start of </a:s>
                              <a:s r="233">
                                 <a:s r="231">
                                    <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                                 </a:s>
                                 <a:s r="232">[0]</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> }</a:s>
                     </a:s>
                     <a:s>&#xd;
		union &#xd;
	/*Rest of intervals. For each: start at end of current gap, end at end of next gap or end of overall period&#xd;
	*/ </a:s>
                     <a:s r="263">
                        <a:s>
                           <a:s r="238">
                              <a:s r="237">
                                 <a:s>
                                    <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> Gap</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s>
                           <a:s>let </a:s>
                           <a:s r="244">
                              <a:s>NextGapIndex: </a:s>
                              <a:s r="243">
                                 <a:s r="241">
                                    <a:s>IndexOf(</a:s>
                                    <a:s r="239">
                                       <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="240">
                                       <a:s>Gap</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s r="242">+ 1</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="262">
                           <a:s>return </a:s>
                           <a:s r="261">
                              <a:s>if </a:s>
                              <a:s r="248">
                                 <a:s r="245">
                                    <a:s>NextGapIndex</a:s>
                                 </a:s>
                                 <a:s> &lt; </a:s>
                                 <a:s r="247">
                                    <a:s>Length(</a:s>
                                    <a:s r="246">
                                       <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>then </a:s>
                              <a:s r="255">
                                 <a:s>Interval ( &#xd;
			</a:s>
                                 <a:s r="250">
                                    <a:s>end of </a:s>
                                    <a:s r="249">
                                       <a:s>Gap</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="254">
                                    <a:s>start of </a:s>
                                    <a:s r="253">
                                       <a:s r="251">
                                          <a:s>&quot;Gaps in Active Opioid Period Greater Than 7 Days&quot;</a:s>
                                       </a:s>
                                       <a:s>[</a:s>
                                       <a:s r="252">
                                          <a:s>NextGapIndex</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> &#xd;
				else </a:s>
                              <a:s r="260">
                                 <a:s>Interval ( &#xd;
			</a:s>
                                 <a:s r="257">
                                    <a:s>end of </a:s>
                                    <a:s r="256">
                                       <a:s>Gap</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, &#xd;
			</a:s>
                                 <a:s r="259">
                                    <a:s>end of </a:s>
                                    <a:s r="258">
                                       <a:s>&quot;Overall Active Opioid Period&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="265" locator="156:2-170:41" xsi:type="If">
            <condition asType="t:Boolean" xsi:type="As">
               <operand localId="204" locator="156:5-156:65" xsi:type="Less">
                  <operand localId="202" locator="156:5-156:62" xsi:type="Length">
                     <operand localId="201" locator="156:12-156:61" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="203" locator="156:65" valueType="t:Integer" value="1" xsi:type="Literal"/>
               </operand>
            </condition>
            <then localId="228" locator="158:79-158:112" xsi:type="List">
               <element localId="227" locator="158:81-158:110" name="Overall Active Opioid Period" xsi:type="ExpressionRef"/>
            </then>
            <else localId="264" locator="161:76-170:41" xsi:type="Union">
               <operand localId="236" locator="161:76-161:192" xsi:type="List">
                  <element localId="235" locator="161:78-161:190" lowClosed="true" highClosed="false" xsi:type="Interval">
                     <low localId="230" locator="161:87-161:125" xsi:type="Start">
                        <operand localId="229" locator="161:96-161:125" name="Overall Active Opioid Period" xsi:type="ExpressionRef"/>
                     </low>
                     <high localId="234" locator="161:128-161:189" xsi:type="Start">
                        <operand localId="233" locator="161:137-161:189" xsi:type="Indexer">
                           <operand localId="231" locator="161:137-161:186" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                           <operand localId="232" locator="161:188" valueType="t:Integer" value="0" xsi:type="Literal"/>
                        </operand>
                     </high>
                  </element>
               </operand>
               <operand localId="263" locator="164:5-170:41" xsi:type="Query">
                  <source localId="238" locator="164:5-164:58" alias="Gap">
                     <expression localId="237" locator="164:5-164:54" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                  </source>
                  <let localId="244" locator="165:8-165:88" identifier="NextGapIndex">
                     <expression localId="243" locator="165:22-165:88" xsi:type="Add">
                        <operand localId="241" locator="165:22-165:85" xsi:type="IndexOf">
                           <source localId="239" locator="165:30-165:79" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                           <element localId="240" locator="165:82-165:84" name="Gap" xsi:type="AliasRef"/>
                        </operand>
                        <operand localId="242" locator="165:88" valueType="t:Integer" value="1" xsi:type="Literal"/>
                     </expression>
                  </let>
                  <return localId="262" locator="166:4-170:41">
                     <expression localId="261" locator="166:11-170:41" xsi:type="If">
                        <condition asType="t:Boolean" xsi:type="As">
                           <operand localId="248" locator="166:14-166:86" xsi:type="Less">
                              <operand localId="245" locator="166:14-166:25" name="NextGapIndex" xsi:type="QueryLetRef"/>
                              <operand localId="247" locator="166:29-166:86" xsi:type="Length">
                                 <operand localId="246" locator="166:36-166:85" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </condition>
                        <then localId="255" locator="166:92-167:89" lowClosed="false" highClosed="false" xsi:type="Interval">
                           <low localId="250" locator="167:4-167:13" xsi:type="End">
                              <operand localId="249" locator="167:11-167:13" name="Gap" xsi:type="AliasRef"/>
                           </low>
                           <high localId="254" locator="167:16-167:88" xsi:type="Start">
                              <operand localId="253" locator="167:25-167:88" xsi:type="Indexer">
                                 <operand localId="251" locator="167:25-167:74" name="Gaps in Active Opioid Period Greater Than 7 Days" xsi:type="ExpressionRef"/>
                                 <operand localId="252" locator="167:76-167:87" name="NextGapIndex" xsi:type="QueryLetRef"/>
                              </operand>
                           </high>
                        </then>
                        <else localId="260" locator="168:10-170:41" lowClosed="false" highClosed="true" xsi:type="Interval">
                           <low localId="257" locator="169:4-169:13" xsi:type="End">
                              <operand localId="256" locator="169:11-169:13" name="Gap" xsi:type="AliasRef"/>
                           </low>
                           <high localId="259" locator="170:4-170:40" xsi:type="End">
                              <operand localId="258" locator="170:11-170:40" name="Overall Active Opioid Period" xsi:type="ExpressionRef"/>
                           </high>
                        </else>
                     </expression>
                  </return>
               </operand>
            </else>
         </expression>
      </def>
      <def localId="301" locator="268:1-272:2" name="CumulativeDuration" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="301">
               <a:s>define function &quot;CumulativeDuration&quot;(Periods </a:s>
               <a:s r="292">
                  <a:s>List&lt;</a:s>
                  <a:s r="291">
                     <a:s>Interval&lt;</a:s>
                     <a:s r="290">
                        <a:s>DateTime</a:s>
                     </a:s>
                     <a:s>></a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
	/*Adds the total number of days of opioid prescription(s)*/&#xd;
	</a:s>
               <a:s r="300">
                  <a:s r="300">
                     <a:s>Sum(</a:s>
                     <a:s r="299">
                        <a:s>
                           <a:s r="295">
                              <a:s r="294">
                                 <a:s>(</a:s>
                                 <a:s r="294">
                                    <a:s>collapse</a:s>
                                    <a:s r="293">
                                       <a:s>(</a:s>
                                       <a:s r="293">
                                          <a:s>Periods</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>Period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="298">
                           <a:s>return all </a:s>
                           <a:s r="297">
                              <a:s>duration in days of </a:s>
                              <a:s r="296">
                                 <a:s>Period</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="300" locator="270:2-272:2" xsi:type="Sum">
            <source localId="299" locator="270:6-271:40" xsi:type="Query">
               <source localId="295" locator="270:6-270:30" alias="Period">
                  <expression localId="294" locator="270:6-270:24" xsi:type="Collapse">
                     <operand localId="293" locator="270:15-270:23" name="Periods" xsi:type="OperandRef"/>
                     <operand resultTypeName="t:Quantity" xsi:type="Null"/>
                  </expression>
               </source>
               <return localId="298" locator="271:4-271:40" distinct="false">
                  <expression localId="297" locator="271:15-271:40" precision="Day" xsi:type="DurationBetween">
                     <operand xsi:type="Start">
                        <operand localId="296" locator="271:35-271:40" name="Period" xsi:type="AliasRef"/>
                     </operand>
                     <operand xsi:type="End">
                        <operand localId="296" locator="271:35-271:40" name="Period" xsi:type="AliasRef"/>
                     </operand>
                  </expression>
               </return>
            </source>
         </expression>
         <operand name="Periods">
            <operandTypeSpecifier localId="292" locator="268:46-268:69" xsi:type="ListTypeSpecifier">
               <elementType localId="291" locator="268:51-268:68" xsi:type="IntervalTypeSpecifier">
                  <pointType localId="290" locator="268:60-268:67" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
               </elementType>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="306" locator="172:1-185:3" name="Active Periods with Allowed Gaps with Meds and Durations" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="306">
               <a:s>define &quot;Active Periods with Allowed Gaps with Meds and Durations&quot;:&#xd;
	/*Provides a list of each period with allowed gaps with the opioid medications that are within the same 90 or more day period*/&#xd;
	</a:s>
               <a:s r="305">
                  <a:s>
                     <a:s r="268">
                        <a:s r="267">
                           <a:s>
                              <a:s>&quot;Active Periods with Allowed Gaps&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Period</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="276">
                        <a:s>Meds: </a:s>
                        <a:s r="275">
                           <a:s>( </a:s>
                           <a:s r="275">
                              <a:s>
                                 <a:s r="270">
                                    <a:s r="269">
                                       <a:s>
                                          <a:s>&quot;Opioid Medication Periods in Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Opioid</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="274">
                                 <a:s>where </a:s>
                                 <a:s r="274">
                                    <a:s r="272">
                                       <a:s r="271">
                                          <a:s>Opioid</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="272">
                                          <a:s>periodInMP</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="274"> during </a:s>
                                    <a:s r="273">
                                       <a:s>Period</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="304">
                     <a:s>return </a:s>
                     <a:s r="303">
                        <a:s>{&#xd;
			</a:s>
                        <a:s>
                           <a:s>period: </a:s>
                           <a:s r="277">
                              <a:s>Period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>meds: </a:s>
                           <a:s r="283">
                              <a:s>
                                 <a:s r="279">
                                    <a:s r="278">
                                       <a:s>
                                          <a:s>Meds</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Med</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="282">
                                 <a:s>return </a:s>
                                 <a:s r="281">
                                    <a:s r="280">
                                       <a:s>Med</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="281">
                                       <a:s>med</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>cmd: </a:s>
                           <a:s r="302">
                              <a:s>&quot;CumulativeDuration&quot;(</a:s>
                              <a:s r="289">
                                 <a:s>
                                    <a:s r="285">
                                       <a:s r="284">
                                          <a:s>
                                             <a:s>Meds</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> Med</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
					</a:s>
                                 <a:s r="288">
                                    <a:s>return </a:s>
                                    <a:s r="287">
                                       <a:s r="286">
                                          <a:s>Med</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="287">
                                          <a:s>periodInMP</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		}</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="305" locator="174:2-185:3" xsi:type="Query">
            <source localId="268" locator="174:2-174:42" alias="Period">
               <expression localId="267" locator="174:2-174:35" name="Active Periods with Allowed Gaps" xsi:type="ExpressionRef"/>
            </source>
            <let localId="276" locator="175:7-177:3" identifier="Meds">
               <expression localId="275" locator="175:13-177:3" xsi:type="Query">
                  <source localId="270" locator="175:15-175:70" alias="Opioid">
                     <expression localId="269" locator="175:15-175:63" name="Opioid Medication Periods in Measurement Period" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="274" locator="176:5-176:41" xsi:type="IncludedIn">
                     <operand localId="272" locator="176:11-176:27" path="periodInMP" scope="Opioid" xsi:type="Property"/>
                     <operand localId="273" locator="176:36-176:41" name="Period" xsi:type="AliasRef"/>
                  </where>
               </expression>
            </let>
            <return localId="304" locator="178:3-185:3">
               <expression localId="303" locator="178:10-185:3" xsi:type="Tuple">
                  <element name="period">
                     <value localId="277" locator="179:12-179:17" name="Period" xsi:type="AliasRef"/>
                  </element>
                  <element name="meds">
                     <value localId="283" locator="180:10-181:18" xsi:type="Query">
                        <source localId="279" locator="180:10-180:17" alias="Med">
                           <expression localId="278" locator="180:10-180:13" name="Meds" xsi:type="QueryLetRef"/>
                        </source>
                        <return localId="282" locator="181:5-181:18">
                           <expression localId="281" locator="181:12-181:18" path="med" scope="Med" xsi:type="Property"/>
                        </return>
                     </value>
                  </element>
                  <element name="cmd">
                     <value localId="302" locator="182:9-184:4" name="CumulativeDuration" xsi:type="FunctionRef">
                        <operand localId="289" locator="182:30-183:26" xsi:type="Query">
                           <source localId="285" locator="182:30-182:37" alias="Med">
                              <expression localId="284" locator="182:30-182:33" name="Meds" xsi:type="QueryLetRef"/>
                           </source>
                           <return localId="288" locator="183:6-183:26">
                              <expression localId="287" locator="183:13-183:26" path="periodInMP" scope="Med" xsi:type="Property"/>
                           </return>
                        </operand>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="314" locator="187:1-190:24" name="Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="314">
               <a:s>define &quot;Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days&quot;:&#xd;
	/*Creates a list of periods where Cumulative Medication Duration greater than or equal to 90 days. The logic filters the result of Periods with Allowed Gaps with Meds and Durations result to only include the periods with a CMD greater or equal to 90. If there are any periods after the filter, and the patient has an encounter during the MP then they are in the Initial Population*/&#xd;
	</a:s>
               <a:s r="313">
                  <a:s>
                     <a:s r="308">
                        <a:s r="307">
                           <a:s>
                              <a:s>&quot;Active Periods with Allowed Gaps with Meds and Durations&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Period</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="312">
                     <a:s>where </a:s>
                     <a:s r="312">
                        <a:s r="310">
                           <a:s r="309">
                              <a:s>Period</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="310">
                              <a:s>cmd</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="311"> >= 90</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="313" locator="189:2-190:24" xsi:type="Query">
            <source localId="308" locator="189:2-189:66" alias="Period">
               <expression localId="307" locator="189:2-189:59" name="Active Periods with Allowed Gaps with Meds and Durations" xsi:type="ExpressionRef"/>
            </source>
            <where localId="312" locator="190:3-190:24" xsi:type="GreaterOrEqual">
               <operand localId="310" locator="190:9-190:18" path="cmd" scope="Period" xsi:type="Property"/>
               <operand localId="311" locator="190:23-190:24" valueType="t:Integer" value="90" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="318" locator="192:1-196:109" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="318">
               <a:s>define &quot;Initial Population&quot;:&#xd;
	/*Patients age 18 and older who have an encounter during the measurement period, are prescribed opioids for 90 days or more and have 7 days or less between opioid prescriptions*/&#xd;
	</a:s>
               <a:s r="317">
                  <a:s r="104">
                     <a:s r="76">
                        <a:s r="74">
                           <a:s r="68">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="74">
                              <a:s>CalendarAgeInYearsAt(</a:s>
                              <a:s r="71">
                                 <a:s>ToDateTime(</a:s>
                                 <a:s r="70">
                                    <a:s r="69">
                                       <a:s>Patient</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="70">
                                       <a:s>birthDate</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="73">
                                 <a:s>start of </a:s>
                                 <a:s r="72">
                                    <a:s>&quot;Measurement Period&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="75">>= 18</a:s>
                     </a:s>
                     <a:s>&#xd;
		and </a:s>
                     <a:s r="103">
                        <a:s>exists </a:s>
                        <a:s r="102">
                           <a:s>( </a:s>
                           <a:s r="102">
                              <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		and </a:s>
                  <a:s r="316">
                     <a:s>exists </a:s>
                     <a:s r="315">
                        <a:s>( </a:s>
                        <a:s r="315">
                           <a:s>&quot;Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days&quot;</a:s>
                        </a:s>
                        <a:s> )</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="317" locator="194:2-196:109" xsi:type="And">
            <operand localId="104" locator="194:2-195:55" xsi:type="And">
               <operand localId="76" locator="194:2-194:95" xsi:type="GreaterOrEqual">
                  <operand localId="74" locator="194:2-194:90" name="CalendarAgeInYearsAt" libraryName="Global" xsi:type="FunctionRef">
                     <operand localId="71" locator="194:30-194:58" xsi:type="ToDateTime">
                        <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="70" locator="194:41-194:57" path="birthDate" xsi:type="Property">
                              <source localId="69" locator="194:41-194:47" name="Patient" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="73" locator="194:61-194:89" xsi:type="Start">
                        <operand localId="72" locator="194:70-194:89" name="Measurement Period" xsi:type="ParameterRef"/>
                     </operand>
                  </operand>
                  <operand localId="75" locator="194:94-194:95" valueType="t:Integer" value="18" xsi:type="Literal"/>
               </operand>
               <operand localId="103" locator="195:7-195:55" xsi:type="Exists">
                  <operand localId="102" locator="195:14-195:55" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="316" locator="196:7-196:109" xsi:type="Exists">
               <operand localId="315" locator="196:14-196:109" name="Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="320" locator="69:1-71:21" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="320">
               <a:s>define &quot;Denominator&quot;:&#xd;
	/*Includes all patients in the initial population*/&#xd;
	</a:s>
               <a:s r="319">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="319" locator="71:2-71:21" name="Initial Population" xsi:type="ExpressionRef"/>
      </def>
      <def localId="468" locator="229:1-254:4" name="DosesPerDay" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="468">
               <a:s>define function &quot;DosesPerDay&quot;(frequency </a:s>
               <a:s r="360">
                  <a:s>Code</a:s>
               </a:s>
               <a:s>):&#xd;
	/*Calculates the cumulative dose per day for each prescription*/&#xd;
	</a:s>
               <a:s r="467">
                  <a:s r="467">
                     <a:s>case&#xd;
		</a:s>
                     <a:s r="365">
                        <a:s>when </a:s>
                        <a:s r="363">
                           <a:s r="361">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="362">
                              <a:s>&quot;Once daily (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="364"> then 1.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="370">
                        <a:s>when </a:s>
                        <a:s r="368">
                           <a:s r="366">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="367">
                              <a:s>&quot;Twice a day (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="369"> then 2.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="375">
                        <a:s>when </a:s>
                        <a:s r="373">
                           <a:s r="371">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="372">
                              <a:s>&quot;Three times daily (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="374"> then 3.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="380">
                        <a:s>when </a:s>
                        <a:s r="378">
                           <a:s r="376">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="377">
                              <a:s>&quot;Four times daily (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="379"> then 4.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="385">
                        <a:s>when </a:s>
                        <a:s r="383">
                           <a:s r="381">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="382">
                              <a:s>&quot;Every twenty four hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="384"> then 1.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="390">
                        <a:s>when </a:s>
                        <a:s r="388">
                           <a:s r="386">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="387">
                              <a:s>&quot;Every twelve hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="389"> then 2.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="395">
                        <a:s>when </a:s>
                        <a:s r="393">
                           <a:s r="391">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="392">
                              <a:s>&quot;Every thirty six hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="394"> then 0.67</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="400">
                        <a:s>when </a:s>
                        <a:s r="398">
                           <a:s r="396">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="397">
                              <a:s>&quot;Every eight hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="399"> then 3.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="405">
                        <a:s>when </a:s>
                        <a:s r="403">
                           <a:s r="401">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="402">
                              <a:s>&quot;Every four hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="404"> then 6.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="410">
                        <a:s>when </a:s>
                        <a:s r="408">
                           <a:s r="406">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="407">
                              <a:s>&quot;Every six hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="409"> then 4.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="415">
                        <a:s>when </a:s>
                        <a:s r="413">
                           <a:s r="411">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="412">
                              <a:s>&quot;Every seventy two hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="414"> then 0.34</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="420">
                        <a:s>when </a:s>
                        <a:s r="418">
                           <a:s r="416">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="417">
                              <a:s>&quot;Every forty eight hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="419"> then 0.5</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="425">
                        <a:s>when </a:s>
                        <a:s r="423">
                           <a:s r="421">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="422">
                              <a:s>&quot;Every eight to twelve hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="424"> then 2.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="430">
                        <a:s>when </a:s>
                        <a:s r="428">
                           <a:s r="426">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="427">
                              <a:s>&quot;Every six to eight hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="429"> then 3.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="435">
                        <a:s>when </a:s>
                        <a:s r="433">
                           <a:s r="431">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="432">
                              <a:s>&quot;Every three to four hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="434"> then 6.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="440">
                        <a:s>when </a:s>
                        <a:s r="438">
                           <a:s r="436">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="437">
                              <a:s>&quot;Every three to six hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="439"> then 4.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="445">
                        <a:s>when </a:s>
                        <a:s r="443">
                           <a:s r="441">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="442">
                              <a:s>&quot;Every two to four hours (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="444"> then 6.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="450">
                        <a:s>when </a:s>
                        <a:s r="448">
                           <a:s r="446">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="447">
                              <a:s>&quot;One to four times a day (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="449"> then 4.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="455">
                        <a:s>when </a:s>
                        <a:s r="453">
                           <a:s r="451">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="452">
                              <a:s>&quot;One to three times a day (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="454"> then 3.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="460">
                        <a:s>when </a:s>
                        <a:s r="458">
                           <a:s r="456">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="457">
                              <a:s>&quot;One to two times a day (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="459"> then 2.0</a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="465">
                        <a:s>when </a:s>
                        <a:s r="463">
                           <a:s r="461">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> ~ </a:s>
                           <a:s r="462">
                              <a:s>&quot;Two to four times a day (qualifier value)&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="464"> then 4.0</a:s>
                     </a:s>
                     <a:s r="466"> &#xd;
		else null &#xd;
	end</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="467" locator="231:2-254:4" xsi:type="Case">
            <caseItem localId="365" locator="232:3-232:58">
               <when localId="363" locator="232:8-232:49" xsi:type="Equivalent">
                  <operand localId="361" locator="232:8-232:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="362" locator="232:20-232:49" name="Once daily (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="364" locator="232:56-232:58" valueType="t:Decimal" value="1.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="370" locator="233:3-233:59">
               <when localId="368" locator="233:8-233:50" xsi:type="Equivalent">
                  <operand localId="366" locator="233:8-233:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="367" locator="233:20-233:50" name="Twice a day (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="369" locator="233:57-233:59" valueType="t:Decimal" value="2.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="375" locator="234:3-234:65">
               <when localId="373" locator="234:8-234:56" xsi:type="Equivalent">
                  <operand localId="371" locator="234:8-234:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="372" locator="234:20-234:56" name="Three times daily (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="374" locator="234:63-234:65" valueType="t:Decimal" value="3.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="380" locator="235:3-235:64">
               <when localId="378" locator="235:8-235:55" xsi:type="Equivalent">
                  <operand localId="376" locator="235:8-235:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="377" locator="235:20-235:55" name="Four times daily (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="379" locator="235:62-235:64" valueType="t:Decimal" value="4.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="385" locator="236:3-236:71">
               <when localId="383" locator="236:8-236:62" xsi:type="Equivalent">
                  <operand localId="381" locator="236:8-236:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="382" locator="236:20-236:62" name="Every twenty four hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="384" locator="236:69-236:71" valueType="t:Decimal" value="1.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="390" locator="237:3-237:66">
               <when localId="388" locator="237:8-237:57" xsi:type="Equivalent">
                  <operand localId="386" locator="237:8-237:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="387" locator="237:20-237:57" name="Every twelve hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="389" locator="237:64-237:66" valueType="t:Decimal" value="2.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="395" locator="238:3-238:71">
               <when localId="393" locator="238:8-238:61" xsi:type="Equivalent">
                  <operand localId="391" locator="238:8-238:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="392" locator="238:20-238:61" name="Every thirty six hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="394" locator="238:68-238:71" valueType="t:Decimal" value="0.67" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="400" locator="239:3-239:65">
               <when localId="398" locator="239:8-239:56" xsi:type="Equivalent">
                  <operand localId="396" locator="239:8-239:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="397" locator="239:20-239:56" name="Every eight hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="399" locator="239:63-239:65" valueType="t:Decimal" value="3.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="405" locator="240:3-240:64">
               <when localId="403" locator="240:8-240:55" xsi:type="Equivalent">
                  <operand localId="401" locator="240:8-240:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="402" locator="240:20-240:55" name="Every four hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="404" locator="240:62-240:64" valueType="t:Decimal" value="6.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="410" locator="241:3-241:63">
               <when localId="408" locator="241:8-241:54" xsi:type="Equivalent">
                  <operand localId="406" locator="241:8-241:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="407" locator="241:20-241:54" name="Every six hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="409" locator="241:61-241:63" valueType="t:Decimal" value="4.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="415" locator="242:3-242:72">
               <when localId="413" locator="242:8-242:62" xsi:type="Equivalent">
                  <operand localId="411" locator="242:8-242:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="412" locator="242:20-242:62" name="Every seventy two hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="414" locator="242:69-242:72" valueType="t:Decimal" value="0.34" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="420" locator="243:3-243:71">
               <when localId="418" locator="243:8-243:62" xsi:type="Equivalent">
                  <operand localId="416" locator="243:8-243:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="417" locator="243:20-243:62" name="Every forty eight hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="419" locator="243:69-243:71" valueType="t:Decimal" value="0.5" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="425" locator="244:3-244:75">
               <when localId="423" locator="244:8-244:66" xsi:type="Equivalent">
                  <operand localId="421" locator="244:8-244:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="422" locator="244:20-244:66" name="Every eight to twelve hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="424" locator="244:73-244:75" valueType="t:Decimal" value="2.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="430" locator="245:3-245:72">
               <when localId="428" locator="245:8-245:63" xsi:type="Equivalent">
                  <operand localId="426" locator="245:8-245:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="427" locator="245:20-245:63" name="Every six to eight hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="429" locator="245:70-245:72" valueType="t:Decimal" value="3.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="435" locator="246:3-246:73">
               <when localId="433" locator="246:8-246:64" xsi:type="Equivalent">
                  <operand localId="431" locator="246:8-246:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="432" locator="246:20-246:64" name="Every three to four hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="434" locator="246:71-246:73" valueType="t:Decimal" value="6.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="440" locator="247:3-247:72">
               <when localId="438" locator="247:8-247:63" xsi:type="Equivalent">
                  <operand localId="436" locator="247:8-247:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="437" locator="247:20-247:63" name="Every three to six hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="439" locator="247:70-247:72" valueType="t:Decimal" value="4.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="445" locator="248:3-248:71">
               <when localId="443" locator="248:8-248:62" xsi:type="Equivalent">
                  <operand localId="441" locator="248:8-248:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="442" locator="248:20-248:62" name="Every two to four hours (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="444" locator="248:69-248:71" valueType="t:Decimal" value="6.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="450" locator="249:3-249:71">
               <when localId="448" locator="249:8-249:62" xsi:type="Equivalent">
                  <operand localId="446" locator="249:8-249:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="447" locator="249:20-249:62" name="One to four times a day (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="449" locator="249:69-249:71" valueType="t:Decimal" value="4.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="455" locator="250:3-250:72">
               <when localId="453" locator="250:8-250:63" xsi:type="Equivalent">
                  <operand localId="451" locator="250:8-250:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="452" locator="250:20-250:63" name="One to three times a day (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="454" locator="250:70-250:72" valueType="t:Decimal" value="3.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="460" locator="251:3-251:70">
               <when localId="458" locator="251:8-251:61" xsi:type="Equivalent">
                  <operand localId="456" locator="251:8-251:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="457" locator="251:20-251:61" name="One to two times a day (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="459" locator="251:68-251:70" valueType="t:Decimal" value="2.0" xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="465" locator="252:3-252:71">
               <when localId="463" locator="252:8-252:62" xsi:type="Equivalent">
                  <operand localId="461" locator="252:8-252:16" name="frequency" xsi:type="OperandRef"/>
                  <operand localId="462" locator="252:20-252:62" name="Two to four times a day (qualifier value)" xsi:type="CodeRef"/>
               </when>
               <then localId="464" locator="252:69-252:71" valueType="t:Decimal" value="4.0" xsi:type="Literal"/>
            </caseItem>
            <else asType="t:Decimal" xsi:type="As">
               <operand localId="466" locator="253:8-253:11" xsi:type="Null"/>
            </else>
         </expression>
         <operand name="frequency">
            <operandTypeSpecifier localId="360" locator="229:41-229:44" name="t:Code" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="551" locator="256:1-266:5" name="DosesPerDay" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="551">
               <a:s>define function DosesPerDay(frequency </a:s>
               <a:s r="469">
                  <a:s>Integer</a:s>
               </a:s>
               <a:s>, period </a:s>
               <a:s r="470">
                  <a:s>System.Quantity</a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="550">
                  <a:s r="550">
                     <a:s>case </a:s>
                     <a:s r="472">
                        <a:s r="471">
                           <a:s>period</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="472">
                           <a:s>unit</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="480">
                        <a:s>when </a:s>
                        <a:s r="473">
                           <a:s>'h'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="479">
                           <a:s r="474">
                              <a:s>frequency</a:s>
                           </a:s>
                           <a:s> * </a:s>
                           <a:s r="478">
                              <a:s>(</a:s>
                              <a:s r="478">
                                 <a:s r="475">24.0 / </a:s>
                                 <a:s r="477">
                                    <a:s r="476">
                                       <a:s>period</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="477">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="490">
                        <a:s>when </a:s>
                        <a:s r="481">
                           <a:s>'min'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="489">
                           <a:s r="487">
                              <a:s r="482">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s> * </a:s>
                              <a:s r="486">
                                 <a:s>(</a:s>
                                 <a:s r="486">
                                    <a:s r="483">24.0 / </a:s>
                                    <a:s r="485">
                                       <a:s r="484">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="485">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="488"> * 60</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="502">
                        <a:s>when </a:s>
                        <a:s r="491">
                           <a:s>'s'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="501">
                           <a:s r="499">
                              <a:s r="497">
                                 <a:s r="492">
                                    <a:s>frequency</a:s>
                                 </a:s>
                                 <a:s> * </a:s>
                                 <a:s r="496">
                                    <a:s>(</a:s>
                                    <a:s r="496">
                                       <a:s r="493">24.0 / </a:s>
                                       <a:s r="495">
                                          <a:s r="494">
                                             <a:s>period</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="495">
                                             <a:s>value</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="498"> * 60</a:s>
                           </a:s>
                           <a:s r="500"> * 60</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="512">
                        <a:s>when </a:s>
                        <a:s r="503">
                           <a:s>'d'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="511">
                           <a:s r="509">
                              <a:s r="504">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s> * </a:s>
                              <a:s r="508">
                                 <a:s>(</a:s>
                                 <a:s r="508">
                                    <a:s r="505">24.0 / </a:s>
                                    <a:s r="507">
                                       <a:s r="506">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="507">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="510"> / 24</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="524">
                        <a:s>when </a:s>
                        <a:s r="513">
                           <a:s>'wk'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="523">
                           <a:s r="519">
                              <a:s r="514">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s> * </a:s>
                              <a:s r="518">
                                 <a:s>(</a:s>
                                 <a:s r="518">
                                    <a:s r="515">24.0 / </a:s>
                                    <a:s r="517">
                                       <a:s r="516">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="517">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s> / </a:s>
                           <a:s r="522">
                              <a:s>(</a:s>
                              <a:s r="522">
                                 <a:s r="520">24 * 7</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    </a:s>
                     <a:s r="536">
                        <a:s>when </a:s>
                        <a:s r="525">
                           <a:s>'mo'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="535">
                           <a:s r="531">
                              <a:s r="526">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s> * </a:s>
                              <a:s r="530">
                                 <a:s>(</a:s>
                                 <a:s r="530">
                                    <a:s r="527">24.0 / </a:s>
                                    <a:s r="529">
                                       <a:s r="528">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="529">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s> / </a:s>
                           <a:s r="534">
                              <a:s>(</a:s>
                              <a:s r="534">
                                 <a:s r="532">24 * 30</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> // assuming 30 days in month&#xd;
    </a:s>
                     <a:s r="548">
                        <a:s>when </a:s>
                        <a:s r="537">
                           <a:s>'a'</a:s>
                        </a:s>
                        <a:s> then </a:s>
                        <a:s r="547">
                           <a:s r="543">
                              <a:s r="538">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s> * </a:s>
                              <a:s r="542">
                                 <a:s>(</a:s>
                                 <a:s r="542">
                                    <a:s r="539">24.0 / </a:s>
                                    <a:s r="541">
                                       <a:s r="540">
                                          <a:s>period</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="541">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s> / </a:s>
                           <a:s r="546">
                              <a:s>(</a:s>
                              <a:s r="546">
                                 <a:s r="544">24 * 365</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s r="549"> // assuming 365 days in year&#xd;
    else null&#xd;
  end</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="550" locator="257:3-266:5" xsi:type="Case">
            <comparand localId="472" locator="257:8-257:18" path="unit" xsi:type="Property">
               <source localId="471" locator="257:8-257:13" name="period" xsi:type="OperandRef"/>
            </comparand>
            <caseItem localId="480" locator="258:5-258:51">
               <when localId="473" locator="258:10-258:12" valueType="t:String" value="h" xsi:type="Literal"/>
               <then localId="479" locator="258:19-258:51" xsi:type="Multiply">
                  <operand xsi:type="ToDecimal">
                     <operand localId="474" locator="258:19-258:27" name="frequency" xsi:type="OperandRef"/>
                  </operand>
                  <operand localId="478" locator="258:31-258:51" xsi:type="Divide">
                     <operand localId="475" locator="258:32-258:35" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                     <operand localId="477" locator="258:39-258:50" path="value" xsi:type="Property">
                        <source localId="476" locator="258:39-258:44" name="period" xsi:type="OperandRef"/>
                     </operand>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="490" locator="259:5-259:58">
               <when localId="481" locator="259:10-259:14" valueType="t:String" value="min" xsi:type="Literal"/>
               <then localId="489" locator="259:21-259:58" xsi:type="Multiply">
                  <operand localId="487" locator="259:21-259:53" xsi:type="Multiply">
                     <operand xsi:type="ToDecimal">
                        <operand localId="482" locator="259:21-259:29" name="frequency" xsi:type="OperandRef"/>
                     </operand>
                     <operand localId="486" locator="259:33-259:53" xsi:type="Divide">
                        <operand localId="483" locator="259:34-259:37" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                        <operand localId="485" locator="259:41-259:52" path="value" xsi:type="Property">
                           <source localId="484" locator="259:41-259:46" name="period" xsi:type="OperandRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="488" locator="259:57-259:58" valueType="t:Integer" value="60" xsi:type="Literal"/>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="502" locator="260:5-260:61">
               <when localId="491" locator="260:10-260:12" valueType="t:String" value="s" xsi:type="Literal"/>
               <then localId="501" locator="260:19-260:61" xsi:type="Multiply">
                  <operand localId="499" locator="260:19-260:56" xsi:type="Multiply">
                     <operand localId="497" locator="260:19-260:51" xsi:type="Multiply">
                        <operand xsi:type="ToDecimal">
                           <operand localId="492" locator="260:19-260:27" name="frequency" xsi:type="OperandRef"/>
                        </operand>
                        <operand localId="496" locator="260:31-260:51" xsi:type="Divide">
                           <operand localId="493" locator="260:32-260:35" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                           <operand localId="495" locator="260:39-260:50" path="value" xsi:type="Property">
                              <source localId="494" locator="260:39-260:44" name="period" xsi:type="OperandRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand xsi:type="ToDecimal">
                        <operand localId="498" locator="260:55-260:56" valueType="t:Integer" value="60" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="500" locator="260:60-260:61" valueType="t:Integer" value="60" xsi:type="Literal"/>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="512" locator="261:5-261:56">
               <when localId="503" locator="261:10-261:12" valueType="t:String" value="d" xsi:type="Literal"/>
               <then localId="511" locator="261:19-261:56" xsi:type="Divide">
                  <operand localId="509" locator="261:19-261:51" xsi:type="Multiply">
                     <operand xsi:type="ToDecimal">
                        <operand localId="504" locator="261:19-261:27" name="frequency" xsi:type="OperandRef"/>
                     </operand>
                     <operand localId="508" locator="261:31-261:51" xsi:type="Divide">
                        <operand localId="505" locator="261:32-261:35" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                        <operand localId="507" locator="261:39-261:50" path="value" xsi:type="Property">
                           <source localId="506" locator="261:39-261:44" name="period" xsi:type="OperandRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="510" locator="261:55-261:56" valueType="t:Integer" value="24" xsi:type="Literal"/>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="524" locator="262:5-262:63">
               <when localId="513" locator="262:10-262:13" valueType="t:String" value="wk" xsi:type="Literal"/>
               <then localId="523" locator="262:20-262:63" xsi:type="Divide">
                  <operand localId="519" locator="262:20-262:52" xsi:type="Multiply">
                     <operand xsi:type="ToDecimal">
                        <operand localId="514" locator="262:20-262:28" name="frequency" xsi:type="OperandRef"/>
                     </operand>
                     <operand localId="518" locator="262:32-262:52" xsi:type="Divide">
                        <operand localId="515" locator="262:33-262:36" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                        <operand localId="517" locator="262:40-262:51" path="value" xsi:type="Property">
                           <source localId="516" locator="262:40-262:45" name="period" xsi:type="OperandRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="522" locator="262:56-262:63" xsi:type="Multiply">
                        <operand localId="520" locator="262:57-262:58" valueType="t:Integer" value="24" xsi:type="Literal"/>
                        <operand localId="521" locator="262:62" valueType="t:Integer" value="7" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="536" locator="263:5-263:64">
               <when localId="525" locator="263:10-263:13" valueType="t:String" value="mo" xsi:type="Literal"/>
               <then localId="535" locator="263:20-263:64" xsi:type="Divide">
                  <operand localId="531" locator="263:20-263:52" xsi:type="Multiply">
                     <operand xsi:type="ToDecimal">
                        <operand localId="526" locator="263:20-263:28" name="frequency" xsi:type="OperandRef"/>
                     </operand>
                     <operand localId="530" locator="263:32-263:52" xsi:type="Divide">
                        <operand localId="527" locator="263:33-263:36" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                        <operand localId="529" locator="263:40-263:51" path="value" xsi:type="Property">
                           <source localId="528" locator="263:40-263:45" name="period" xsi:type="OperandRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="534" locator="263:56-263:64" xsi:type="Multiply">
                        <operand localId="532" locator="263:57-263:58" valueType="t:Integer" value="24" xsi:type="Literal"/>
                        <operand localId="533" locator="263:62-263:63" valueType="t:Integer" value="30" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </then>
            </caseItem>
            <caseItem localId="548" locator="264:5-264:64">
               <when localId="537" locator="264:10-264:12" valueType="t:String" value="a" xsi:type="Literal"/>
               <then localId="547" locator="264:19-264:64" xsi:type="Divide">
                  <operand localId="543" locator="264:19-264:51" xsi:type="Multiply">
                     <operand xsi:type="ToDecimal">
                        <operand localId="538" locator="264:19-264:27" name="frequency" xsi:type="OperandRef"/>
                     </operand>
                     <operand localId="542" locator="264:31-264:51" xsi:type="Divide">
                        <operand localId="539" locator="264:32-264:35" valueType="t:Decimal" value="24.0" xsi:type="Literal"/>
                        <operand localId="541" locator="264:39-264:50" path="value" xsi:type="Property">
                           <source localId="540" locator="264:39-264:44" name="period" xsi:type="OperandRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="ToDecimal">
                     <operand localId="546" locator="264:55-264:64" xsi:type="Multiply">
                        <operand localId="544" locator="264:56-264:57" valueType="t:Integer" value="24" xsi:type="Literal"/>
                        <operand localId="545" locator="264:61-264:63" valueType="t:Integer" value="365" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </then>
            </caseItem>
            <else asType="t:Decimal" xsi:type="As">
               <operand localId="549" locator="265:10-265:13" xsi:type="Null"/>
            </else>
         </expression>
         <operand name="frequency">
            <operandTypeSpecifier localId="469" locator="256:39-256:45" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
         </operand>
         <operand name="period">
            <operandTypeSpecifier localId="470" locator="256:55-256:69" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="630" locator="296:1-324:3" name="CalculateDailyMMEPerMedication" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="630">
               <a:s>define function &quot;CalculateDailyMMEPerMedication&quot;(medications </a:s>
               <a:s r="328">
                  <a:s>List&lt;</a:s>
                  <a:s r="327">
                     <a:s>&quot;MedicationRequest&quot;</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, period </a:s>
               <a:s r="330">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="329">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
	/*Calculates the daily MME by multiplying the single administration dosage by the frequency (number of times the dose is administered per day)*/&#xd;
	</a:s>
               <a:s r="629">
                  <a:s r="629">
                     <a:s>
                        <a:s r="332">
                           <a:s r="331">
                              <a:s>
                                 <a:s>medications</a:s>
                              </a:s>
                           </a:s>
                           <a:s> OpioidMed</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s>
                        <a:s>let &#xd;
		  </a:s>
                        <a:s r="337">
                           <a:s>dosageInstruction: </a:s>
                           <a:s r="336">
                              <a:s r="334">
                                 <a:s r="333">
                                    <a:s>OpioidMed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="334">
                                    <a:s>dosageInstruction</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="335">[0]</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s r="341">
                           <a:s>repeat: </a:s>
                           <a:s r="340">
                              <a:s r="339">
                                 <a:s r="338">
                                    <a:s>dosageInstruction</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="339">
                                    <a:s>timing</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="340">
                                 <a:s>repeat</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s r="349">
                           <a:s>frequency: </a:s>
                           <a:s r="348">
                              <a:s>Coalesce(</a:s>
                              <a:s r="344">
                                 <a:s r="343">
                                    <a:s r="342">
                                       <a:s>repeat</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="343">
                                       <a:s>frequencyMax</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="344">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="347">
                                 <a:s r="346">
                                    <a:s r="345">
                                       <a:s>repeat</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="346">
                                       <a:s>frequency</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="347">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s r="357">
                           <a:s>frequencyPeriod: </a:s>
                           <a:s r="356">
                              <a:s>System.Quantity { </a:s>
                              <a:s>
                                 <a:s>value: </a:s>
                                 <a:s r="352">
                                    <a:s r="351">
                                       <a:s r="350">
                                          <a:s>repeat</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="351">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="352">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s>
                                 <a:s>unit: </a:s>
                                 <a:s r="355">
                                    <a:s r="354">
                                       <a:s r="353">
                                          <a:s>repeat</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="354">
                                          <a:s>periodUnit</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="355">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
		  </a:s>
                        <a:s r="553">
                           <a:s>dosesPerDay: </a:s>
                           <a:s r="552">
                              <a:s>&quot;DosesPerDay&quot;(</a:s>
                              <a:s r="358">
                                 <a:s>frequency</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="359">
                                 <a:s>frequencyPeriod</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
		</a:s>
                        <a:s r="583">
                           <a:s>MME: </a:s>
                           <a:s r="582">
                              <a:s>singleton from </a:s>
                              <a:s r="581">
                                 <a:s>( </a:s>
                                 <a:s r="581">
                                    <a:s r="554">
                                       <a:s>OpioidConversionLogic</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="581">
                                       <a:s>&quot;CalculateMorphineMilligramEquivalents&quot;(</a:s>
                                       <a:s r="580">
                                          <a:s>{ </a:s>
                                          <a:s r="579">
                                             <a:s>{&#xd;
					</a:s>
                                             <a:s>
                                                <a:s>rxNormCode: </a:s>
                                                <a:s r="563">
                                                   <a:s r="555">
                                                      <a:s>FHIRHelpers</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="563">
                                                      <a:s>ToCode(</a:s>
                                                      <a:s r="562">
                                                         <a:s r="560">
                                                            <a:s r="559">
                                                               <a:s>(</a:s>
                                                               <a:s r="559">
                                                                  <a:s r="557">
                                                                     <a:s r="556">
                                                                        <a:s>OpioidMed</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="557">
                                                                        <a:s>medication</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s> as </a:s>
                                                                  <a:s r="558">
                                                                     <a:s>FHIR.CodeableConcept</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="560">
                                                               <a:s>coding</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="561">[0]</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
					</a:s>
                                             <a:s>
                                                <a:s>doseQuantity: </a:s>
                                                <a:s r="577">
                                                   <a:s>if </a:s>
                                                   <a:s r="567">
                                                      <a:s r="565">
                                                         <a:s r="564">
                                                            <a:s>dosageInstruction</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="565">
                                                            <a:s>dose</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> is </a:s>
                                                      <a:s r="566">
                                                         <a:s>FHIR.Range</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
					  then </a:s>
                                                   <a:s r="572">
                                                      <a:s r="568">
                                                         <a:s>FHIRHelpers</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="572">
                                                         <a:s>ToQuantity(</a:s>
                                                         <a:s r="571">
                                                            <a:s r="570">
                                                               <a:s r="569">
                                                                  <a:s>dosageInstruction</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="570">
                                                                  <a:s>dose</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="571">
                                                               <a:s>high</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>)</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>&#xd;
						else </a:s>
                                                   <a:s r="576">
                                                      <a:s r="573">
                                                         <a:s>FHIRHelpers</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="576">
                                                         <a:s>ToQuantity(</a:s>
                                                         <a:s r="575">
                                                            <a:s r="574">
                                                               <a:s>dosageInstruction</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="575">
                                                               <a:s>dose</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>)</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>,&#xd;
					</a:s>
                                             <a:s>
                                                <a:s>dosesPerDay: </a:s>
                                                <a:s r="578">
                                                   <a:s>dosesPerDay</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
				}</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                       <a:s>&#xd;
			)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
		)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
		</a:s>
                        <a:s r="605">
                           <a:s>medPeriod: </a:s>
                           <a:s r="604">
                              <a:s r="602">
                                 <a:s>Interval[</a:s>
                                 <a:s r="589">
                                    <a:s>start of </a:s>
                                    <a:s r="588">
                                       <a:s r="584">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="588">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="587">
                                             <a:s r="586">
                                                <a:s r="585">
                                                   <a:s>OpioidMed</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="586">
                                                   <a:s>dispenseRequest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="587">
                                                <a:s>validityPeriod</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, &#xd;
				</a:s>
                                 <a:s r="601">
                                    <a:s r="595">
                                       <a:s>start of </a:s>
                                       <a:s r="594">
                                          <a:s r="590">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="594">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="593">
                                                <a:s r="592">
                                                   <a:s r="591">
                                                      <a:s>OpioidMed</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="592">
                                                      <a:s>dispenseRequest</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="593">
                                                   <a:s>validityPeriod</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> + </a:s>
                                    <a:s r="600">
                                       <a:s r="596">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="600">
                                          <a:s>ToQuantity(</a:s>
                                          <a:s r="599">
                                             <a:s r="598">
                                                <a:s r="597">
                                                   <a:s>OpioidMed</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="598">
                                                   <a:s>dispenseRequest</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="599">
                                                <a:s>expectedSupplyDuration</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                              <a:s>&#xd;
			intersect </a:s>
                              <a:s r="603">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="628">
                        <a:s>return </a:s>
                        <a:s r="627">
                           <a:s>{&#xd;
			</a:s>
                           <a:s>
                              <a:s>rxNormCode: </a:s>
                              <a:s r="614">
                                 <a:s r="606">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="614">
                                    <a:s>ToCode(</a:s>
                                    <a:s r="613">
                                       <a:s r="611">
                                          <a:s r="610">
                                             <a:s>(</a:s>
                                             <a:s r="610">
                                                <a:s r="608">
                                                   <a:s r="607">
                                                      <a:s>OpioidMed</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="608">
                                                      <a:s>medication</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> as </a:s>
                                                <a:s r="609">
                                                   <a:s>FHIR.CodeableConcept</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="611">
                                             <a:s>coding</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="612">[0]</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>authortime: </a:s>
                              <a:s r="618">
                                 <a:s r="615">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="618">
                                    <a:s>ToDateTime(</a:s>
                                    <a:s r="617">
                                       <a:s r="616">
                                          <a:s>OpioidMed</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="617">
                                          <a:s>authoredOn</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>effectivePeriod: </a:s>
                              <a:s r="619">
                                 <a:s>medPeriod</a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>conversionFactor: </a:s>
                              <a:s r="621">
                                 <a:s r="620">
                                    <a:s>MME</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="621">
                                    <a:s>conversionFactor</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>daysInPeriod: </a:s>
                              <a:s r="624">
                                 <a:s r="622">
                                    <a:s>Timing</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="624">
                                    <a:s>&quot;DaysInPeriod&quot;(</a:s>
                                    <a:s r="623">
                                       <a:s>medPeriod</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>mme: </a:s>
                              <a:s r="626">
                                 <a:s r="625">
                                    <a:s>MME</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="626">
                                    <a:s>MME</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		}</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="629" locator="298:2-324:3" xsi:type="Query">
            <source localId="332" locator="298:2-298:22" alias="OpioidMed">
               <expression localId="331" locator="298:2-298:12" name="medications" xsi:type="OperandRef"/>
            </source>
            <let localId="337" locator="300:5-300:53" identifier="dosageInstruction">
               <expression localId="336" locator="300:24-300:53" xsi:type="Indexer">
                  <operand localId="334" locator="300:24-300:50" path="dosageInstruction" scope="OpioidMed" xsi:type="Property"/>
                  <operand localId="335" locator="300:52" valueType="t:Integer" value="0" xsi:type="Literal"/>
               </expression>
            </let>
            <let localId="341" locator="301:4-301:42" identifier="repeat">
               <expression localId="340" locator="301:12-301:42" path="repeat" xsi:type="Property">
                  <source localId="339" locator="301:12-301:35" path="timing" xsi:type="Property">
                     <source localId="338" locator="301:12-301:28" name="dosageInstruction" xsi:type="QueryLetRef"/>
                  </source>
               </expression>
            </let>
            <let localId="349" locator="302:4-302:73" identifier="frequency">
               <expression localId="348" locator="302:15-302:73" xsi:type="Coalesce">
                  <operand localId="344" locator="302:24-302:48" path="value" xsi:type="Property">
                     <source localId="343" locator="302:24-302:42" path="frequencyMax" xsi:type="Property">
                        <source localId="342" locator="302:24-302:29" name="repeat" xsi:type="QueryLetRef"/>
                     </source>
                  </operand>
                  <operand localId="347" locator="302:51-302:72" path="value" xsi:type="Property">
                     <source localId="346" locator="302:51-302:66" path="frequency" xsi:type="Property">
                        <source localId="345" locator="302:51-302:56" name="repeat" xsi:type="QueryLetRef"/>
                     </source>
                  </operand>
               </expression>
            </let>
            <let localId="357" locator="303:4-303:97" identifier="frequencyPeriod">
               <expression localId="356" locator="303:21-303:97" classType="t:Quantity" xsi:type="Instance">
                  <element name="value">
                     <value localId="352" locator="303:46-303:64" path="value" xsi:type="Property">
                        <source localId="351" locator="303:46-303:58" path="period" xsi:type="Property">
                           <source localId="350" locator="303:46-303:51" name="repeat" xsi:type="QueryLetRef"/>
                        </source>
                     </value>
                  </element>
                  <element name="unit">
                     <value localId="355" locator="303:73-303:95" path="value" xsi:type="Property">
                        <source localId="354" locator="303:73-303:89" path="periodUnit" xsi:type="Property">
                           <source localId="353" locator="303:73-303:78" name="repeat" xsi:type="QueryLetRef"/>
                        </source>
                     </value>
                  </element>
               </expression>
            </let>
            <let localId="553" locator="304:5-304:58" identifier="dosesPerDay">
               <expression localId="552" locator="304:18-304:58" name="DosesPerDay" xsi:type="FunctionRef">
                  <operand localId="358" locator="304:32-304:40" name="frequency" xsi:type="QueryLetRef"/>
                  <operand localId="359" locator="304:43-304:57" name="frequencyPeriod" xsi:type="QueryLetRef"/>
               </expression>
            </let>
            <let localId="583" locator="305:3-313:3" identifier="MME">
               <expression localId="582" locator="305:8-313:3" xsi:type="SingletonFrom">
                  <operand localId="581" locator="305:23-313:3" name="CalculateMorphineMilligramEquivalents" libraryName="OpioidConversionLogic" xsi:type="FunctionRef">
                     <operand localId="580" locator="305:87-311:7" xsi:type="List">
                        <element localId="579" locator="305:89-311:5" xsi:type="Tuple">
                           <element name="rxNormCode">
                              <value localId="563" locator="306:18-306:93" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="562" locator="306:37-306:92" xsi:type="Indexer">
                                    <operand localId="560" locator="306:37-306:89" path="coding" xsi:type="Property">
                                       <source localId="559" locator="306:37-306:82" strict="false" xsi:type="As">
                                          <operand localId="557" locator="306:38-306:57" path="medication" scope="OpioidMed" xsi:type="Property"/>
                                          <asTypeSpecifier localId="558" locator="306:62-306:81" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                                       </source>
                                    </operand>
                                    <operand localId="561" locator="306:91" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                 </operand>
                              </value>
                           </element>
                           <element name="doseQuantity">
                              <value localId="577" locator="307:20-309:57" xsi:type="If">
                                 <condition asType="t:Boolean" xsi:type="As">
                                    <operand localId="567" locator="307:23-307:58" xsi:type="Is">
                                       <operand localId="565" locator="307:23-307:44" path="dose" xsi:type="Property">
                                          <source localId="564" locator="307:23-307:39" name="dosageInstruction" xsi:type="QueryLetRef"/>
                                       </operand>
                                       <isTypeSpecifier localId="566" locator="307:49-307:58" name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                    </operand>
                                 </condition>
                                 <then localId="572" locator="308:13-308:63" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="571" locator="308:36-308:62" path="high" xsi:type="Property">
                                       <source localId="570" locator="308:36-308:57" path="dose" xsi:type="Property">
                                          <source localId="569" locator="308:36-308:52" name="dosageInstruction" xsi:type="QueryLetRef"/>
                                       </source>
                                    </operand>
                                 </then>
                                 <else localId="576" locator="309:12-309:57" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:Quantity" xsi:type="As">
                                       <operand localId="575" locator="309:35-309:56" path="dose" xsi:type="Property">
                                          <source localId="574" locator="309:35-309:51" name="dosageInstruction" xsi:type="QueryLetRef"/>
                                       </operand>
                                    </operand>
                                 </else>
                              </value>
                           </element>
                           <element name="dosesPerDay">
                              <value localId="578" locator="310:19-310:29" name="dosesPerDay" xsi:type="QueryLetRef"/>
                           </element>
                        </element>
                     </operand>
                  </operand>
               </expression>
            </let>
            <let localId="605" locator="314:3-316:19" identifier="medPeriod">
               <expression localId="604" locator="314:14-316:19" xsi:type="Intersect">
                  <operand localId="602" locator="314:14-315:153" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="589" locator="314:23-314:95" xsi:type="Start">
                        <operand localId="588" locator="314:32-314:95" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="587" locator="314:55-314:94" path="validityPeriod" xsi:type="Property">
                              <source localId="586" locator="314:55-314:79" path="dispenseRequest" scope="OpioidMed" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </low>
                     <high localId="601" locator="315:5-315:152" xsi:type="Add">
                        <operand localId="595" locator="315:5-315:77" xsi:type="Start">
                           <operand localId="594" locator="315:14-315:77" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="593" locator="315:37-315:76" path="validityPeriod" xsi:type="Property">
                                 <source localId="592" locator="315:37-315:61" path="dispenseRequest" scope="OpioidMed" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="600" locator="315:81-315:152" name="ToQuantity" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="599" locator="315:104-315:151" path="expectedSupplyDuration" xsi:type="Property">
                              <source localId="598" locator="315:104-315:128" path="dispenseRequest" scope="OpioidMed" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </high>
                  </operand>
                  <operand localId="603" locator="316:14-316:19" name="period" xsi:type="OperandRef"/>
               </expression>
            </let>
            <return localId="628" locator="317:3-324:3">
               <expression localId="627" locator="317:10-324:3" xsi:type="Tuple">
                  <element name="rxNormCode">
                     <value localId="614" locator="318:16-318:91" name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="613" locator="318:35-318:90" xsi:type="Indexer">
                           <operand localId="611" locator="318:35-318:87" path="coding" xsi:type="Property">
                              <source localId="610" locator="318:35-318:80" strict="false" xsi:type="As">
                                 <operand localId="608" locator="318:36-318:55" path="medication" scope="OpioidMed" xsi:type="Property"/>
                                 <asTypeSpecifier localId="609" locator="318:60-318:79" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
                              </source>
                           </operand>
                           <operand localId="612" locator="318:89" valueType="t:Integer" value="0" xsi:type="Literal"/>
                        </operand>
                     </value>
                  </element>
                  <element name="authortime">
                     <value localId="618" locator="319:16-319:59" name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="617" locator="319:39-319:58" path="authoredOn" scope="OpioidMed" xsi:type="Property"/>
                     </value>
                  </element>
                  <element name="effectivePeriod">
                     <value localId="619" locator="320:21-320:29" name="medPeriod" xsi:type="QueryLetRef"/>
                  </element>
                  <element name="conversionFactor">
                     <value localId="621" locator="321:22-321:41" path="conversionFactor" xsi:type="Property">
                        <source localId="620" locator="321:22-321:24" name="MME" xsi:type="QueryLetRef"/>
                     </value>
                  </element>
                  <element name="daysInPeriod">
                     <value localId="624" locator="322:18-322:49" name="DaysInPeriod" libraryName="Timing" xsi:type="FunctionRef">
                        <operand localId="623" locator="322:40-322:48" name="medPeriod" xsi:type="QueryLetRef"/>
                     </value>
                  </element>
                  <element name="mme">
                     <value localId="626" locator="323:9-323:15" path="MME" xsi:type="Property">
                        <source localId="625" locator="323:9-323:11" name="MME" xsi:type="QueryLetRef"/>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="medications">
            <operandTypeSpecifier localId="328" locator="296:62-296:86" xsi:type="ListTypeSpecifier">
               <elementType localId="327" locator="296:67-296:85" name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="period">
            <operandTypeSpecifier localId="330" locator="296:96-296:113" xsi:type="IntervalTypeSpecifier">
               <pointType localId="329" locator="296:105-296:112" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="683" locator="274:1-294:3" name="CalculatesTotalMMESumDays" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="683">
               <a:s>define function &quot;CalculatesTotalMMESumDays&quot;(scriptsMMEDays </a:s>
               <a:s r="656">
                  <a:s>List&lt;</a:s>
                  <a:s r="655">
                     <a:s>Tuple {&#xd;
	</a:s>
                     <a:s r="642">
                        <a:s>rxNormCode </a:s>
                        <a:s r="641">
                           <a:s>Code</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,&#xd;
	</a:s>
                     <a:s r="644">
                        <a:s>authortime </a:s>
                        <a:s r="643">
                           <a:s>DateTime</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,&#xd;
	</a:s>
                     <a:s r="647">
                        <a:s>effectivePeriod </a:s>
                        <a:s r="646">
                           <a:s>Interval&lt;</a:s>
                           <a:s r="645">
                              <a:s>DateTime</a:s>
                           </a:s>
                           <a:s>></a:s>
                        </a:s>
                     </a:s>
                     <a:s>,&#xd;
	</a:s>
                     <a:s r="649">
                        <a:s>conversionFactor </a:s>
                        <a:s r="648">
                           <a:s>Decimal</a:s>
                        </a:s>
                     </a:s>
                     <a:s>,&#xd;
	</a:s>
                     <a:s r="652">
                        <a:s>daysInPeriod </a:s>
                        <a:s r="651">
                           <a:s>List&lt;</a:s>
                           <a:s r="650">
                              <a:s>DateTime</a:s>
                           </a:s>
                           <a:s>></a:s>
                        </a:s>
                     </a:s>
                     <a:s>,&#xd;
	</a:s>
                     <a:s r="654">
                        <a:s>mme </a:s>
                        <a:s r="653">
                           <a:s>System.Quantity</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
}</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>):&#xd;
	/*Calculates the total MME for each day across multiple opioid prescriptions*/&#xd;
	</a:s>
               <a:s r="682">
                  <a:s r="682">
                     <a:s>
                        <a:s r="665">
                           <a:s r="664">
                              <a:s>( </a:s>
                              <a:s r="664">
                                 <a:s>distinct</a:s>
                                 <a:s r="663">
                                    <a:s>(</a:s>
                                    <a:s r="663">
                                       <a:s>flatten</a:s>
                                       <a:s r="662">
                                          <a:s>(</a:s>
                                          <a:s r="662">
                                             <a:s>
                                                <a:s r="658">
                                                   <a:s r="657">
                                                      <a:s>
                                                         <a:s>scriptsMMEDays</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s> MMEDays</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
				</a:s>
                                             <a:s r="661">
                                                <a:s>return all </a:s>
                                                <a:s r="660">
                                                   <a:s r="659">
                                                      <a:s>MMEDays</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="660">
                                                      <a:s>daysInPeriod</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
		)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
	)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> Day</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s>
                        <a:s>let </a:s>
                        <a:s r="677">
                           <a:s>totalMME: </a:s>
                           <a:s r="676">
                              <a:s>Sum(</a:s>
                              <a:s r="675">
                                 <a:s>
                                    <a:s r="667">
                                       <a:s r="666">
                                          <a:s>
                                             <a:s>scriptsMMEDays</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ScriptMMEDays</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				</a:s>
                                 <a:s r="671">
                                    <a:s>where </a:s>
                                    <a:s r="671">
                                       <a:s r="668">
                                          <a:s>Day</a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="670">
                                          <a:s r="669">
                                             <a:s>ScriptMMEDays</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="670">
                                             <a:s>daysInPeriod</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				</a:s>
                                 <a:s r="674">
                                    <a:s>return all </a:s>
                                    <a:s r="673">
                                       <a:s r="672">
                                          <a:s>ScriptMMEDays</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="673">
                                          <a:s>mme</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		</a:s>
                     <a:s r="681">
                        <a:s>return </a:s>
                        <a:s r="680">
                           <a:s>{&#xd;
			</a:s>
                           <a:s>
                              <a:s>Day: </a:s>
                              <a:s r="678">
                                 <a:s>Day</a:s>
                              </a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s>
                              <a:s>totalMME: </a:s>
                              <a:s r="679">
                                 <a:s>totalMME</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		}</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="682" locator="283:2-294:3" xsi:type="Query">
            <source localId="665" locator="283:2-286:7" alias="Day">
               <expression localId="664" locator="283:2-286:3" xsi:type="Distinct">
                  <operand localId="663" locator="283:12-286:2" xsi:type="Flatten">
                     <operand localId="662" locator="283:20-285:3" xsi:type="Query">
                        <source localId="658" locator="283:21-283:42" alias="MMEDays">
                           <expression localId="657" locator="283:21-283:34" name="scriptsMMEDays" xsi:type="OperandRef"/>
                        </source>
                        <return localId="661" locator="284:5-284:35" distinct="false">
                           <expression localId="660" locator="284:16-284:35" path="daysInPeriod" scope="MMEDays" xsi:type="Property"/>
                        </return>
                     </operand>
                  </operand>
               </expression>
            </source>
            <let localId="677" locator="287:7-290:3" identifier="totalMME">
               <expression localId="676" locator="287:17-290:3" xsi:type="Sum">
                  <source localId="675" locator="287:21-289:32" xsi:type="Query">
                     <source localId="667" locator="287:21-287:48" alias="ScriptMMEDays">
                        <expression localId="666" locator="287:21-287:34" name="scriptsMMEDays" xsi:type="OperandRef"/>
                     </source>
                     <where localId="671" locator="288:5-288:43" xsi:type="In">
                        <operand localId="668" locator="288:11-288:13" name="Day" xsi:type="AliasRef"/>
                        <operand localId="670" locator="288:18-288:43" path="daysInPeriod" scope="ScriptMMEDays" xsi:type="Property"/>
                     </where>
                     <return localId="674" locator="289:5-289:32" distinct="false">
                        <expression localId="673" locator="289:16-289:32" path="mme" scope="ScriptMMEDays" xsi:type="Property"/>
                     </return>
                  </source>
               </expression>
            </let>
            <return localId="681" locator="291:3-294:3">
               <expression localId="680" locator="291:10-294:3" xsi:type="Tuple">
                  <element name="Day">
                     <value localId="678" locator="292:9-292:11" name="Day" xsi:type="AliasRef"/>
                  </element>
                  <element name="totalMME">
                     <value localId="679" locator="293:14-293:21" name="totalMME" xsi:type="QueryLetRef"/>
                  </element>
               </expression>
            </return>
         </expression>
         <operand name="scriptsMMEDays">
            <operandTypeSpecifier localId="656" locator="274:60-281:2" xsi:type="ListTypeSpecifier">
               <elementType localId="655" locator="274:65-281:1" xsi:type="TupleTypeSpecifier">
                  <element localId="642" locator="275:2-275:16" name="rxNormCode">
                     <elementType localId="641" locator="275:13-275:16" name="t:Code" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element localId="644" locator="276:2-276:20" name="authortime">
                     <elementType localId="643" locator="276:13-276:20" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element localId="647" locator="277:2-277:35" name="effectivePeriod">
                     <elementType localId="646" locator="277:18-277:35" xsi:type="IntervalTypeSpecifier">
                        <pointType localId="645" locator="277:27-277:34" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element localId="649" locator="278:2-278:25" name="conversionFactor">
                     <elementType localId="648" locator="278:19-278:25" name="t:Decimal" xsi:type="NamedTypeSpecifier"/>
                  </element>
                  <element localId="652" locator="279:2-279:28" name="daysInPeriod">
                     <elementType localId="651" locator="279:15-279:28" xsi:type="ListTypeSpecifier">
                        <elementType localId="650" locator="279:20-279:27" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                     </elementType>
                  </element>
                  <element localId="654" locator="280:2-280:20" name="mme">
                     <elementType localId="653" locator="280:6-280:20" name="t:Quantity" xsi:type="NamedTypeSpecifier"/>
                  </element>
               </elementType>
            </operandTypeSpecifier>
         </operand>
      </def>
      <def localId="688" locator="123:1-133:3" name="Active Periods with MME Sum Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="688">
               <a:s>define &quot;Active Periods with MME Sum Days&quot;:&#xd;
	/*Calculates individual MME for each day in every prescription, and a total daily MME across prescriptions, accounting for overlap*/&#xd;
	</a:s>
               <a:s r="687">
                  <a:s>
                     <a:s r="322">
                        <a:s r="321">
                           <a:s>
                              <a:s>&quot;Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Period</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s>
                     <a:s>let </a:s>
                     <a:s r="632">
                        <a:s>ScriptsMMEDays: </a:s>
                        <a:s r="631">
                           <a:s>&quot;CalculateDailyMMEPerMedication&quot;(</a:s>
                           <a:s r="324">
                              <a:s r="323">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="324">
                                 <a:s>meds</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="326">
                              <a:s r="325">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="326">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="686">
                     <a:s>return </a:s>
                     <a:s r="685">
                        <a:s>{&#xd;
			</a:s>
                        <a:s>
                           <a:s>period: </a:s>
                           <a:s r="634">
                              <a:s r="633">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="634">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>meds: </a:s>
                           <a:s r="636">
                              <a:s r="635">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="636">
                                 <a:s>meds</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>cmd: </a:s>
                           <a:s r="638">
                              <a:s r="637">
                                 <a:s>Period</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="638">
                                 <a:s>cmd</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>mmeDays: </a:s>
                           <a:s r="639">
                              <a:s>ScriptsMMEDays</a:s>
                           </a:s>
                        </a:s>
                        <a:s>,&#xd;
			</a:s>
                        <a:s>
                           <a:s>mmeSumDays: </a:s>
                           <a:s r="684">
                              <a:s>&quot;CalculatesTotalMMESumDays&quot;(</a:s>
                              <a:s r="640">
                                 <a:s>ScriptsMMEDays</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		}</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="687" locator="125:2-133:3" xsi:type="Query">
            <source localId="322" locator="125:2-125:100" alias="Period">
               <expression localId="321" locator="125:2-125:93" name="Active Periods with and without Gaps and Cumulative Medication Duration of 90 or More Days" xsi:type="ExpressionRef"/>
            </source>
            <let localId="632" locator="126:7-126:82" identifier="ScriptsMMEDays">
               <expression localId="631" locator="126:23-126:82" name="CalculateDailyMMEPerMedication" xsi:type="FunctionRef">
                  <operand localId="324" locator="126:56-126:66" path="meds" scope="Period" xsi:type="Property"/>
                  <operand localId="326" locator="126:69-126:81" path="period" scope="Period" xsi:type="Property"/>
               </expression>
            </let>
            <return localId="686" locator="127:3-133:3">
               <expression localId="685" locator="127:10-133:3" xsi:type="Tuple">
                  <element name="period">
                     <value localId="634" locator="128:12-128:24" path="period" scope="Period" xsi:type="Property"/>
                  </element>
                  <element name="meds">
                     <value localId="636" locator="129:10-129:20" path="meds" scope="Period" xsi:type="Property"/>
                  </element>
                  <element name="cmd">
                     <value localId="638" locator="130:9-130:18" path="cmd" scope="Period" xsi:type="Property"/>
                  </element>
                  <element name="mmeDays">
                     <value localId="639" locator="131:13-131:26" name="ScriptsMMEDays" xsi:type="QueryLetRef"/>
                  </element>
                  <element name="mmeSumDays">
                     <value localId="684" locator="132:16-132:58" name="CalculatesTotalMMESumDays" xsi:type="FunctionRef">
                        <operand localId="640" locator="132:44-132:57" name="ScriptsMMEDays" xsi:type="QueryLetRef"/>
                     </value>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="703" locator="78:1-83:8" name="Active Periods with MMEs 90 or More for 90 or More Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="703">
               <a:s>define &quot;Active Periods with MMEs 90 or More for 90 or More Days&quot;:&#xd;
	/*Periods with MMEs that are 90 milligrams or more for 90 days or more*/&#xd;
	</a:s>
               <a:s r="702">
                  <a:s>
                     <a:s r="690">
                        <a:s r="689">
                           <a:s>
                              <a:s>&quot;Active Periods with MME Sum Days&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> Period</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="701">
                     <a:s>where </a:s>
                     <a:s r="701">
                        <a:s r="699">
                           <a:s>Count(</a:s>
                           <a:s r="698">
                              <a:s>
                                 <a:s r="692">
                                    <a:s r="691">
                                       <a:s>
                                          <a:s>Period.mmeSumDays</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> MMESum</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="697">
                                 <a:s>where </a:s>
                                 <a:s r="697">
                                    <a:s r="695">
                                       <a:s r="694">
                                          <a:s r="693">
                                             <a:s>MMESum</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="694">
                                             <a:s>totalMME</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="695">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="696"> >= 90</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		)</a:s>
                        </a:s>
                        <a:s r="700">>= 90</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="702" locator="80:2-83:8" xsi:type="Query">
            <source localId="690" locator="80:2-80:42" alias="Period">
               <expression localId="689" locator="80:2-80:35" name="Active Periods with MME Sum Days" xsi:type="ExpressionRef"/>
            </source>
            <where localId="701" locator="81:3-83:8" xsi:type="GreaterOrEqual">
               <operand localId="699" locator="81:9-83:3" xsi:type="Count">
                  <source localId="698" locator="81:15-82:37" xsi:type="Query">
                     <source localId="692" locator="81:15-81:38" alias="MMESum">
                        <expression localId="691" locator="81:15-81:31" path="mmeSumDays" scope="Period" xsi:type="Property"/>
                     </source>
                     <where localId="697" locator="82:5-82:37" xsi:type="GreaterOrEqual">
                        <operand localId="695" locator="82:11-82:31" path="value" xsi:type="Property">
                           <source localId="694" locator="82:11-82:25" path="totalMME" scope="MMESum" xsi:type="Property"/>
                        </operand>
                        <operand xsi:type="ToDecimal">
                           <operand localId="696" locator="82:36-82:37" valueType="t:Integer" value="90" xsi:type="Literal"/>
                        </operand>
                     </where>
                  </source>
               </operand>
               <operand localId="700" locator="83:7-83:8" valueType="t:Integer" value="90" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="706" locator="119:1-121:65" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="706">
               <a:s>define &quot;Numerator&quot;:&#xd;
	/*Patients with opioid prescription orders of 90 or more MME*/&#xd;
	</a:s>
               <a:s r="705">
                  <a:s>exists </a:s>
                  <a:s r="704">
                     <a:s>&quot;Active Periods with MMEs 90 or More for 90 or More Days&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="705" locator="121:2-121:65" xsi:type="Exists">
            <operand localId="704" locator="121:9-121:65" name="Active Periods with MMEs 90 or More for 90 or More Days" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="815" locator="198:1-227:3" name="Denominator Exclusion" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="815">
               <a:s>define &quot;Denominator Exclusion&quot;:&#xd;
	/*Measure excludes patients receiving palliative or hospice treatment during the measurement period. Or patients who have a diagnosis of cancer (could occur up to 1 yr prior) or sickle cell disease during the measurement period*/&#xd;
	</a:s>
               <a:s r="814">
                  <a:s r="789">
                     <a:s r="757">
                        <a:s r="736">
                           <a:s r="723">
                              <a:s>exists </a:s>
                              <a:s r="722">
                                 <a:s>( </a:s>
                                 <a:s r="722">
                                    <a:s>
                                       <a:s r="708">
                                          <a:s r="707">
                                             <a:s>
                                                <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> QualifyingEncounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
			</a:s>
                                    <a:s r="721">
                                       <a:s>with </a:s>
                                       <a:s r="710">
                                          <a:s r="709">
                                             <a:s r="709">
                                                <a:s>[&quot;ProcedureRequest&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Palliative Care&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> PalliativeCareOrder</a:s>
                                       </a:s>
                                       <a:s>&#xd;
				such that </a:s>
                                       <a:s r="720">
                                          <a:s r="714">
                                             <a:s r="712">
                                                <a:s r="711">
                                                   <a:s>PalliativeCareOrder</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="712">
                                                   <a:s>intent</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> = </a:s>
                                             <a:s r="713">
                                                <a:s>'order'</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
				  and </a:s>
                                          <a:s r="719">
                                             <a:s r="716">
                                                <a:s r="715">
                                                   <a:s>PalliativeCareOrder</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="716">
                                                   <a:s>authoredOn</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="719"> during </a:s>
                                             <a:s r="718">
                                                <a:s r="717">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="718">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
	)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		or </a:s>
                           <a:s r="735">
                              <a:s>exists </a:s>
                              <a:s r="734">
                                 <a:s>( </a:s>
                                 <a:s r="734">
                                    <a:s>
                                       <a:s r="725">
                                          <a:s r="724">
                                             <a:s>
                                                <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> QualifyingEncounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				</a:s>
                                    <a:s r="733">
                                       <a:s>with </a:s>
                                       <a:s r="727">
                                          <a:s r="726">
                                             <a:s r="726">
                                                <a:s>[&quot;Procedure&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Palliative Care&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> PalliativeCareIntervention</a:s>
                                       </a:s>
                                       <a:s>&#xd;
					such that </a:s>
                                       <a:s r="732">
                                          <a:s r="729">
                                             <a:s r="728">
                                                <a:s>PalliativeCareIntervention</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="729">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="732"> overlaps </a:s>
                                          <a:s r="731">
                                             <a:s r="730">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="731">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
		)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		or </a:s>
                        <a:s r="756">
                           <a:s>exists </a:s>
                           <a:s r="755">
                              <a:s>( </a:s>
                              <a:s r="755">
                                 <a:s>
                                    <a:s r="738">
                                       <a:s r="737">
                                          <a:s>
                                             <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> QualifyingEncounter</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				</a:s>
                                 <a:s r="754">
                                    <a:s>with </a:s>
                                    <a:s r="744">
                                       <a:s r="743">
                                          <a:s>( </a:s>
                                          <a:s r="743">
                                             <a:s r="741">
                                                <a:s r="739">
                                                   <a:s>[&quot;ProcedureRequest&quot;: </a:s>
                                                   <a:s>
                                                      <a:s>&quot;Hospice Care SNO&quot;</a:s>
                                                   </a:s>
                                                   <a:s>]</a:s>
                                                </a:s>
                                                <a:s>&#xd;
					union </a:s>
                                                <a:s r="740">
                                                   <a:s>[&quot;Procedure&quot;: </a:s>
                                                   <a:s>
                                                      <a:s>&quot;Hospice Care SNO&quot;</a:s>
                                                   </a:s>
                                                   <a:s>]</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>&#xd;
					union </a:s>
                                             <a:s r="742">
                                                <a:s>[&quot;ProcedureRequest&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Hospice Care SNO&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> )</a:s>
                                       </a:s>
                                       <a:s> Hospice</a:s>
                                    </a:s>
                                    <a:s>&#xd;
					such that </a:s>
                                    <a:s r="753">
                                       <a:s r="748">
                                          <a:s r="746">
                                             <a:s r="745">
                                                <a:s>Hospice</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="746">
                                                <a:s>authoredOn</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="748"> during </a:s>
                                          <a:s r="747">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
					  or </a:s>
                                       <a:s r="752">
                                          <a:s r="750">
                                             <a:s r="749">
                                                <a:s>Hospice</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="750">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="752"> during </a:s>
                                          <a:s r="751">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> // TODO: Note the mapping for Procedure here was actually to Provenance...&#xd;
		)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		or </a:s>
                     <a:s r="788">
                        <a:s>exists </a:s>
                        <a:s r="787">
                           <a:s>( </a:s>
                           <a:s r="787">
                              <a:s>
                                 <a:s r="759">
                                    <a:s r="758">
                                       <a:s>
                                          <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> QualifyingEncounter</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="786">
                                 <a:s>with </a:s>
                                 <a:s r="761">
                                    <a:s r="760">
                                       <a:s r="760">
                                          <a:s>[&quot;Condition&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;All Cancer&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Cancer</a:s>
                                 </a:s>
                                 <a:s>&#xd;
					such that </a:s>
                                 <a:s r="785">
                                    <a:s r="770">
                                       <a:s r="765">
                                          <a:s r="763">
                                             <a:s r="762">
                                                <a:s>Cancer</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="763">
                                                <a:s>clinicalStatus</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> = </a:s>
                                          <a:s r="764">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
					  and </a:s>
                                       <a:s r="769">
                                          <a:s r="767">
                                             <a:s r="766">
                                                <a:s>Cancer</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="767">
                                                <a:s>verificationStatus</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> = </a:s>
                                          <a:s r="768">
                                             <a:s>'confirmed'</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
						and </a:s>
                                    <a:s r="784">
                                       <a:s r="776">
                                          <a:s>Min(</a:s>
                                          <a:s r="775">
                                             <a:s>{ </a:s>
                                             <a:s r="772">
                                                <a:s r="771">
                                                   <a:s>Cancer</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="772">
                                                   <a:s>assertedDate</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="774">
                                                <a:s r="773">
                                                   <a:s>Cancer</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="774">
                                                   <a:s>onset</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>}</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="783">
                                          <a:s>Interval[</a:s>
                                          <a:s r="780">
                                             <a:s r="778">
                                                <a:s>start of </a:s>
                                                <a:s r="777">
                                                   <a:s>&quot;Measurement Period&quot;</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s> - </a:s>
                                             <a:s r="779">
                                                <a:s>1 year</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="782">
                                             <a:s>end of </a:s>
                                             <a:s r="781">
                                                <a:s>&quot;Measurement Period&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		or </a:s>
                  <a:s r="813">
                     <a:s>exists </a:s>
                     <a:s r="812">
                        <a:s>( </a:s>
                        <a:s r="812">
                           <a:s>
                              <a:s r="791">
                                 <a:s r="790">
                                    <a:s>
                                       <a:s>&quot;Encounters during Measurement Period&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> QualifyingEncounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
				</a:s>
                           <a:s r="811">
                              <a:s>with </a:s>
                              <a:s r="793">
                                 <a:s r="792">
                                    <a:s r="792">
                                       <a:s>[&quot;Condition&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Sickle Cell Disease SNOMEDCT&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SickleCell</a:s>
                              </a:s>
                              <a:s>&#xd;
					such that </a:s>
                              <a:s r="810">
                                 <a:s r="802">
                                    <a:s r="797">
                                       <a:s r="795">
                                          <a:s r="794">
                                             <a:s>SickleCell</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="795">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="796">
                                          <a:s>'actcive'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
					  and </a:s>
                                    <a:s r="801">
                                       <a:s r="799">
                                          <a:s r="798">
                                             <a:s>SickleCell</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="799">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="800">
                                          <a:s>'confirmed'</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
						and </a:s>
                                 <a:s r="809">
                                    <a:s r="807">
                                       <a:s>Interval[</a:s>
                                       <a:s r="804">
                                          <a:s r="803">
                                             <a:s>SickleCell</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="804">
                                             <a:s>onset</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="806">
                                          <a:s r="805">
                                             <a:s>SickleCell</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="806">
                                             <a:s>abatement</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                    <a:s r="809"> overlaps </a:s>
                                    <a:s r="808">
                                       <a:s>&quot;Measurement Period&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="814" locator="200:2-227:3" xsi:type="Or">
            <operand localId="789" locator="200:2-221:3" xsi:type="Or">
               <operand localId="757" locator="200:2-215:3" xsi:type="Or">
                  <operand localId="736" locator="200:2-208:3" xsi:type="Or">
                     <operand localId="723" locator="200:2-204:2" xsi:type="Exists">
                        <operand localId="722" locator="200:9-204:2" xsi:type="Query">
                           <source localId="708" locator="200:11-200:68" alias="QualifyingEncounter">
                              <expression localId="707" locator="200:11-200:48" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
                           </source>
                           <relationship localId="721" locator="201:4-203:74" alias="PalliativeCareOrder" xsi:type="With">
                              <expression localId="709" locator="201:9-201:47" dataType="fhir:ProcedureRequest" codeProperty="code" xsi:type="Retrieve">
                                 <codes name="Palliative Care" xsi:type="ValueSetRef"/>
                              </expression>
                              <suchThat localId="720" locator="202:15-203:74" xsi:type="And">
                                 <operand localId="714" locator="202:15-202:50" xsi:type="Equal">
                                    <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="712" locator="202:15-202:40" path="intent" scope="PalliativeCareOrder" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="713" locator="202:44-202:50" valueType="t:String" value="order" xsi:type="Literal"/>
                                 </operand>
                                 <operand localId="719" locator="203:11-203:74" xsi:type="In">
                                    <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="716" locator="203:11-203:40" path="authoredOn" scope="PalliativeCareOrder" xsi:type="Property"/>
                                    </operand>
                                    <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="718" locator="203:49-203:74" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                              </suchThat>
                           </relationship>
                        </operand>
                     </operand>
                     <operand localId="735" locator="205:6-208:3" xsi:type="Exists">
                        <operand localId="734" locator="205:13-208:3" xsi:type="Query">
                           <source localId="725" locator="205:15-205:72" alias="QualifyingEncounter">
                              <expression localId="724" locator="205:15-205:52" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
                           </source>
                           <relationship localId="733" locator="206:5-207:87" alias="PalliativeCareIntervention" xsi:type="With">
                              <expression localId="726" locator="206:10-206:41" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                                 <codes name="Palliative Care" xsi:type="ValueSetRef"/>
                              </expression>
                              <suchThat localId="732" locator="207:16-207:87" xsi:type="Overlaps">
                                 <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:Period" xsi:type="As">
                                       <operand localId="729" locator="207:16-207:51" path="performed" scope="PalliativeCareIntervention" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="731" locator="207:62-207:87" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                 </operand>
                              </suchThat>
                           </relationship>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="756" locator="209:6-215:3" xsi:type="Exists">
                     <operand localId="755" locator="209:13-215:3" xsi:type="Query">
                        <source localId="738" locator="209:15-209:72" alias="QualifyingEncounter">
                           <expression localId="737" locator="209:15-209:52" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
                        </source>
                        <relationship localId="754" locator="210:5-214:55" alias="Hospice" xsi:type="With">
                           <expression localId="743" locator="210:10-212:53" xsi:type="Union">
                              <operand xsi:type="As">
                                 <operand localId="741" locator="210:12-211:44" xsi:type="Union">
                                    <operand xsi:type="As">
                                       <operand localId="739" locator="210:12-210:51" dataType="fhir:ProcedureRequest" codeProperty="code" xsi:type="Retrieve">
                                          <codes name="Hospice Care SNO" xsi:type="ValueSetRef"/>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </asTypeSpecifier>
                                    </operand>
                                    <operand xsi:type="As">
                                       <operand localId="740" locator="211:12-211:44" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                                          <codes name="Hospice Care SNO" xsi:type="ValueSetRef"/>
                                       </operand>
                                       <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                          <elementType xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                          </elementType>
                                       </asTypeSpecifier>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="ChoiceTypeSpecifier">
                                       <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </asTypeSpecifier>
                              </operand>
                              <operand xsi:type="As">
                                 <operand localId="742" locator="212:12-212:51" dataType="fhir:ProcedureRequest" codeProperty="code" xsi:type="Retrieve">
                                    <codes name="Hospice Care SNO" xsi:type="ValueSetRef"/>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ListTypeSpecifier">
                                    <elementType xsi:type="ChoiceTypeSpecifier">
                                       <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                       <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                    </elementType>
                                 </asTypeSpecifier>
                              </operand>
                           </expression>
                           <suchThat localId="753" locator="213:16-214:55" xsi:type="Or">
                              <operand localId="748" locator="213:16-213:61" xsi:type="In">
                                 <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="746" locator="213:16-213:33" path="authoredOn" scope="Hospice" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="747" locator="213:42-213:61" name="Measurement Period" xsi:type="ParameterRef"/>
                              </operand>
                              <operand localId="752" locator="214:11-214:55" xsi:type="IncludedIn">
                                 <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:Period" xsi:type="As">
                                       <operand localId="750" locator="214:11-214:27" path="performed" scope="Hospice" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <operand localId="751" locator="214:36-214:55" name="Measurement Period" xsi:type="ParameterRef"/>
                              </operand>
                           </suchThat>
                        </relationship>
                     </operand>
                  </operand>
               </operand>
               <operand localId="788" locator="216:6-221:3" xsi:type="Exists">
                  <operand localId="787" locator="216:13-221:3" xsi:type="Query">
                     <source localId="759" locator="216:15-216:72" alias="QualifyingEncounter">
                        <expression localId="758" locator="216:15-216:52" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
                     </source>
                     <relationship localId="786" locator="217:5-220:132" alias="Cancer" xsi:type="With">
                        <expression localId="760" locator="217:10-217:36" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                           <codes name="All Cancer" xsi:type="ValueSetRef"/>
                        </expression>
                        <suchThat localId="785" locator="218:16-220:132" xsi:type="And">
                           <operand localId="770" locator="218:16-219:50" xsi:type="And">
                              <operand localId="765" locator="218:16-218:47" xsi:type="Equal">
                                 <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="763" locator="218:16-218:36" path="clinicalStatus" scope="Cancer" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="764" locator="218:40-218:47" valueType="t:String" value="active" xsi:type="Literal"/>
                              </operand>
                              <operand localId="769" locator="219:12-219:50" xsi:type="Equal">
                                 <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="767" locator="219:12-219:36" path="verificationStatus" scope="Cancer" xsi:type="Property"/>
                                 </operand>
                                 <operand localId="768" locator="219:40-219:50" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="784" locator="220:11-220:132" xsi:type="In">
                              <operand localId="776" locator="220:11-220:51" xsi:type="Min">
                                 <source xsi:type="Query">
                                    <source alias="X">
                                       <expression localId="775" locator="220:15-220:50" xsi:type="List">
                                          <element localId="772" locator="220:17-220:35" path="assertedDate" scope="Cancer" xsi:type="Property"/>
                                          <element asType="fhir:dateTime" xsi:type="As">
                                             <operand localId="774" locator="220:38-220:49" path="onset" scope="Cancer" xsi:type="Property"/>
                                          </element>
                                       </expression>
                                    </source>
                                    <return distinct="false">
                                       <expression name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand name="X" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </source>
                              </operand>
                              <operand localId="783" locator="220:56-220:132" lowClosed="true" highClosed="true" xsi:type="Interval">
                                 <low localId="780" locator="220:65-220:102" xsi:type="Subtract">
                                    <operand localId="778" locator="220:65-220:93" xsi:type="Start">
                                       <operand localId="777" locator="220:74-220:93" name="Measurement Period" xsi:type="ParameterRef"/>
                                    </operand>
                                    <operand localId="779" locator="220:97-220:102" value="1" unit="year" xsi:type="Quantity"/>
                                 </low>
                                 <high localId="782" locator="220:105-220:131" xsi:type="End">
                                    <operand localId="781" locator="220:112-220:131" name="Measurement Period" xsi:type="ParameterRef"/>
                                 </high>
                              </operand>
                           </operand>
                        </suchThat>
                     </relationship>
                  </operand>
               </operand>
            </operand>
            <operand localId="813" locator="222:6-227:3" xsi:type="Exists">
               <operand localId="812" locator="222:13-227:3" xsi:type="Query">
                  <source localId="791" locator="222:15-222:72" alias="QualifyingEncounter">
                     <expression localId="790" locator="222:15-222:52" name="Encounters during Measurement Period" xsi:type="ExpressionRef"/>
                  </source>
                  <relationship localId="811" locator="223:5-226:88" alias="SickleCell" xsi:type="With">
                     <expression localId="792" locator="223:10-223:54" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Sickle Cell Disease SNOMEDCT" xsi:type="ValueSetRef"/>
                     </expression>
                     <suchThat localId="810" locator="224:16-226:88" xsi:type="And">
                        <operand localId="802" locator="224:16-225:54" xsi:type="And">
                           <operand localId="797" locator="224:16-224:52" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="795" locator="224:16-224:40" path="clinicalStatus" scope="SickleCell" xsi:type="Property"/>
                              </operand>
                              <operand localId="796" locator="224:44-224:52" valueType="t:String" value="actcive" xsi:type="Literal"/>
                           </operand>
                           <operand localId="801" locator="225:12-225:54" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="799" locator="225:12-225:40" path="verificationStatus" scope="SickleCell" xsi:type="Property"/>
                              </operand>
                              <operand localId="800" locator="225:44-225:54" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="809" locator="226:11-226:88" xsi:type="Overlaps">
                           <operand xsi:type="Interval">
                              <low name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand asType="fhir:dateTime" xsi:type="As">
                                    <operand path="low" xsi:type="Property">
                                       <source localId="807" locator="226:11-226:58" lowClosed="true" highClosed="true" xsi:type="Interval">
                                          <low localId="804" locator="226:20-226:35" path="onset" scope="SickleCell" xsi:type="Property"/>
                                          <high asType="fhir:dateTime" xsi:type="As">
                                             <operand xsi:type="As">
                                                <operand localId="806" locator="226:38-226:57" path="abatement" scope="SickleCell" xsi:type="Property"/>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </asTypeSpecifier>
                                             </operand>
                                          </high>
                                       </source>
                                    </operand>
                                 </operand>
                              </low>
                              <lowClosedExpression path="lowClosed" xsi:type="Property">
                                 <source localId="807" locator="226:11-226:58" lowClosed="true" highClosed="true" xsi:type="Interval">
                                    <low localId="804" locator="226:20-226:35" path="onset" scope="SickleCell" xsi:type="Property"/>
                                    <high asType="fhir:dateTime" xsi:type="As">
                                       <operand xsi:type="As">
                                          <operand localId="806" locator="226:38-226:57" path="abatement" scope="SickleCell" xsi:type="Property"/>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                          </asTypeSpecifier>
                                       </operand>
                                    </high>
                                 </source>
                              </lowClosedExpression>
                              <high name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand asType="fhir:dateTime" xsi:type="As">
                                    <operand path="high" xsi:type="Property">
                                       <source localId="807" locator="226:11-226:58" lowClosed="true" highClosed="true" xsi:type="Interval">
                                          <low localId="804" locator="226:20-226:35" path="onset" scope="SickleCell" xsi:type="Property"/>
                                          <high asType="fhir:dateTime" xsi:type="As">
                                             <operand xsi:type="As">
                                                <operand localId="806" locator="226:38-226:57" path="abatement" scope="SickleCell" xsi:type="Property"/>
                                                <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                                   <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                                   <choice name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                                </asTypeSpecifier>
                                             </operand>
                                          </high>
                                       </source>
                                    </operand>
                                 </operand>
                              </high>
                              <highClosedExpression path="highClosed" xsi:type="Property">
                                 <source localId="807" locator="226:11-226:58" lowClosed="true" highClosed="true" xsi:type="Interval">
                                    <low localId="804" locator="226:20-226:35" path="onset" scope="SickleCell" xsi:type="Property"/>
                                    <high asType="fhir:dateTime" xsi:type="As">
                                       <operand xsi:type="As">
                                          <operand localId="806" locator="226:38-226:57" path="abatement" scope="SickleCell" xsi:type="Property"/>
                                          <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                             <choice name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Age" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Period" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:Range" xsi:type="NamedTypeSpecifier"/>
                                             <choice name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                                          </asTypeSpecifier>
                                       </operand>
                                    </high>
                                 </source>
                              </highClosedExpression>
                           </operand>
                           <operand localId="808" locator="226:69-226:88" name="Measurement Period" xsi:type="ParameterRef"/>
                        </operand>
                     </suchThat>
                  </relationship>
               </operand>
            </operand>
         </expression>
      </def>
   </statements>
</library>


