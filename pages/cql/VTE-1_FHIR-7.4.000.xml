<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation startLine="108" startChar="5" endLine="108" endChar="61" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="108" startChar="5" endLine="108" endChar="61" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="109" startChar="11" endLine="109" endChar="92" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="109" startChar="11" endLine="109" endChar="92" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="110" startChar="11" endLine="110" endChar="81" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="110" startChar="11" endLine="110" endChar="81" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="292" startChar="5" endLine="292" endChar="86" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="292" startChar="5" endLine="292" endChar="86" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="293" startChar="11" endLine="293" endChar="67" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="293" startChar="11" endLine="293" endChar="67" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="294" startChar="11" endLine="294" endChar="81" message="Could not resolve code path code for the type of the retrieve FHIR.DeviceUseStatement." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="294" startChar="11" endLine="294" endChar="81" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation startLine="478" startChar="4" endLine="478" endChar="53" message="Could not resolve membership operator for terminology target of the retrieve." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <identifier id="VenousThromboembolismProphylaxis_FHIR" version="7.4.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="23:1-23:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
   </usings>
   <includes>
      <def localId="2" locator="25:1-25:54" localIdentifier="FHIRHelpers" path="FHIRHelpers" version="3.0.0"/>
      <def localId="3" locator="26:1-26:69" localIdentifier="Global" path="MATGlobalCommonFunctions_FHIR" version="2.0.000"/>
      <def localId="4" locator="27:1-27:51" localIdentifier="VTEICU" path="VTEICU_FHIR" version="2.4.000"/>
      <def localId="5" locator="28:1-28:64" localIdentifier="SDE" path="SupplementalDataElements_FHIR" version="1.0.0"/>
   </includes>
   <codeSystems>
      <def localId="6" locator="30:1-30:60" name="SNOMEDCT" id="http://snomed.info/sct/731000124108" accessLevel="Public"/>
      <def localId="7" locator="31:1-31:38" name="LOINC" id="http://loinc.org" accessLevel="Public"/>
      <def localId="8" locator="32:1-32:64" name="RequestIntent" id="http://hl7.org/fhir/request-intent" accessLevel="Public"/>
   </codeSystems>
   <valueSets>
      <def localId="9" locator="34:1-34:98" name="ONC Administrative Sex" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1" accessLevel="Public"/>
      <def localId="10" locator="35:1-35:83" name="Race" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836" accessLevel="Public"/>
      <def localId="11" locator="36:1-36:88" name="Ethnicity" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837" accessLevel="Public"/>
      <def localId="12" locator="37:1-37:85" name="Payer" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591" accessLevel="Public"/>
      <def localId="13" locator="38:1-38:113" name="Atrial Fibrillation/Flutter" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202" accessLevel="Public"/>
      <def localId="14" locator="39:1-39:95" name="Comfort Measures" id="https://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45" accessLevel="Public"/>
      <def localId="15" locator="40:1-40:111" name="Direct Thrombin Inhibitor" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205" accessLevel="Public"/>
      <def localId="16" locator="41:1-41:112" name="Emergency Department Visit" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292" accessLevel="Public"/>
      <def localId="17" locator="42:1-42:114" name="General or Neuraxial Anesthesia" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743" accessLevel="Public"/>
      <def localId="18" locator="43:1-43:101" name="General Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255" accessLevel="Public"/>
      <def localId="19" locator="44:1-44:114" name="Glycoprotein IIb/IIIa Inhibitors" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41" accessLevel="Public"/>
      <def localId="20" locator="45:1-45:123" name="Graduated compression stockings (GCS)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256" accessLevel="Public"/>
      <def localId="21" locator="46:1-46:107" name="Gynecological Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257" accessLevel="Public"/>
      <def localId="22" locator="47:1-47:104" name="Hemorrhagic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212" accessLevel="Public"/>
      <def localId="23" locator="48:1-48:106" name="Hip Fracture Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258" accessLevel="Public"/>
      <def localId="24" locator="49:1-49:109" name="Hip Replacement Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259" accessLevel="Public"/>
      <def localId="25" locator="50:1-50:136" name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211" accessLevel="Public"/>
      <def localId="26" locator="51:1-51:89" name="INR" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213" accessLevel="Public"/>
      <def localId="27" locator="52:1-52:134" name="Intermittent pneumatic compression devices (IPC)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214" accessLevel="Public"/>
      <def localId="28" locator="53:1-53:111" name="Intracranial Neurosurgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260" accessLevel="Public"/>
      <def localId="29" locator="54:1-54:103" name="Intravenous route" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222" accessLevel="Public"/>
      <def localId="30" locator="55:1-55:101" name="Ischemic Stroke" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247" accessLevel="Public"/>
      <def localId="31" locator="56:1-56:110" name="Knee Replacement Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261" accessLevel="Public"/>
      <def localId="32" locator="57:1-57:133" name="Low Dose Unfractionated Heparin for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39" accessLevel="Public"/>
      <def localId="33" locator="58:1-58:134" name="Low Molecular Weight Heparin for VTE Prophylaxis" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219" accessLevel="Public"/>
      <def localId="34" locator="59:1-59:94" name="Low Risk" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400" accessLevel="Public"/>
      <def localId="35" locator="60:1-60:100" name="Medical Reason" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473" accessLevel="Public"/>
      <def localId="36" locator="61:1-61:116" name="Mental Health Diagnoses" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004" accessLevel="Public"/>
      <def localId="37" locator="62:1-62:96" name="Obstetrics" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263" accessLevel="Public"/>
      <def localId="38" locator="63:1-63:100" name="Obstetrics VTE" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264" accessLevel="Public"/>
      <def localId="39" locator="64:1-64:147" name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134" accessLevel="Public"/>
      <def localId="40" locator="65:1-65:100" name="Patient Refusal" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93" accessLevel="Public"/>
      <def localId="41" locator="67:1-67:104" name="Subcutaneous route" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223" accessLevel="Public"/>
      <def localId="42" locator="68:1-68:108" name="Unfractionated Heparin" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218" accessLevel="Public"/>
      <def localId="43" locator="69:1-69:104" name="Urological Surgery" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272" accessLevel="Public"/>
      <def localId="44" locator="70:1-70:109" name="Venous foot pumps (VFP)" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230" accessLevel="Public"/>
      <def localId="45" locator="71:1-71:108" name="Venous Thromboembolism" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279" accessLevel="Public"/>
      <def localId="46" locator="72:1-72:94" name="Warfarin" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232" accessLevel="Public"/>
      <def localId="47" locator="73:1-73:101" name="Intensive Care Unit" id="https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.23" accessLevel="Public"/>
   </valueSets>
   <codes>
      <def localId="49" locator="75:1-75:104" name="Risk for venous thromboembolism" id="72136-5" display="Risk for venous thromboembolism" accessLevel="Public">
         <codeSystem localId="48" locator="75:56-75:62" name="LOINC"/>
      </def>
      <def localId="51" locator="76:1-76:82" name="Principal" id="63161005" display="Principal (qualifier value)" accessLevel="Public">
         <codeSystem localId="50" locator="76:35-76:44" name="SNOMEDCT"/>
      </def>
      <def localId="53" locator="77:1-77:58" name="Order" id="order" display="Order" accessLevel="Public">
         <codeSystem localId="52" locator="77:28-77:42" name="RequestIntent"/>
      </def>
   </codes>
   <statements>
      <def locator="79:1-79:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="79:1-79:15" dataType="fhir:Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="56" locator="81:1-82:21" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="56">
               <a:s>define &quot;SDE Ethnicity&quot;:&#xd;
  </a:s>
               <a:s r="55">
                  <a:s r="54">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="55">
                     <a:s>&quot;SDE Ethnicity&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="55" locator="82:3-82:21" name="SDE Ethnicity" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="59" locator="84:1-85:16" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="59">
               <a:s>define &quot;SDE Payer&quot;:&#xd;
	</a:s>
               <a:s r="58">
                  <a:s r="57">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="58">
                     <a:s>&quot;SDE Payer&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="58" locator="85:2-85:16" name="SDE Payer" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="62" locator="87:1-88:16" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="62">
               <a:s>define &quot;SDE Race&quot;:&#xd;
  </a:s>
               <a:s r="61">
                  <a:s r="60">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="61">
                     <a:s>&quot;SDE Race&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="61" locator="88:3-88:16" name="SDE Race" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="65" locator="90:1-91:14" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="65">
               <a:s>define &quot;SDE Sex&quot;:&#xd;
	</a:s>
               <a:s r="64">
                  <a:s r="63">
                     <a:s>SDE</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="64">
                     <a:s>&quot;SDE Sex&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="64" locator="91:2-91:14" name="SDE Sex" libraryName="SDE" xsi:type="ExpressionRef"/>
      </def>
      <def localId="137" locator="209:1-223:7" name="Admission Without VTE or Obstetrical Conditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="137">
               <a:s>define &quot;Admission Without VTE or Obstetrical Conditions&quot;:&#xd;
		</a:s>
               <a:s r="136">
                  <a:s r="107">
                     <a:s>(</a:s>
                     <a:s r="107">
                        <a:s>
                           <a:s r="85">
                              <a:s r="84">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="106">
                           <a:s>where </a:s>
                           <a:s r="106">
                              <a:s>not </a:s>
                              <a:s r="105">
                                 <a:s>(</a:s>
                                 <a:s r="105">
                                    <a:s r="98">
                                       <a:s r="91">
                                          <a:s r="89">
                                             <a:s r="88">
                                                <a:s r="86">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="88">
                                                   <a:s>EncounterDiagnosis(</a:s>
                                                   <a:s r="87">
                                                      <a:s>InpatientEncounter</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="89">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="90">
                                             <a:s>&quot;Obstetrics&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
								or </a:s>
                                       <a:s r="97">
                                          <a:s r="95">
                                             <a:s r="94">
                                                <a:s r="92">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="94">
                                                   <a:s>EncounterDiagnosis(</a:s>
                                                   <a:s r="93">
                                                      <a:s>InpatientEncounter</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="95">
                                                <a:s>code</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="96">
                                             <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
								or </a:s>
                                    <a:s r="104">
                                       <a:s r="102">
                                          <a:s r="101">
                                             <a:s r="99">
                                                <a:s>Global</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="101">
                                                <a:s>EncounterDiagnosis(</a:s>
                                                <a:s r="100">
                                                   <a:s>InpatientEncounter</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="102">
                                             <a:s>code</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="103">
                                          <a:s>&quot;Obstetrics VTE&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
							)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    )</a:s>
                  </a:s>
                  <a:s>&#xd;
		intersect </a:s>
                  <a:s r="135">
                     <a:s>(</a:s>
                     <a:s r="135">
                        <a:s>
                           <a:s r="109">
                              <a:s r="108">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="134">
                           <a:s>without </a:s>
                           <a:s r="115">
                              <a:s r="114">
                                 <a:s>( </a:s>
                                 <a:s r="114">
                                    <a:s r="112">
                                       <a:s r="110">
                                          <a:s>[&quot;Condition&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Obstetrics&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
									union </a:s>
                                       <a:s r="111">
                                          <a:s>[&quot;Condition&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
									union </a:s>
                                    <a:s r="113">
                                       <a:s>[&quot;Condition&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Obstetrics VTE&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>	Diagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
				such that </a:s>
                           <a:s r="133">
                              <a:s r="124">
                                 <a:s r="119">
                                    <a:s r="117">
                                       <a:s r="116">
                                          <a:s>Diagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="117">
                                          <a:s>clinicalStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="118">
                                       <a:s>'active'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
        		and </a:s>
                                 <a:s r="123">
                                    <a:s r="121">
                                       <a:s r="120">
                                          <a:s>Diagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="121">
                                          <a:s>verificationStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="122">
                                       <a:s>'confirmed'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
						and </a:s>
                              <a:s r="132">
                                 <a:s r="128">
                                    <a:s r="125">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="128">
                                       <a:s>&quot;Normalize Onset&quot;(</a:s>
                                       <a:s r="127">
                                          <a:s r="126">
                                             <a:s>Diagnosis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="127">
                                             <a:s>onset</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="132"> during </a:s>
                                 <a:s r="131">
                                    <a:s r="129">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="131">
                                       <a:s>&quot;Hospitalization&quot;(</a:s>
                                       <a:s r="130">
                                          <a:s>InpatientEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
						)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="136" locator="210:3-223:7" xsi:type="Intersect">
            <operand localId="107" locator="210:3-215:5" xsi:type="Query">
               <source localId="85" locator="210:4-210:50" alias="InpatientEncounter">
                  <expression localId="84" locator="210:4-210:31" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <where localId="106" locator="211:3-214:8" xsi:type="Not">
                  <operand localId="105" locator="211:13-214:8" xsi:type="Or">
                     <operand localId="98" locator="211:14-212:89" xsi:type="Or">
                        <operand localId="91" locator="211:14-211:79" xsi:type="AnyInValueSet">
                           <codes xsi:type="Query">
                              <source alias="X">
                                 <expression localId="89" locator="211:14-211:63" xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="88" locator="211:14-211:58" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                          <operand localId="87" locator="211:40-211:57" name="InpatientEncounter" xsi:type="AliasRef"/>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="code" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <return distinct="false">
                                 <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand name="X" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </codes>
                           <valueset localId="90" locator="211:68-211:79" name="Obstetrics"/>
                        </operand>
                        <operand localId="97" locator="212:12-212:89" xsi:type="AnyInValueSet">
                           <codes xsi:type="Query">
                              <source alias="X">
                                 <expression localId="95" locator="212:12-212:61" xsi:type="Query">
                                    <source alias="$this">
                                       <expression localId="94" locator="212:12-212:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                          <operand localId="93" locator="212:38-212:55" name="InpatientEncounter" xsi:type="AliasRef"/>
                                       </expression>
                                    </source>
                                    <where xsi:type="Not">
                                       <operand xsi:type="IsNull">
                                          <operand path="code" xsi:type="Property">
                                             <source name="$this" xsi:type="AliasRef"/>
                                          </operand>
                                       </operand>
                                    </where>
                                    <return>
                                       <expression path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </expression>
                                    </return>
                                 </expression>
                              </source>
                              <return distinct="false">
                                 <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand name="X" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </codes>
                           <valueset localId="96" locator="212:66-212:89" name="Venous Thromboembolism"/>
                        </operand>
                     </operand>
                     <operand localId="104" locator="213:12-213:81" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="102" locator="213:12-213:61" xsi:type="Query">
                                 <source alias="$this">
                                    <expression localId="101" locator="213:12-213:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                       <operand localId="100" locator="213:38-213:55" name="InpatientEncounter" xsi:type="AliasRef"/>
                                    </expression>
                                 </source>
                                 <where xsi:type="Not">
                                    <operand xsi:type="IsNull">
                                       <operand path="code" xsi:type="Property">
                                          <source name="$this" xsi:type="AliasRef"/>
                                       </operand>
                                    </operand>
                                 </where>
                                 <return>
                                    <expression path="code" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </expression>
                                 </return>
                              </expression>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="103" locator="213:66-213:81" name="Obstetrics VTE"/>
                     </operand>
                  </operand>
               </where>
            </operand>
            <operand localId="135" locator="216:13-223:7" xsi:type="Query">
               <source localId="109" locator="216:14-216:60" alias="InpatientEncounter">
                  <expression localId="108" locator="216:14-216:41" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="134" locator="217:5-222:103" alias="Diagnosis" xsi:type="Without">
                  <expression localId="114" locator="217:13-219:55" xsi:type="Union">
                     <operand localId="112" locator="217:15-218:62" xsi:type="Union">
                        <operand localId="110" locator="217:15-217:49" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Obstetrics" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="111" locator="218:16-218:62" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Venous Thromboembolism" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand localId="113" locator="219:16-219:54" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Obstetrics VTE" xsi:type="ValueSetRef"/>
                     </operand>
                  </expression>
                  <suchThat localId="133" locator="220:15-222:103" xsi:type="And">
                     <operand localId="124" locator="220:15-221:56" xsi:type="And">
                        <operand localId="119" locator="220:15-220:49" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="117" locator="220:15-220:38" path="clinicalStatus" scope="Diagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="118" locator="220:42-220:49" valueType="t:String" value="active" xsi:type="Literal"/>
                        </operand>
                        <operand localId="123" locator="221:15-221:56" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="121" locator="221:15-221:42" path="verificationStatus" scope="Diagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="122" locator="221:46-221:56" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="132" locator="222:11-222:103" xsi:type="In">
                        <operand localId="128" locator="222:11-222:51" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="127" locator="222:36-222:50" path="onset" scope="Diagnosis" xsi:type="Property"/>
                        </operand>
                        <operand localId="131" locator="222:60-222:103" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="130" locator="222:85-222:102" name="InpatientEncounter" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="140" locator="389:1-394:61" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="140">
               <a:s>define &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;:&#xd;
	</a:s>
               <a:s r="139">
                  <a:s r="83">
                     <a:s>( </a:s>
                     <a:s r="83">
                        <a:s>
                           <a:s r="67">
                              <a:s r="66">
                                 <a:s>
                                    <a:s>Global.&quot;Inpatient Encounter&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> InpatientEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="82">
                           <a:s>with </a:s>
                           <a:s r="69">
                              <a:s r="68">
                                 <a:s r="68">
                                    <a:s>[&quot;Patient&quot;]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> BirthDate</a:s>
                           </a:s>
                           <a:s>&#xd;
				such that </a:s>
                           <a:s r="81">
                              <a:s r="79">
                                 <a:s r="70">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="79">
                                    <a:s>&quot;CalendarAgeInYearsAt&quot;(</a:s>
                                    <a:s r="73">
                                       <a:s>ToDateTime(</a:s>
                                       <a:s r="72">
                                          <a:s r="71">
                                             <a:s>BirthDate</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="72">
                                             <a:s>birthDate</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="78">
                                       <a:s>start of </a:s>
                                       <a:s r="77">
                                          <a:s r="74">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="77">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="76">
                                                <a:s r="75">
                                                   <a:s>InpatientEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="76">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="80"> >= 18</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		intersect </a:s>
                  <a:s r="138">
                     <a:s>&quot;Admission Without VTE or Obstetrical Conditions&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="139" locator="390:2-394:61" xsi:type="Intersect">
            <operand localId="83" locator="390:2-393:2" xsi:type="Query">
               <source localId="67" locator="390:4-390:50" alias="InpatientEncounter">
                  <expression localId="66" locator="390:4-390:31" name="Inpatient Encounter" libraryName="Global" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="82" locator="391:4-392:142" alias="BirthDate" xsi:type="With">
                  <expression localId="68" locator="391:9-391:19" dataType="fhir:Patient" xsi:type="Retrieve"/>
                  <suchThat localId="81" locator="392:15-392:142" xsi:type="GreaterOrEqual">
                     <operand localId="79" locator="392:15-392:136" name="CalendarAgeInYearsAt" libraryName="Global" xsi:type="FunctionRef">
                        <operand localId="73" locator="392:45-392:75" xsi:type="ToDateTime">
                           <operand name="ToDate" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="72" locator="392:56-392:74" path="birthDate" scope="BirthDate" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="78" locator="392:78-392:135" xsi:type="Start">
                           <operand localId="77" locator="392:87-392:135" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="76" locator="392:110-392:134" path="period" scope="InpatientEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="80" locator="392:141-392:142" valueType="t:Integer" value="18" xsi:type="Literal"/>
                  </suchThat>
               </relationship>
            </operand>
            <operand localId="138" locator="394:13-394:61" name="Admission Without VTE or Obstetrical Conditions" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="142" locator="100:1-101:79" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="142">
               <a:s>define &quot;Initial Population&quot;:&#xd;
	</a:s>
               <a:s r="141">
                  <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="141" locator="101:2-101:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
      </def>
      <def localId="144" locator="93:1-94:21" name="Denominator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="144">
               <a:s>define &quot;Denominator&quot;:&#xd;
	</a:s>
               <a:s r="143">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="143" locator="94:2-94:21" name="Initial Population" xsi:type="ExpressionRef"/>
      </def>
      <def localId="152" locator="96:1-98:37" name="ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="152">
               <a:s>define &quot;ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="151">
                  <a:s>
                     <a:s r="146">
                        <a:s r="145">
                           <a:s r="145">
                              <a:s>[&quot;Encounter&quot;: type in </a:s>
                              <a:s>
                                 <a:s>&quot;Emergency Department Visit&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
    </a:s>
                  <a:s r="150">
                     <a:s>where </a:s>
                     <a:s r="150">
                        <a:s r="148">
                           <a:s r="147">
                              <a:s>EDVisit</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="148">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="149">
                           <a:s>'finished'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="151" locator="97:2-98:37" xsi:type="Query">
            <source localId="146" locator="97:2-97:60" alias="EDVisit">
               <expression localId="145" locator="97:2-97:52" dataType="fhir:Encounter" codeProperty="type" xsi:type="Retrieve">
                  <codes name="Emergency Department Visit" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="150" locator="98:5-98:37" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="148" locator="98:11-98:24" path="status" scope="EDVisit" xsi:type="Property"/>
               </operand>
               <operand localId="149" locator="98:28-98:37" valueType="t:String" value="finished" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="175" locator="125:1-126:58" name="GetExtension" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
         <annotation xsi:type="a:Annotation">
            <a:s r="175">
               <a:s>define function GetExtension(Extensions </a:s>
               <a:s r="163">
                  <a:s>List&lt;</a:s>
                  <a:s r="162">
                     <a:s>Extension</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
               <a:s>, URL </a:s>
               <a:s r="164">
                  <a:s>String</a:s>
               </a:s>
               <a:s>):&#xd;
  </a:s>
               <a:s r="174">
                  <a:s r="174">
                     <a:s>singleton from </a:s>
                     <a:s r="173">
                        <a:s>(</a:s>
                        <a:s r="173">
                           <a:s>
                              <a:s r="166">
                                 <a:s r="165">
                                    <a:s>
                                       <a:s>Extensions</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> E</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="170">
                              <a:s>where </a:s>
                              <a:s r="170">
                                 <a:s r="168">
                                    <a:s r="167">
                                       <a:s>E</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="168">
                                       <a:s>url</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="169">
                                    <a:s>URL</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="172">
                              <a:s>return </a:s>
                              <a:s r="171">
                                 <a:s>E</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="174" locator="126:3-126:58" xsi:type="SingletonFrom">
            <operand localId="173" locator="126:18-126:58" xsi:type="Query">
               <source localId="166" locator="126:19-126:30" alias="E">
                  <expression localId="165" locator="126:19-126:28" name="Extensions" xsi:type="OperandRef"/>
               </source>
               <where localId="170" locator="126:32-126:48" xsi:type="Equal">
                  <operand localId="168" locator="126:38-126:42" path="url" scope="E" xsi:type="Property"/>
                  <operand localId="169" locator="126:46-126:48" name="URL" xsi:type="OperandRef"/>
               </where>
               <return localId="172" locator="126:50-126:57">
                  <expression localId="171" locator="126:57" name="E" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
         <operand name="Extensions">
            <operandTypeSpecifier localId="163" locator="125:41-125:55" xsi:type="ListTypeSpecifier">
               <elementType localId="162" locator="125:46-125:54" name="fhir:Extension" xsi:type="NamedTypeSpecifier"/>
            </operandTypeSpecifier>
         </operand>
         <operand name="URL">
            <operandTypeSpecifier localId="164" locator="125:62-125:67" name="t:String" xsi:type="NamedTypeSpecifier"/>
         </operand>
      </def>
      <def localId="200" locator="106:1-123:3" name="No VTE Prophylaxis Device Applied or Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="200">
               <a:s>define &quot;No VTE Prophylaxis Device Applied or Ordered&quot;:&#xd;
  // NOTE: Should be using device.code, but that requires CQL 1.4&#xd;
  </a:s>
               <a:s r="199">
                  <a:s r="179">
                     <a:s>(</a:s>
                     <a:s r="179">
                        <a:s>
                           <a:s r="158">
                              <a:s r="157">
                                 <a:s>(</a:s>
                                 <a:s r="157">
                                    <a:s r="155">
                                       <a:s r="153">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
    union </a:s>
                                       <a:s r="154">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
    union </a:s>
                                    <a:s r="156">
                                       <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  )</a:s>
                              </a:s>
                              <a:s> D</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    </a:s>
                        <a:s r="178">
                           <a:s>where </a:s>
                           <a:s r="178">
                              <a:s r="177">
                                 <a:s r="176">
                                    <a:s>GetExtension(</a:s>
                                    <a:s r="160">
                                       <a:s r="159">
                                          <a:s>D</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="160">
                                          <a:s>extension</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="161">
                                       <a:s>'http://example.org/fhir/extensions/notDone'</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="177">
                                    <a:s>value</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    //where D.notDone is true // Needs a QI-Core extension to support&#xd;
  )</a:s>
                  </a:s>
                  <a:s>&#xd;
  union </a:s>
                  <a:s r="198">
                     <a:s>(</a:s>
                     <a:s r="198">
                        <a:s>
                           <a:s r="185">
                              <a:s r="184">
                                 <a:s>(&#xd;
    </a:s>
                                 <a:s r="184">
                                    <a:s r="182">
                                       <a:s r="180">
                                          <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
      union </a:s>
                                       <a:s r="181">
                                          <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
      union </a:s>
                                    <a:s r="183">
                                       <a:s>[&quot;DeviceRequest&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
  )</a:s>
                              </a:s>
                              <a:s> D</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
    </a:s>
                        <a:s r="197">
                           <a:s>where </a:s>
                           <a:s r="197">
                              <a:s r="190">
                                 <a:s r="187">
                                    <a:s r="186">
                                       <a:s>D</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="187">
                                       <a:s>intent</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> ~ </a:s>
                                 <a:s r="189">
                                    <a:s>ToConcept(</a:s>
                                    <a:s r="188">
                                       <a:s>&quot;Order&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
      and </a:s>
                              <a:s r="196">
                                 <a:s r="195">
                                    <a:s r="194">
                                       <a:s>GetExtension(</a:s>
                                       <a:s r="192">
                                          <a:s r="191">
                                             <a:s>D</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="192">
                                             <a:s>extension</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="193">
                                          <a:s>'http://example.org/fhir/extensions/doNotPerform'</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="195">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    //where D.doNotPerform is true // Needs a QI-Core extension to support&#xd;
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="199" locator="108:3-123:3" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="179" locator="108:3-114:3" xsi:type="Query">
                  <source localId="158" locator="108:4-111:5" alias="D">
                     <expression localId="157" locator="108:4-111:3" xsi:type="Union">
                        <operand localId="155" locator="108:5-109:92" xsi:type="Union">
                           <operand localId="153" locator="108:5-108:61" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="154" locator="109:11-109:92" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="156" locator="110:11-110:81" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="178" locator="112:5-112:95" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:boolean" xsi:type="As">
                           <operand localId="177" locator="112:11-112:87" path="value" xsi:type="Property">
                              <source localId="176" locator="112:11-112:81" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="160" locator="112:24-112:34" path="extension" scope="D" xsi:type="Property"/>
                                 <operand localId="161" locator="112:37-112:80" valueType="t:String" value="http://example.org/fhir/extensions/notDone" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="198" locator="115:9-123:3" xsi:type="Query">
                  <source localId="185" locator="115:10-119:5" alias="D">
                     <expression localId="184" locator="115:10-119:3" xsi:type="Union">
                        <operand localId="182" locator="116:5-117:89" xsi:type="Union">
                           <operand localId="180" locator="116:5-116:56" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="181" locator="117:13-117:89" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="183" locator="118:13-118:78" dataType="fhir:DeviceRequest" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="197" locator="120:5-121:100" xsi:type="And">
                     <operand localId="190" locator="120:11-120:39" xsi:type="Equivalent">
                        <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="187" locator="120:11-120:18" path="intent" scope="D" xsi:type="Property"/>
                        </operand>
                        <operand localId="189" locator="120:22-120:39" xsi:type="ToConcept">
                           <operand localId="188" locator="120:32-120:38" name="Order" xsi:type="CodeRef"/>
                        </operand>
                     </operand>
                     <operand localId="196" locator="121:11-121:100" xsi:type="IsTrue">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="195" locator="121:11-121:92" path="value" xsi:type="Property">
                                 <source localId="194" locator="121:11-121:86" name="GetExtension" xsi:type="FunctionRef">
                                    <operand localId="192" locator="121:24-121:34" path="extension" scope="D" xsi:type="Property"/>
                                    <operand localId="193" locator="121:37-121:85" valueType="t:String" value="http://example.org/fhir/extensions/doNotPerform" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="240" locator="129:1-136:109" name="No VTE Prophylaxis Device Due to Medical Reason During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="240">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="239">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="206">
                        <a:s r="205">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="208">
                        <a:s r="207">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="210">
                        <a:s r="209">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="238">
                     <a:s>where </a:s>
                     <a:s r="238">
                        <a:s r="227">
                           <a:s r="221">
                              <a:s r="214">
                                 <a:s r="211">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="214">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="213">
                                       <a:s r="212">
                                          <a:s>EDVisit</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="213">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="221">
                                 <a:s>ends </a:s>
                                 <a:s r="220">
                                    <a:s>1 hour</a:s>
                                 </a:s>
                                 <a:s> or less on or before</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="219">
                                 <a:s>start of </a:s>
                                 <a:s r="218">
                                    <a:s r="215">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="218">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="217">
                                          <a:s r="216">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="217">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="226">
                              <a:s>(</a:s>
                              <a:s r="226">
                                 <a:s r="224">
                                    <a:s>singleton from </a:s>
                                    <a:s r="223">
                                       <a:s r="222">
                                          <a:s>NoVTEDevice</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="223">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="225">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="237">
                           <a:s r="232">
                              <a:s>Coalesce(</a:s>
                              <a:s r="229">
                                 <a:s r="228">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="229">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="231">
                                 <a:s r="230">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="231">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="237"> during </a:s>
                           <a:s r="236">
                              <a:s r="233">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="236">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="235">
                                    <a:s r="234">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="235">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="239" locator="130:2-136:109" xsi:type="Query">
            <source localId="206" locator="131:3-131:100" alias="QualifyingEncounter">
               <expression localId="205" locator="131:3-131:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="208" locator="132:3-132:20" alias="EDVisit">
               <expression localId="207" locator="132:3-132:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="210" locator="133:3-133:60" alias="NoVTEDevice">
               <expression localId="209" locator="133:3-133:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="238" locator="134:3-136:109" xsi:type="And">
               <operand localId="227" locator="134:9-135:66" xsi:type="And">
                  <operand localId="221" locator="134:9-134:139" xsi:type="In">
                     <operand locator="134:48-134:51" xsi:type="End">
                        <operand localId="214" locator="134:9-134:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="213" locator="134:32-134:45" path="period" scope="EDVisit" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand locator="134:53-134:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <low locator="134:81-134:139" xsi:type="Subtract">
                           <operand localId="219" locator="134:81-134:139" xsi:type="Start">
                              <operand localId="218" locator="134:90-134:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="217" locator="134:113-134:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="220" locator="134:53-134:58" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="219" locator="134:81-134:139" xsi:type="Start">
                           <operand localId="218" locator="134:90-134:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="217" locator="134:113-134:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </high>
                     </operand>
                  </operand>
                  <operand localId="226" locator="135:8-135:66" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="224" locator="135:9-135:45" xsi:type="SingletonFrom">
                           <operand localId="223" locator="135:24-135:45" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                        </operand>
                     </code>
                     <valueset localId="225" locator="135:50-135:65" name="Medical Reason"/>
                  </operand>
               </operand>
               <operand localId="237" locator="136:8-136:109" xsi:type="In">
                  <operand localId="232" locator="136:8-136:63" xsi:type="Coalesce">
                     <operand localId="229" locator="136:17-136:38" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                     <operand localId="231" locator="136:41-136:62" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                  </operand>
                  <operand localId="236" locator="136:72-136:109" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="235" locator="136:95-136:108" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="EDVisit">
                     <value name="EDVisit" xsi:type="AliasRef"/>
                  </element>
                  <element name="NoVTEDevice">
                     <value name="NoVTEDevice" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="265" locator="139:1-144:164" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="265">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="264">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="242">
                        <a:s r="241">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="244">
                        <a:s r="243">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="263">
                     <a:s>where </a:s>
                     <a:s r="263">
                        <a:s r="249">
                           <a:s>(</a:s>
                           <a:s r="249">
                              <a:s r="247">
                                 <a:s>singleton from </a:s>
                                 <a:s r="246">
                                    <a:s r="245">
                                       <a:s>NoVTEDevice</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="246">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="248">
                                 <a:s>&quot;Medical Reason&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="262">
                           <a:s r="254">
                              <a:s>Coalesce(</a:s>
                              <a:s r="251">
                                 <a:s r="250">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="251">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="253">
                                 <a:s r="252">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="253">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="262"> during </a:s>
                           <a:s r="261">
                              <a:s r="255">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="261">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="260">
                                    <a:s>start of </a:s>
                                    <a:s r="259">
                                       <a:s r="256">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="259">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="258">
                                             <a:s r="257">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="258">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="264" locator="140:2-144:164" xsi:type="Query">
            <source localId="242" locator="141:3-141:100" alias="QualifyingEncounter">
               <expression localId="241" locator="141:3-141:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="244" locator="142:3-142:60" alias="NoVTEDevice">
               <expression localId="243" locator="142:3-142:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="263" locator="143:3-144:164" xsi:type="And">
               <operand localId="249" locator="143:9-143:67" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="247" locator="143:10-143:46" xsi:type="SingletonFrom">
                        <operand localId="246" locator="143:25-143:46" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                     </operand>
                  </code>
                  <valueset localId="248" locator="143:51-143:66" name="Medical Reason"/>
               </operand>
               <operand localId="262" locator="144:8-144:164" xsi:type="In">
                  <operand localId="254" locator="144:8-144:63" xsi:type="Coalesce">
                     <operand localId="251" locator="144:17-144:38" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                     <operand localId="253" locator="144:41-144:62" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                  </operand>
                  <operand localId="261" locator="144:72-144:164" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="260" locator="144:105-144:163" xsi:type="Start">
                        <operand localId="259" locator="144:114-144:163" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="258" locator="144:137-144:162" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="NoVTEDevice">
                     <value name="NoVTEDevice" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="299" locator="147:1-171:2" name="No VTE Prophylaxis Medication Administered or Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="299">
               <a:s>define &quot;No VTE Prophylaxis Medication Administered or Ordered&quot;:&#xd;
	</a:s>
               <a:s r="298">
                  <a:s r="277">
                     <a:s>(</a:s>
                     <a:s r="277">
                        <a:s>
                           <a:s r="273">
                              <a:s r="272">
                                 <a:s>(	</a:s>
                                 <a:s r="272">
                                    <a:s r="270">
                                       <a:s r="268">
                                          <a:s r="266">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>&#xd;
	union&#xd;
	</a:s>
                                          <a:s r="267">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
	union&#xd;
	</a:s>
                                       <a:s r="269">
                                          <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                          <a:s>
                                             <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
	union&#xd;
	</a:s>
                                    <a:s r="271">
                                       <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                       <a:s>
                                          <a:s>&quot;Warfarin&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
	)</a:s>
                              </a:s>
                              <a:s> MedicationAdm</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="276">
                           <a:s>where </a:s>
                           <a:s r="276">
                              <a:s r="275">
                                 <a:s r="274">
                                    <a:s>MedicationAdm</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="275">
                                    <a:s>notGiven</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
	union&#xd;
	 // TODO: Tracker for QI-core to add doNotPerform extension for MedicationRequest and suggest to the base Resource&#xd;
	</a:s>
                  <a:s r="297">
                     <a:s>(</a:s>
                     <a:s r="297">
                        <a:s>
                           <a:s r="285">
                              <a:s r="284">
                                 <a:s>(	</a:s>
                                 <a:s r="284">
                                    <a:s r="282">
                                       <a:s r="280">
                                          <a:s r="278">
                                             <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>&#xd;
	union&#xd;
	</a:s>
                                          <a:s r="279">
                                             <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
	union&#xd;
	</a:s>
                                       <a:s r="281">
                                          <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                          <a:s>
                                             <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
	union&#xd;
	</a:s>
                                    <a:s r="283">
                                       <a:s>[&quot;MedicationRequest&quot;: medication in </a:s>
                                       <a:s>
                                          <a:s>&quot;Warfarin&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
	)</a:s>
                              </a:s>
                              <a:s> MedicationOrder</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	</a:s>
                        <a:s r="296">
                           <a:s>where	</a:s>
                           <a:s r="296">
                              <a:s r="289">
                                 <a:s r="287">
                                    <a:s r="286">
                                       <a:s>MedicationOrder</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="287">
                                       <a:s>intent</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="288">
                                    <a:s>'order'</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		and </a:s>
                              <a:s r="295">
                                 <a:s r="294">
                                    <a:s r="293">
                                       <a:s>GetExtension(</a:s>
                                       <a:s r="291">
                                          <a:s r="290">
                                             <a:s>MedicationOrder</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="291">
                                             <a:s>extension</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="292">
                                          <a:s>'http://example.org/fhir/extensions/doNotPerform'</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="294">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> is true</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		//MedicationOrder.doNotPerform is true // Needs a QI-Core extension to support&#xd;
	)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="298" locator="148:2-171:2" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="277" locator="148:2-157:2" xsi:type="Query">
                  <source localId="273" locator="148:3-155:16" alias="MedicationAdm">
                     <expression localId="272" locator="148:3-155:2" xsi:type="Union">
                        <operand localId="268" locator="148:5-150:95" xsi:type="Union">
                           <operand localId="266" locator="148:5-148:101" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="267" locator="150:2-150:95" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="269" locator="152:2-152:97" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="271" locator="154:2-154:55" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Warfarin" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </expression>
                  </source>
                  <where localId="276" locator="156:3-156:38" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="275" locator="156:9-156:30" path="notGiven" scope="MedicationAdm" xsi:type="Property"/>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="297" locator="160:2-171:2" xsi:type="Query">
                  <source localId="285" locator="160:3-167:18" alias="MedicationOrder">
                     <expression localId="284" locator="160:3-167:2" xsi:type="Union">
                        <operand localId="280" locator="160:5-162:88" xsi:type="Union">
                           <operand localId="278" locator="160:5-160:94" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="279" locator="162:2-162:88" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="281" locator="164:2-164:90" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="283" locator="166:2-166:48" dataType="fhir:MedicationRequest" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Warfarin" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </expression>
                  </source>
                  <where localId="296" locator="168:2-169:110" xsi:type="And">
                     <operand localId="289" locator="168:8-168:39" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="287" locator="168:8-168:29" path="intent" scope="MedicationOrder" xsi:type="Property"/>
                        </operand>
                        <operand localId="288" locator="168:33-168:39" valueType="t:String" value="order" xsi:type="Literal"/>
                     </operand>
                     <operand localId="295" locator="169:7-169:110" xsi:type="IsTrue">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="294" locator="169:7-169:102" path="value" xsi:type="Property">
                                 <source localId="293" locator="169:7-169:96" name="GetExtension" xsi:type="FunctionRef">
                                    <operand localId="291" locator="169:20-169:44" path="extension" scope="MedicationOrder" xsi:type="Property"/>
                                    <operand localId="292" locator="169:47-169:95" valueType="t:String" value="http://example.org/fhir/extensions/doNotPerform" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="338" locator="175:1-184:28" name="No VTE Prophylaxis Medication Due to Medical Reason During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="338">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="337">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="301">
                        <a:s r="300">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="303">
                        <a:s r="302">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="305">
                        <a:s r="304">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="334">
                     <a:s>where </a:s>
                     <a:s r="334">
                        <a:s r="322">
                           <a:s r="316">
                              <a:s r="309">
                                 <a:s r="306">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="309">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="308">
                                       <a:s r="307">
                                          <a:s>EDVisit</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="308">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="316">
                                 <a:s>ends </a:s>
                                 <a:s r="315">
                                    <a:s>1 hour</a:s>
                                 </a:s>
                                 <a:s> or less on or before</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="314">
                                 <a:s>start of </a:s>
                                 <a:s r="313">
                                    <a:s r="310">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="313">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="312">
                                          <a:s r="311">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="312">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="321">
                              <a:s>(</a:s>
                              <a:s r="321">
                                 <a:s r="319">
                                    <a:s>singleton from </a:s>
                                    <a:s r="318">
                                       <a:s r="317">
                                          <a:s>NoVTEMedication</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="318">
                                          <a:s>reasonCode</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="320">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			and </a:s>
                        <a:s r="333">
                           <a:s r="328">
                              <a:s>Coalesce(</a:s>
                              <a:s r="324">
                                 <a:s r="323">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="324">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="327">
                                 <a:s>start of </a:s>
                                 <a:s r="326">
                                    <a:s r="325">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="326">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="333"> during </a:s>
                           <a:s r="332">
                              <a:s r="329">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="332">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="331">
                                    <a:s r="330">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="331">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="336">
                     <a:s>return </a:s>
                     <a:s r="335">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="337" locator="176:2-184:28" xsi:type="Query">
            <source localId="301" locator="177:3-177:100" alias="QualifyingEncounter">
               <expression localId="300" locator="177:3-177:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="303" locator="178:3-178:20" alias="EDVisit">
               <expression localId="302" locator="178:3-178:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="305" locator="179:3-179:73" alias="NoVTEMedication">
               <expression localId="304" locator="179:3-179:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="334" locator="180:3-183:125" xsi:type="And">
               <operand localId="322" locator="180:9-181:70" xsi:type="And">
                  <operand localId="316" locator="180:9-180:139" xsi:type="In">
                     <operand locator="180:48-180:51" xsi:type="End">
                        <operand localId="309" locator="180:9-180:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="308" locator="180:32-180:45" path="period" scope="EDVisit" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand locator="180:53-180:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                        <low locator="180:81-180:139" xsi:type="Subtract">
                           <operand localId="314" locator="180:81-180:139" xsi:type="Start">
                              <operand localId="313" locator="180:90-180:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="312" locator="180:113-180:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="315" locator="180:53-180:58" value="1" unit="hour" xsi:type="Quantity"/>
                        </low>
                        <high localId="314" locator="180:81-180:139" xsi:type="Start">
                           <operand localId="313" locator="180:90-180:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="312" locator="180:113-180:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </high>
                     </operand>
                  </operand>
                  <operand localId="321" locator="181:8-181:70" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="319" locator="181:9-181:49" xsi:type="SingletonFrom">
                           <operand localId="318" locator="181:24-181:49" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                        </operand>
                     </code>
                     <valueset localId="320" locator="181:54-181:69" name="Medical Reason"/>
                  </operand>
               </operand>
               <operand localId="333" locator="183:8-183:125" xsi:type="In">
                  <operand localId="328" locator="183:8-183:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="324" locator="183:17-183:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="327" locator="183:45-183:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="326" locator="183:54-183:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="332" locator="183:88-183:125" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="331" locator="183:111-183:124" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="336" locator="184:3-184:28">
               <expression localId="335" locator="184:10-184:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="366" locator="187:1-193:28" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="366">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="365">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="340">
                        <a:s r="339">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="342">
                        <a:s r="341">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="362">
                     <a:s>where </a:s>
                     <a:s r="362">
                        <a:s r="347">
                           <a:s>(</a:s>
                           <a:s r="347">
                              <a:s r="345">
                                 <a:s>singleton from </a:s>
                                 <a:s r="344">
                                    <a:s r="343">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="344">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="346">
                                 <a:s>&quot;Medical Reason&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="361">
                           <a:s r="353">
                              <a:s>Coalesce(</a:s>
                              <a:s r="349">
                                 <a:s r="348">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="349">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="352">
                                 <a:s>start of </a:s>
                                 <a:s r="351">
                                    <a:s r="350">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="351">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="361"> during </a:s>
                           <a:s r="360">
                              <a:s r="354">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="360">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="359">
                                    <a:s>start of </a:s>
                                    <a:s r="358">
                                       <a:s r="355">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="358">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="357">
                                             <a:s r="356">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="357">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="364">
                     <a:s>return </a:s>
                     <a:s r="363">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="365" locator="188:2-193:28" xsi:type="Query">
            <source localId="340" locator="189:3-189:100" alias="QualifyingEncounter">
               <expression localId="339" locator="189:3-189:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="342" locator="190:3-190:73" alias="NoVTEMedication">
               <expression localId="341" locator="190:3-190:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="362" locator="191:3-192:180" xsi:type="And">
               <operand localId="347" locator="191:9-191:71" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="345" locator="191:10-191:50" xsi:type="SingletonFrom">
                        <operand localId="344" locator="191:25-191:50" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                  </code>
                  <valueset localId="346" locator="191:55-191:70" name="Medical Reason"/>
               </operand>
               <operand localId="361" locator="192:8-192:180" xsi:type="In">
                  <operand localId="353" locator="192:8-192:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="349" locator="192:17-192:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="352" locator="192:45-192:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="351" locator="192:54-192:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="360" locator="192:88-192:180" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="359" locator="192:121-192:179" xsi:type="Start">
                        <operand localId="358" locator="192:130-192:179" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="357" locator="192:153-192:178" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="364" locator="193:3-193:28">
               <expression localId="363" locator="193:10-193:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="407" locator="196:1-206:28" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="407">
               <a:s>define &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="406">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="368">
                        <a:s r="367">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="370">
                        <a:s r="369">
                           <a:s r="369">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="372">
                        <a:s r="371">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEDevice</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="403">
                     <a:s>where </a:s>
                     <a:s r="403">
                        <a:s r="391">
                           <a:s r="381">
                              <a:s r="376">
                                 <a:s r="374">
                                    <a:s r="373">
                                       <a:s>NoVTEDevice</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="374">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="375">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			and </a:s>
                              <a:s r="380">
                                 <a:s r="378">
                                    <a:s r="377">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="378">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="379">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			// TODO: Profile of procedure to ensure performed is a Period&#xd;
			and </a:s>
                           <a:s r="390">
                              <a:s r="383">
                                 <a:s r="382">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="383">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="390">
                                 <a:s>ends </a:s>
                                 <a:s r="389">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="388">
                                 <a:s>start of </a:s>
                                 <a:s r="387">
                                    <a:s r="384">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="387">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="386">
                                          <a:s r="385">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="386">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and  </a:s>
                        <a:s r="402">
                           <a:s r="396">
                              <a:s>Coalesce(</a:s>
                              <a:s r="393">
                                 <a:s r="392">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="393">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="395">
                                 <a:s r="394">
                                    <a:s>NoVTEDevice</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="395">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="402"> during </a:s>
                           <a:s r="401">
                              <a:s r="397">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="401">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="400">
                                    <a:s>end of </a:s>
                                    <a:s r="399">
                                       <a:s r="398">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="399">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="405">
                     <a:s>return </a:s>
                     <a:s r="404">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="406" locator="197:2-206:28" xsi:type="Query">
            <source localId="368" locator="198:3-198:100" alias="QualifyingEncounter">
               <expression localId="367" locator="198:3-198:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="370" locator="199:3-199:70" alias="AnesthesiaProcedure">
               <expression localId="369" locator="199:3-199:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="372" locator="200:3-200:60" alias="NoVTEDevice">
               <expression localId="371" locator="200:3-200:48" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="403" locator="201:3-205:142" xsi:type="And">
               <operand localId="391" locator="201:9-204:120" xsi:type="And">
                  <operand localId="381" locator="201:9-202:47" xsi:type="And">
                     <operand localId="376" locator="201:9-201:50" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="374" locator="201:9-201:30" path="reasonCode" scope="NoVTEDevice" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="375" locator="201:35-201:50" name="Medical Reason"/>
                     </operand>
                     <operand localId="380" locator="202:8-202:47" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="378" locator="202:8-202:33" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="379" locator="202:37-202:47" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="390" locator="204:8-204:120" precision="Day" xsi:type="SameAs">
                     <operand locator="204:38-204:41" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="383" locator="204:8-204:36" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="204:62-204:120" xsi:type="Add">
                        <operand localId="388" locator="204:62-204:120" xsi:type="Start">
                           <operand localId="387" locator="204:71-204:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="386" locator="204:94-204:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="389" locator="204:43-204:47" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="402" locator="205:9-205:142" xsi:type="In">
                  <operand localId="396" locator="205:9-205:64" xsi:type="Coalesce">
                     <operand localId="393" locator="205:18-205:39" path="authoredOn" scope="NoVTEDevice" xsi:type="Property"/>
                     <operand localId="395" locator="205:42-205:63" path="recordedOn" scope="NoVTEDevice" xsi:type="Property"/>
                  </operand>
                  <operand localId="401" locator="205:73-205:142" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="400" locator="205:106-205:141" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="399" locator="205:113-205:141" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="405" locator="206:3-206:28">
               <expression localId="404" locator="206:10-206:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="449" locator="226:1-236:28" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="449">
               <a:s>define &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="448">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="409">
                        <a:s r="408">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="411">
                        <a:s r="410">
                           <a:s r="410">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="413">
                        <a:s r="412">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoVTEMedication</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="445">
                     <a:s>where </a:s>
                     <a:s r="445">
                        <a:s r="432">
                           <a:s r="422">
                              <a:s r="417">
                                 <a:s r="415">
                                    <a:s r="414">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="415">
                                       <a:s>reasonCode</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="416">
                                    <a:s>&quot;Medical Reason&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			and </a:s>
                              <a:s r="421">
                                 <a:s r="419">
                                    <a:s r="418">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="419">
                                       <a:s>status</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> = </a:s>
                                 <a:s r="420">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			and </a:s>
                           <a:s r="431">
                              <a:s r="424">
                                 <a:s r="423">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="424">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="431">
                                 <a:s>ends </a:s>
                                 <a:s r="430">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="429">
                                 <a:s>start of </a:s>
                                 <a:s r="428">
                                    <a:s r="425">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="428">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="427">
                                          <a:s r="426">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="427">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			and </a:s>
                        <a:s r="444">
                           <a:s r="438">
                              <a:s>Coalesce(</a:s>
                              <a:s r="434">
                                 <a:s r="433">
                                    <a:s>NoVTEMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="434">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="437">
                                 <a:s>start of </a:s>
                                 <a:s r="436">
                                    <a:s r="435">
                                       <a:s>NoVTEMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="436">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="444"> during </a:s>
                           <a:s r="443">
                              <a:s r="439">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="443">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="442">
                                    <a:s>end of </a:s>
                                    <a:s r="441">
                                       <a:s r="440">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="441">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="447">
                     <a:s>return </a:s>
                     <a:s r="446">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="448" locator="227:2-236:28" xsi:type="Query">
            <source localId="409" locator="228:3-228:100" alias="QualifyingEncounter">
               <expression localId="408" locator="228:3-228:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="411" locator="229:3-229:70" alias="AnesthesiaProcedure">
               <expression localId="410" locator="229:3-229:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="413" locator="230:3-230:73" alias="NoVTEMedication">
               <expression localId="412" locator="230:3-230:57" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
            </source>
            <where localId="445" locator="231:3-235:157" xsi:type="And">
               <operand localId="432" locator="231:9-233:120" xsi:type="And">
                  <operand localId="422" locator="231:9-232:47" xsi:type="And">
                     <operand localId="417" locator="231:9-231:54" xsi:type="AnyInValueSet">
                        <codes xsi:type="Query">
                           <source alias="X">
                              <expression localId="415" locator="231:9-231:34" path="reasonCode" scope="NoVTEMedication" xsi:type="Property"/>
                           </source>
                           <return distinct="false">
                              <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand name="X" xsi:type="AliasRef"/>
                              </expression>
                           </return>
                        </codes>
                        <valueset localId="416" locator="231:39-231:54" name="Medical Reason"/>
                     </operand>
                     <operand localId="421" locator="232:8-232:47" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="419" locator="232:8-232:33" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="420" locator="232:37-232:47" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="431" locator="233:8-233:120" precision="Day" xsi:type="SameAs">
                     <operand locator="233:38-233:41" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="424" locator="233:8-233:36" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="233:62-233:120" xsi:type="Add">
                        <operand localId="429" locator="233:62-233:120" xsi:type="Start">
                           <operand localId="428" locator="233:71-233:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="427" locator="233:94-233:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="430" locator="233:43-233:47" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="444" locator="235:8-235:157" xsi:type="In">
                  <operand localId="438" locator="235:8-235:79" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="434" locator="235:17-235:42" path="authoredOn" scope="NoVTEMedication" xsi:type="Property"/>
                     </operand>
                     <operand localId="437" locator="235:45-235:78" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="436" locator="235:54-235:78" path="effective" scope="NoVTEMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="443" locator="235:88-235:157" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="442" locator="235:121-235:156" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="441" locator="235:128-235:156" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="447" locator="236:3-236:28">
               <expression localId="446" locator="236:10-236:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="461" locator="240:1-242:84" name="Encounter Less Than 2 Days" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="461">
               <a:s>define &quot;Encounter Less Than 2 Days&quot;:&#xd;
	</a:s>
               <a:s r="460">
                  <a:s>
                     <a:s r="451">
                        <a:s r="450">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="459">
                     <a:s>where </a:s>
                     <a:s r="459">
                        <a:s r="457">
                           <a:s r="452">
                              <a:s>Global</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="457">
                              <a:s>&quot;LengthInDays&quot;(</a:s>
                              <a:s r="456">
                                 <a:s r="453">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="456">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="455">
                                       <a:s r="454">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="455">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="458">&lt; 2</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="460" locator="241:2-242:84" xsi:type="Query">
            <source localId="451" locator="241:2-241:99" alias="QualifyingEncounter">
               <expression localId="450" locator="241:2-241:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="459" locator="242:3-242:84" xsi:type="Less">
               <operand localId="457" locator="242:9-242:81" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                  <operand localId="456" locator="242:31-242:80" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="455" locator="242:54-242:79" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="458" locator="242:84" valueType="t:Integer" value="2" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="481" locator="246:1-254:30" name="SCIP VTE Selected Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="481">
               <a:s>define &quot;SCIP VTE Selected Surgery&quot;:&#xd;
	</a:s>
               <a:s r="480">
                  <a:s>
                     <a:s r="475">
                        <a:s r="474">
                           <a:s>(	</a:s>
                           <a:s r="474">
                              <a:s r="472">
                                 <a:s r="470">
                                    <a:s r="468">
                                       <a:s r="466">
                                          <a:s r="464">
                                             <a:s r="462">
                                                <a:s>[&quot;Procedure&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;General Surgery&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                             <a:s>&#xd;
		union </a:s>
                                             <a:s r="463">
                                                <a:s>[&quot;Procedure&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Gynecological Surgery&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>&#xd;
		union </a:s>
                                          <a:s r="465">
                                             <a:s>[&quot;Procedure&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Hip Fracture Surgery&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
		union </a:s>
                                       <a:s r="467">
                                          <a:s>[&quot;Procedure&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Hip Replacement Surgery&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
		union </a:s>
                                    <a:s r="469">
                                       <a:s>[&quot;Procedure&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Intracranial Neurosurgery&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
		union </a:s>
                                 <a:s r="471">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Knee Replacement Surgery&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="473">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Urological Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="479">
                     <a:s>where </a:s>
                     <a:s r="479">
                        <a:s r="477">
                           <a:s r="476">
                              <a:s>P</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="477">
                              <a:s>status</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="478">
                           <a:s>'completed'</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="480" locator="247:2-254:30" xsi:type="Query">
            <source localId="475" locator="247:2-253:47" alias="P">
               <expression localId="474" locator="247:2-253:45" xsi:type="Union">
                  <operand localId="472" locator="247:4-252:49" xsi:type="Union">
                     <operand localId="468" locator="247:4-250:48" xsi:type="Union">
                        <operand localId="464" locator="247:4-248:46" xsi:type="Union">
                           <operand localId="462" locator="247:4-247:35" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes name="General Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="463" locator="248:9-248:46" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Gynecological Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="465" locator="249:9-249:45" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Hip Fracture Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="467" locator="250:9-250:48" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Hip Replacement Surgery" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="469" locator="251:9-251:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Intracranial Neurosurgery" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="471" locator="252:9-252:49" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Knee Replacement Surgery" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="473" locator="253:9-253:43" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes name="Urological Surgery" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <where localId="479" locator="254:3-254:30" xsi:type="Equal">
               <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="477" locator="254:9-254:16" path="status" scope="P" xsi:type="Property"/>
               </operand>
               <operand localId="478" locator="254:20-254:30" valueType="t:String" value="completed" xsi:type="Literal"/>
            </where>
         </expression>
      </def>
      <def localId="497" locator="258:1-263:50" name="Intervention Comfort Measures" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="497">
               <a:s>define &quot;Intervention Comfort Measures&quot;:&#xd;
	</a:s>
               <a:s r="496">
                  <a:s r="488">
                     <a:s>(</a:s>
                     <a:s r="488">
                        <a:s>
                           <a:s r="483">
                              <a:s r="482">
                                 <a:s r="482">
                                    <a:s>[&quot;ProcedureRequest&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> P</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="487">
                           <a:s>where </a:s>
                           <a:s r="487">
                              <a:s r="485">
                                 <a:s r="484">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="485">
                                    <a:s>intent</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="486">
                                 <a:s>'order'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union&#xd;
		</a:s>
                  <a:s r="495">
                     <a:s>(</a:s>
                     <a:s r="495">
                        <a:s>
                           <a:s r="490">
                              <a:s r="489">
                                 <a:s r="489">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Comfort Measures&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> IntervetionPerformed</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		</a:s>
                        <a:s r="494">
                           <a:s>where </a:s>
                           <a:s r="494">
                              <a:s r="492">
                                 <a:s r="491">
                                    <a:s>IntervetionPerformed</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="492">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="493">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="496" locator="259:2-263:50" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="488" locator="259:2-260:27" xsi:type="Query">
                  <source localId="483" locator="259:3-259:44" alias="P">
                     <expression localId="482" locator="259:3-259:42" dataType="fhir:ProcedureRequest" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="487" locator="260:3-260:26" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="485" locator="260:9-260:16" path="intent" scope="P" xsi:type="Property"/>
                     </operand>
                     <operand localId="486" locator="260:20-260:26" valueType="t:String" value="order" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="495" locator="262:3-263:50" xsi:type="Query">
                  <source localId="490" locator="262:4-262:57" alias="IntervetionPerformed">
                     <expression localId="489" locator="262:4-262:36" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Comfort Measures" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="494" locator="263:3-263:49" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="492" locator="263:9-263:35" path="status" scope="IntervetionPerformed" xsi:type="Property"/>
                     </operand>
                     <operand localId="493" locator="263:39-263:49" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="516" locator="266:1-270:171" name="Intervention Comfort Measures on Day of or Day After Start of Hospitalization" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="516">
               <a:s>define &quot;Intervention Comfort Measures on Day of or Day After Start of Hospitalization&quot;:&#xd;
	</a:s>
               <a:s r="515">
                  <a:s>
                     <a:s r="499">
                        <a:s r="498">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="514">
                     <a:s>with </a:s>
                     <a:s r="501">
                        <a:s r="500">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                     <a:s>&#xd;
	// TODO: Profile of procedure to ensure performed is a Period&#xd;
			such that </a:s>
                     <a:s r="513">
                        <a:s r="507">
                           <a:s>Coalesce(</a:s>
                           <a:s r="503">
                              <a:s r="502">
                                 <a:s>ComfortMeasure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="503">
                                 <a:s>authoredOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="506">
                              <a:s>start of </a:s>
                              <a:s r="505">
                                 <a:s r="504">
                                    <a:s>ComfortMeasure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="505">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="513">
                           <a:s r="512">
                              <a:s>1 day</a:s>
                           </a:s>
                           <a:s> or less on or after day of</a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="511">
                           <a:s>start of </a:s>
                           <a:s r="510">
                              <a:s r="508">
                                 <a:s>Global</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="510">
                                 <a:s>&quot;Hospitalization&quot;(</a:s>
                                 <a:s r="509">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="515" locator="267:2-270:171" xsi:type="Query">
            <source localId="499" locator="267:2-267:99" alias="QualifyingEncounter">
               <expression localId="498" locator="267:2-267:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="514" locator="268:3-270:171" alias="ComfortMeasure" xsi:type="With">
               <expression localId="500" locator="268:8-268:38" name="Intervention Comfort Measures" xsi:type="ExpressionRef"/>
               <suchThat localId="513" locator="270:14-270:171" precision="Day" xsi:type="In">
                  <operand localId="507" locator="270:14-270:83" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="503" locator="270:23-270:47" path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                     <operand localId="506" locator="270:50-270:82" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="505" locator="270:59-270:82" path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="270:85-270:97" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="511" locator="270:118-270:171" xsi:type="Start">
                        <operand localId="510" locator="270:127-270:171" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="509" locator="270:152-270:170" name="QualifyingEncounter" xsi:type="AliasRef"/>
                        </operand>
                     </low>
                     <high locator="270:118-270:171" xsi:type="Add">
                        <operand localId="511" locator="270:118-270:171" xsi:type="Start">
                           <operand localId="510" locator="270:127-270:171" name="Hospitalization" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="509" locator="270:152-270:170" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                        <operand localId="512" locator="270:85-270:89" value="1" unit="day" xsi:type="Quantity"/>
                     </high>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="550" locator="273:1-280:148" name="Intervention Comfort Measures on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="550">
               <a:s>define &quot;Intervention Comfort Measures on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="549">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="518">
                        <a:s r="517">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="520">
                        <a:s r="519">
                           <a:s r="519">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="522">
                        <a:s r="521">
                           <a:s>
                              <a:s>&quot;Intervention Comfort Measures&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> ComfortMeasure</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="548">
                     <a:s>where  </a:s>
                     <a:s r="548">
                        <a:s r="536">
                           <a:s r="526">
                              <a:s r="524">
                                 <a:s r="523">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="524">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="525">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
				and </a:s>
                           <a:s r="535">
                              <a:s r="528">
                                 <a:s r="527">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="528">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="535">
                                 <a:s>ends </a:s>
                                 <a:s r="534">
                                    <a:s>1 day</a:s>
                                 </a:s>
                                 <a:s> after day of</a:s>
                              </a:s>
                              <a:s> </a:s>
                              <a:s r="533">
                                 <a:s>start of </a:s>
                                 <a:s r="532">
                                    <a:s r="529">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="532">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="531">
                                          <a:s r="530">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="531">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				and </a:s>
                        <a:s r="547">
                           <a:s r="542">
                              <a:s>Coalesce(</a:s>
                              <a:s r="538">
                                 <a:s r="537">
                                    <a:s>ComfortMeasure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="538">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="541">
                                 <a:s>start of </a:s>
                                 <a:s r="540">
                                    <a:s r="539">
                                       <a:s>ComfortMeasure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="540">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="547">
                              <a:s r="546">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> or less on or after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="545">
                              <a:s>end of </a:s>
                              <a:s r="544">
                                 <a:s r="543">
                                    <a:s>AnesthesiaProcedure</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="544">
                                    <a:s>performed</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="549" locator="274:2-280:148" xsi:type="Query">
            <source localId="518" locator="275:3-275:100" alias="QualifyingEncounter">
               <expression localId="517" locator="275:3-275:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="520" locator="276:3-276:70" alias="AnesthesiaProcedure">
               <expression localId="519" locator="276:3-276:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="522" locator="277:3-277:48" alias="ComfortMeasure">
               <expression localId="521" locator="277:3-277:33" name="Intervention Comfort Measures" xsi:type="ExpressionRef"/>
            </source>
            <where localId="548" locator="278:3-280:148" xsi:type="And">
               <operand localId="536" locator="278:10-279:121" xsi:type="And">
                  <operand localId="526" locator="278:10-278:49" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="524" locator="278:10-278:35" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                     </operand>
                     <operand localId="525" locator="278:39-278:49" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
                  <operand localId="535" locator="279:9-279:121" precision="Day" xsi:type="SameAs">
                     <operand locator="279:39-279:42" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="528" locator="279:9-279:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="279:63-279:121" xsi:type="Add">
                        <operand localId="533" locator="279:63-279:121" xsi:type="Start">
                           <operand localId="532" locator="279:72-279:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="531" locator="279:95-279:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="534" locator="279:44-279:48" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="547" locator="280:9-280:148" precision="Day" xsi:type="In">
                  <operand localId="542" locator="280:9-280:78" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="538" locator="280:18-280:42" path="authoredOn" scope="ComfortMeasure" xsi:type="Property"/>
                     </operand>
                     <operand localId="541" locator="280:45-280:77" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="540" locator="280:54-280:77" path="performed" scope="ComfortMeasure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="280:80-280:92" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low localId="545" locator="280:113-280:148" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="544" locator="280:120-280:148" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </low>
                     <high locator="280:113-280:148" xsi:type="Add">
                        <operand localId="545" locator="280:113-280:148" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="544" locator="280:120-280:148" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="546" locator="280:80-280:84" value="1" unit="day" xsi:type="Quantity"/>
                     </high>
                  </operand>
               </operand>
            </where>
            <return distinct="true">
               <expression xsi:type="Tuple">
                  <element name="QualifyingEncounter">
                     <value name="QualifyingEncounter" xsi:type="AliasRef"/>
                  </element>
                  <element name="AnesthesiaProcedure">
                     <value name="AnesthesiaProcedure" xsi:type="AliasRef"/>
                  </element>
                  <element name="ComfortMeasure">
                     <value name="ComfortMeasure" xsi:type="AliasRef"/>
                  </element>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="582" locator="283:1-297:5" name="VTE Prophylaxis by Medication Administered or Device Applied" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="582">
               <a:s>define &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;:&#xd;
	</a:s>
               <a:s r="581">
                  <a:s r="569">
                     <a:s r="567">
                        <a:s r="565">
                           <a:s r="563">
                              <a:s>( </a:s>
                              <a:s r="563">
                                 <a:s>
                                    <a:s r="552">
                                       <a:s r="551">
                                          <a:s r="551">
                                             <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                             <a:s>
                                                <a:s>&quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> VTEMedication</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
			</a:s>
                                 <a:s r="562">
                                    <a:s>where </a:s>
                                    <a:s r="562">
                                       <a:s r="556">
                                          <a:s r="554">
                                             <a:s r="553">
                                                <a:s>VTEMedication</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="554">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> = </a:s>
                                          <a:s r="555">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
						and </a:s>
                                       <a:s r="561">
                                          <a:s r="559">
                                             <a:s r="558">
                                                <a:s r="557">
                                                   <a:s>VTEMedication</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="558">
                                                   <a:s>dosage</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="559">
                                                <a:s>route</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="560">
                                             <a:s>&quot;Subcutaneous route&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
	)</a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="564">
                              <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                              <a:s>
                                 <a:s>&quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="566">
                           <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                           <a:s>
                              <a:s>&quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;</a:s>
                           </a:s>
                           <a:s>]</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="568">
                        <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                        <a:s>
                           <a:s>&quot;Warfarin&quot;</a:s>
                        </a:s>
                        <a:s>]</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="580">
                     <a:s>(</a:s>
                     <a:s r="580">
                        <a:s>
                           <a:s r="575">
                              <a:s r="574">
                                 <a:s>(&#xd;
				</a:s>
                                 <a:s r="574">
                                    <a:s r="572">
                                       <a:s r="570">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Intermittent pneumatic compression devices (IPC)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                       <a:s>&#xd;
				union </a:s>
                                       <a:s r="571">
                                          <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                          <a:s>
                                             <a:s>&quot;Venous foot pumps (VFP)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				union </a:s>
                                    <a:s r="573">
                                       <a:s>[&quot;DeviceUseStatement&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Graduated compression stockings (GCS)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
      )</a:s>
                              </a:s>
                              <a:s> DeviceApplied</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="579">
                           <a:s>where </a:s>
                           <a:s r="579">
                              <a:s r="577">
                                 <a:s r="576">
                                    <a:s>DeviceApplied</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="577">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> = </a:s>
                              <a:s r="578">
                                 <a:s>'completed'</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="581" locator="284:2-297:5" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="569" locator="284:2-290:62" xsi:type="Union">
                  <operand localId="565" locator="284:2-288:102" xsi:type="Union">
                     <operand localId="563" locator="284:2-287:2" xsi:type="Query">
                        <source localId="552" locator="284:4-284:114" alias="VTEMedication">
                           <expression localId="551" locator="284:4-284:100" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                              <codes name="Low Dose Unfractionated Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                           </expression>
                        </source>
                        <where localId="562" locator="285:4-286:60" xsi:type="And">
                           <operand localId="556" locator="285:10-285:43" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="554" locator="285:10-285:29" path="status" scope="VTEMedication" xsi:type="Property"/>
                              </operand>
                              <operand localId="555" locator="285:33-285:43" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                           <operand localId="561" locator="286:11-286:60" xsi:type="InValueSet">
                              <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="559" locator="286:11-286:36" path="route" xsi:type="Property">
                                    <source localId="558" locator="286:11-286:30" path="dosage" scope="VTEMedication" xsi:type="Property"/>
                                 </operand>
                              </code>
                              <valueset localId="560" locator="286:41-286:60" name="Subcutaneous route"/>
                           </operand>
                        </where>
                     </operand>
                     <operand localId="564" locator="288:9-288:102" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes name="Low Molecular Weight Heparin for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="566" locator="289:9-289:104" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes name="Injectable Factor Xa Inhibitor for VTE Prophylaxis" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="568" locator="290:9-290:62" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                        <codes name="Warfarin" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="580" locator="291:9-297:5" xsi:type="Query">
                  <source localId="575" locator="291:10-295:21" alias="DeviceApplied">
                     <expression localId="574" locator="291:10-295:7" xsi:type="Union">
                        <operand localId="572" locator="292:5-293:67" xsi:type="Union">
                           <operand localId="570" locator="292:5-292:86" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Intermittent pneumatic compression devices (IPC)" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="571" locator="293:11-293:67" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                              <codes name="Venous foot pumps (VFP)" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                        <operand localId="573" locator="294:11-294:81" dataType="fhir:DeviceUseStatement" codeProperty="code" xsi:type="Retrieve">
                           <codes name="Graduated compression stockings (GCS)" xsi:type="ValueSetRef"/>
                        </operand>
                     </expression>
                  </source>
                  <where localId="579" locator="296:5-296:44" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="577" locator="296:11-296:30" path="status" scope="DeviceApplied" xsi:type="Property"/>
                     </operand>
                     <operand localId="578" locator="296:34-296:44" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </where>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                     <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="636" locator="300:1-315:3" name="VTE Prophylaxis Received on Day of or Day After Admission or Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="636">
               <a:s>define &quot;VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;:&#xd;
	</a:s>
               <a:s r="635">
                  <a:s r="603">
                     <a:s>( </a:s>
                     <a:s r="603">
                        <a:s>
                           <a:s>from&#xd;
			</a:s>
                           <a:s r="584">
                              <a:s r="583">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s r="586">
                              <a:s r="585">
                                 <a:s>
                                    <a:s>&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HasVTEProphylaxis</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			// TODO: Profile of MedicationAdministration to ensure effective is a Period&#xd;
			</a:s>
                        <a:s r="600">
                           <a:s>where </a:s>
                           <a:s r="600">
                              <a:s r="592">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="588">
                                    <a:s r="587">
                                       <a:s>HasVTEProphylaxis</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="588">
                                       <a:s>recordedOn</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="591">
                                    <a:s>start of </a:s>
                                    <a:s r="590">
                                       <a:s r="589">
                                          <a:s>HasVTEProphylaxis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="590">
                                          <a:s>effective</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s r="600"> during </a:s>
                              <a:s r="599">
                                 <a:s r="593">
                                    <a:s>VTEICU</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="599">
                                    <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                    <a:s r="598">
                                       <a:s>start of </a:s>
                                       <a:s r="597">
                                          <a:s r="594">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="597">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="596">
                                                <a:s r="595">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="596">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="602">
                           <a:s>return </a:s>
                           <a:s r="601">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="634">
                     <a:s>( </a:s>
                     <a:s r="634">
                        <a:s>
                           <a:s>from&#xd;
				</a:s>
                           <a:s r="605">
                              <a:s r="604">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="607">
                              <a:s r="606">
                                 <a:s r="606">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> AnesthesiaProcedure</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="609">
                              <a:s r="608">
                                 <a:s>
                                    <a:s>&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> HasVTEProphylaxis</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="631">
                           <a:s>where </a:s>
                           <a:s r="631">
                              <a:s r="618">
                                 <a:s r="611">
                                    <a:s r="610">
                                       <a:s>AnesthesiaProcedure</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="611">
                                       <a:s>performed</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> </a:s>
                                 <a:s r="618">
                                    <a:s>ends </a:s>
                                    <a:s r="617">
                                       <a:s>1 day</a:s>
                                    </a:s>
                                    <a:s> after day of</a:s>
                                 </a:s>
                                 <a:s> </a:s>
                                 <a:s r="616">
                                    <a:s>start of </a:s>
                                    <a:s r="615">
                                       <a:s r="612">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="615">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="614">
                                             <a:s r="613">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="614">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="630">
                                 <a:s r="624">
                                    <a:s>Coalesce(</a:s>
                                    <a:s r="620">
                                       <a:s r="619">
                                          <a:s>HasVTEProphylaxis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="620">
                                          <a:s>recordedOn</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>, </a:s>
                                    <a:s r="623">
                                       <a:s>start of </a:s>
                                       <a:s r="622">
                                          <a:s r="621">
                                             <a:s>HasVTEProphylaxis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="622">
                                             <a:s>effective</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s r="630"> during </a:s>
                                 <a:s r="629">
                                    <a:s r="625">
                                       <a:s>VTEICU</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="629">
                                       <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                       <a:s r="628">
                                          <a:s>end of </a:s>
                                          <a:s r="627">
                                             <a:s r="626">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="627">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="633">
                           <a:s>return </a:s>
                           <a:s r="632">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="635" locator="301:2-315:3" xsi:type="Union">
            <operand localId="603" locator="301:2-307:2" xsi:type="Query">
               <source localId="584" locator="302:4-302:101" alias="QualifyingEncounter">
                  <expression localId="583" locator="302:4-302:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="586" locator="303:4-303:83" alias="HasVTEProphylaxis">
                  <expression localId="585" locator="303:4-303:65" name="VTE Prophylaxis by Medication Administered or Device Applied" xsi:type="ExpressionRef"/>
               </source>
               <where localId="600" locator="305:4-305:186" xsi:type="In">
                  <operand localId="592" locator="305:10-305:85" xsi:type="Coalesce">
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="588" locator="305:19-305:46" path="recordedOn" scope="HasVTEProphylaxis" xsi:type="Property"/>
                     </operand>
                     <operand localId="591" locator="305:49-305:84" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="590" locator="305:58-305:84" path="effective" scope="HasVTEProphylaxis" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="599" locator="305:94-305:186" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="598" locator="305:127-305:185" xsi:type="Start">
                        <operand localId="597" locator="305:136-305:185" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="596" locator="305:159-305:184" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="602" locator="306:4-306:29">
                  <expression localId="601" locator="306:11-306:29" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
            <operand localId="634" locator="308:9-315:3" xsi:type="Query">
               <source localId="605" locator="309:5-309:102" alias="QualifyingEncounter">
                  <expression localId="604" locator="309:5-309:82" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="607" locator="310:5-310:72" alias="AnesthesiaProcedure">
                  <expression localId="606" locator="310:5-310:52" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <source localId="609" locator="311:5-311:84" alias="HasVTEProphylaxis">
                  <expression localId="608" locator="311:5-311:66" name="VTE Prophylaxis by Medication Administered or Device Applied" xsi:type="ExpressionRef"/>
               </source>
               <where localId="631" locator="312:5-313:163" xsi:type="And">
                  <operand localId="618" locator="312:11-312:123" precision="Day" xsi:type="SameAs">
                     <operand locator="312:41-312:44" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="611" locator="312:11-312:39" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand locator="312:65-312:123" xsi:type="Add">
                        <operand localId="616" locator="312:65-312:123" xsi:type="Start">
                           <operand localId="615" locator="312:74-312:123" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="614" locator="312:97-312:122" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="617" locator="312:46-312:50" value="1" unit="day" xsi:type="Quantity"/>
                     </operand>
                  </operand>
                  <operand localId="630" locator="313:10-313:163" xsi:type="In">
                     <operand localId="624" locator="313:10-313:85" xsi:type="Coalesce">
                        <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="620" locator="313:19-313:46" path="recordedOn" scope="HasVTEProphylaxis" xsi:type="Property"/>
                        </operand>
                        <operand localId="623" locator="313:49-313:84" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="622" locator="313:58-313:84" path="effective" scope="HasVTEProphylaxis" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="629" locator="313:94-313:163" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                        <operand localId="628" locator="313:127-313:162" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="627" locator="313:134-313:162" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="633" locator="314:5-314:30">
                  <expression localId="632" locator="314:12-314:30" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
      </def>
      <def localId="687" locator="319:1-334:3" name="Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="687">
               <a:s>define &quot;Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;:&#xd;
	</a:s>
               <a:s r="686">
                  <a:s r="653">
                     <a:s>( </a:s>
                     <a:s r="653">
                        <a:s>
                           <a:s>from&#xd;
			</a:s>
                           <a:s r="638">
                              <a:s r="637">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
			</a:s>
                           <a:s r="640">
                              <a:s r="639">
                                 <a:s r="639">
                                    <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                    <a:s>
                                       <a:s>&quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> FactorXaMedication</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="650">
                           <a:s>where </a:s>
                           <a:s r="650">
                              <a:s r="642">
                                 <a:s r="641">
                                    <a:s>FactorXaMedication</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="642">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="650"> starts during </a:s>
                              <a:s r="649">
                                 <a:s r="643">
                                    <a:s>VTEICU</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="649">
                                    <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                    <a:s r="648">
                                       <a:s>start of </a:s>
                                       <a:s r="647">
                                          <a:s r="644">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="647">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="646">
                                                <a:s r="645">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="646">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			</a:s>
                        <a:s r="652">
                           <a:s>return </a:s>
                           <a:s r="651">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
	)</a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="685">
                     <a:s>( </a:s>
                     <a:s r="685">
                        <a:s>
                           <a:s>from&#xd;
				</a:s>
                           <a:s r="655">
                              <a:s r="654">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="657">
                              <a:s r="656">
                                 <a:s r="656">
                                    <a:s>[&quot;Procedure&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> AnesthesiaProcedure</a:s>
                           </a:s>
                           <a:s>,&#xd;
				</a:s>
                           <a:s r="659">
                              <a:s r="658">
                                 <a:s r="658">
                                    <a:s>[&quot;MedicationAdministration&quot;: medication in </a:s>
                                    <a:s>
                                       <a:s>&quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> FactorXaMedication</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="682">
                           <a:s>where </a:s>
                           <a:s r="682">
                              <a:s r="673">
                                 <a:s r="663">
                                    <a:s r="661">
                                       <a:s r="660">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="661">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="662">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				and </a:s>
                                 <a:s r="672">
                                    <a:s r="665">
                                       <a:s r="664">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="665">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> </a:s>
                                    <a:s r="672">
                                       <a:s>ends </a:s>
                                       <a:s r="671">
                                          <a:s>1 day</a:s>
                                       </a:s>
                                       <a:s> after day of</a:s>
                                    </a:s>
                                    <a:s> </a:s>
                                    <a:s r="670">
                                       <a:s>start of </a:s>
                                       <a:s r="669">
                                          <a:s r="666">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="669">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="668">
                                                <a:s r="667">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="668">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="681">
                                 <a:s r="675">
                                    <a:s r="674">
                                       <a:s>FactorXaMedication</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="675">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="681"> starts during </a:s>
                                 <a:s r="680">
                                    <a:s r="676">
                                       <a:s>VTEICU</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="680">
                                       <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                       <a:s r="679">
                                          <a:s>end of </a:s>
                                          <a:s r="678">
                                             <a:s r="677">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="678">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="684">
                           <a:s>return </a:s>
                           <a:s r="683">
                              <a:s>QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="686" locator="320:2-334:3" xsi:type="Union">
            <operand localId="653" locator="320:2-325:2" xsi:type="Query">
               <source localId="638" locator="321:4-321:101" alias="QualifyingEncounter">
                  <expression localId="637" locator="321:4-321:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="640" locator="322:4-322:129" alias="FactorXaMedication">
                  <expression localId="639" locator="322:4-322:110" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                     <codes name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="650" locator="323:4-323:145" xsi:type="In">
                  <operand locator="323:39-323:44" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="642" locator="323:10-323:37" path="effective" scope="FactorXaMedication" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="649" locator="323:53-323:145" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="648" locator="323:86-323:144" xsi:type="Start">
                        <operand localId="647" locator="323:95-323:144" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="646" locator="323:118-323:143" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="652" locator="324:4-324:29">
                  <expression localId="651" locator="324:11-324:29" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
            <operand localId="685" locator="326:9-334:3" xsi:type="Query">
               <source localId="655" locator="327:5-327:102" alias="QualifyingEncounter">
                  <expression localId="654" locator="327:5-327:82" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <source localId="657" locator="328:5-328:72" alias="AnesthesiaProcedure">
                  <expression localId="656" locator="328:5-328:52" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <source localId="659" locator="329:5-329:130" alias="FactorXaMedication">
                  <expression localId="658" locator="329:5-329:111" dataType="fhir:MedicationAdministration" codeProperty="medication" xsi:type="Retrieve">
                     <codes name="Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="682" locator="330:5-332:122" xsi:type="And">
                  <operand localId="673" locator="330:11-331:121" xsi:type="And">
                     <operand localId="663" locator="330:11-330:50" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="661" locator="330:11-330:36" path="status" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                        <operand localId="662" locator="330:40-330:50" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="672" locator="331:9-331:121" precision="Day" xsi:type="SameAs">
                        <operand locator="331:39-331:42" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="665" locator="331:9-331:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand locator="331:63-331:121" xsi:type="Add">
                           <operand localId="670" locator="331:63-331:121" xsi:type="Start">
                              <operand localId="669" locator="331:72-331:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="668" locator="331:95-331:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="671" locator="331:44-331:48" value="1" unit="day" xsi:type="Quantity"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="681" locator="332:10-332:122" xsi:type="In">
                     <operand locator="332:39-332:44" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="675" locator="332:10-332:37" path="effective" scope="FactorXaMedication" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="680" locator="332:53-332:122" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                        <operand localId="679" locator="332:86-332:121" xsi:type="End">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand asType="fhir:Period" xsi:type="As">
                                 <operand localId="678" locator="332:93-332:121" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </where>
               <return localId="684" locator="333:5-333:30">
                  <expression localId="683" locator="333:12-333:30" name="QualifyingEncounter" xsi:type="AliasRef"/>
               </return>
            </operand>
         </expression>
      </def>
      <def localId="754" locator="337:1-352:3" name="Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="754">
               <a:s>define &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;:&#xd;
	</a:s>
               <a:s r="753">
                  <a:s r="723">
                     <a:s r="713">
                        <a:s>( </a:s>
                        <a:s r="713">
                           <a:s>
                              <a:s r="689">
                                 <a:s r="688">
                                    <a:s>
                                       <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> QualifyingEncounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			</a:s>
                           <a:s r="712">
                              <a:s>with </a:s>
                              <a:s r="691">
                                 <a:s r="690">
                                    <a:s r="690">
                                       <a:s>[&quot;Condition&quot;: code in </a:s>
                                       <a:s>
                                          <a:s>&quot;Atrial Fibrillation/Flutter&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> AtrialFibrillation</a:s>
                              </a:s>
                              <a:s>&#xd;
				such that </a:s>
                              <a:s r="711">
                                 <a:s r="700">
                                    <a:s r="695">
                                       <a:s r="693">
                                          <a:s r="692">
                                             <a:s>AtrialFibrillation</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="693">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="694">
                                          <a:s>'active'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				and </a:s>
                                    <a:s r="699">
                                       <a:s r="697">
                                          <a:s r="696">
                                             <a:s>AtrialFibrillation</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="697">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="698">
                                          <a:s>'confirmed'</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
				and </a:s>
                                 <a:s r="710">
                                    <a:s r="704">
                                       <a:s r="701">
                                          <a:s>Global</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="704">
                                          <a:s>&quot;Normalize Onset&quot;(</a:s>
                                          <a:s r="703">
                                             <a:s r="702">
                                                <a:s>AtrialFibrillation</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="703">
                                                <a:s>onset</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s r="710"> on or before </a:s>
                                    <a:s r="709">
                                       <a:s>end of </a:s>
                                       <a:s r="708">
                                          <a:s r="705">
                                             <a:s>FHIRHelpers</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="708">
                                             <a:s>ToInterval(</a:s>
                                             <a:s r="707">
                                                <a:s r="706">
                                                   <a:s>QualifyingEncounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="707">
                                                   <a:s>period</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	)</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="722">
                        <a:s>( </a:s>
                        <a:s r="722">
                           <a:s>
                              <a:s r="715">
                                 <a:s r="714">
                                    <a:s>
                                       <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> QualifyingEncounter</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
				</a:s>
                           <a:s r="721">
                              <a:s>where </a:s>
                              <a:s r="721">
                                 <a:s r="719">
                                    <a:s r="718">
                                       <a:s r="716">
                                          <a:s>Global</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="718">
                                          <a:s>EncounterDiagnosis(</a:s>
                                          <a:s r="717">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="719">
                                       <a:s>code</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="720">
                                    <a:s>&quot;Atrial Fibrillation/Flutter&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="752">
                     <a:s>( </a:s>
                     <a:s r="752">
                        <a:s>
                           <a:s r="725">
                              <a:s r="724">
                                 <a:s>
                                    <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> QualifyingEncounter</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				</a:s>
                        <a:s r="751">
                           <a:s>with </a:s>
                           <a:s r="727">
                              <a:s r="726">
                                 <a:s r="726">
                                    <a:s>[&quot;Condition&quot;: code in </a:s>
                                    <a:s>
                                       <a:s>&quot;Venous Thromboembolism&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> VTEDiagnosis</a:s>
                           </a:s>
                           <a:s>&#xd;
					such that  </a:s>
                           <a:s r="750">
                              <a:s r="739">
                                 <a:s r="734">
                                    <a:s r="729">
                                       <a:s r="728">
                                          <a:s>VTEDiagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="729">
                                          <a:s>clinicalStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="733">
                                       <a:s>{ </a:s>
                                       <a:s r="730">
                                          <a:s>'inactive'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="731">
                                          <a:s>'remission'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="732">
                                          <a:s>'resolved'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>&#xd;
					and </a:s>
                                 <a:s r="738">
                                    <a:s r="736">
                                       <a:s r="735">
                                          <a:s>VTEDiagnosis</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="736">
                                          <a:s>verificationStatus</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="737">
                                       <a:s>'confirmed'</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
					and </a:s>
                              <a:s r="749">
                                 <a:s r="743">
                                    <a:s r="740">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="743">
                                       <a:s>&quot;Normalize Onset&quot;(</a:s>
                                       <a:s r="742">
                                          <a:s r="741">
                                             <a:s>VTEDiagnosis</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="742">
                                             <a:s>onset</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="749"> before </a:s>
                                 <a:s r="748">
                                    <a:s>start of </a:s>
                                    <a:s r="747">
                                       <a:s r="744">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="747">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="746">
                                             <a:s r="745">
                                                <a:s>QualifyingEncounter</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="746">
                                                <a:s>period</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="753" locator="338:2-352:3" xsi:type="Union">
            <operand localId="723" locator="338:2-346:4" xsi:type="Union">
               <operand localId="713" locator="338:2-343:2" xsi:type="Query">
                  <source localId="689" locator="338:4-338:101" alias="QualifyingEncounter">
                     <expression localId="688" locator="338:4-338:81" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
                  </source>
                  <relationship localId="712" locator="339:4-342:129" alias="AtrialFibrillation" xsi:type="With">
                     <expression localId="690" locator="339:9-339:60" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Atrial Fibrillation/Flutter" xsi:type="ValueSetRef"/>
                     </expression>
                     <suchThat localId="711" locator="340:15-342:129" xsi:type="And">
                        <operand localId="700" locator="340:15-341:59" xsi:type="And">
                           <operand localId="695" locator="340:15-340:58" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="693" locator="340:15-340:47" path="clinicalStatus" scope="AtrialFibrillation" xsi:type="Property"/>
                              </operand>
                              <operand localId="694" locator="340:51-340:58" valueType="t:String" value="active" xsi:type="Literal"/>
                           </operand>
                           <operand localId="699" locator="341:9-341:59" xsi:type="Equal">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="697" locator="341:9-341:45" path="verificationStatus" scope="AtrialFibrillation" xsi:type="Property"/>
                              </operand>
                              <operand localId="698" locator="341:49-341:59" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="710" locator="342:9-342:129" xsi:type="SameOrBefore">
                           <operand localId="704" locator="342:9-342:58" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="703" locator="342:34-342:57" path="onset" scope="AtrialFibrillation" xsi:type="Property"/>
                           </operand>
                           <operand lowClosed="true" highClosed="true" xsi:type="Interval">
                              <low xsi:type="As">
                                 <operand localId="709" locator="342:73-342:129" xsi:type="End">
                                    <operand localId="708" locator="342:80-342:129" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="707" locator="342:103-342:128" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </low>
                              <high xsi:type="As">
                                 <operand localId="709" locator="342:73-342:129" xsi:type="End">
                                    <operand localId="708" locator="342:80-342:129" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="707" locator="342:103-342:128" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                    </operand>
                                 </operand>
                                 <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                    <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                                 </asTypeSpecifier>
                              </high>
                           </operand>
                        </operand>
                     </suchThat>
                  </relationship>
               </operand>
               <operand localId="722" locator="344:9-346:4" xsi:type="Query">
                  <source localId="715" locator="344:11-344:108" alias="QualifyingEncounter">
                     <expression localId="714" locator="344:11-344:88" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="721" locator="345:5-345:94" xsi:type="AnyInValueSet">
                     <codes xsi:type="Query">
                        <source alias="X">
                           <expression localId="719" locator="345:11-345:61" xsi:type="Query">
                              <source alias="$this">
                                 <expression localId="718" locator="345:11-345:56" name="EncounterDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="717" locator="345:37-345:55" name="QualifyingEncounter" xsi:type="AliasRef"/>
                                 </expression>
                              </source>
                              <where xsi:type="Not">
                                 <operand xsi:type="IsNull">
                                    <operand path="code" xsi:type="Property">
                                       <source name="$this" xsi:type="AliasRef"/>
                                    </operand>
                                 </operand>
                              </where>
                              <return>
                                 <expression path="code" xsi:type="Property">
                                    <source name="$this" xsi:type="AliasRef"/>
                                 </expression>
                              </return>
                           </expression>
                        </source>
                        <return distinct="false">
                           <expression name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand name="X" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </codes>
                     <valueset localId="720" locator="345:66-345:94" name="Atrial Fibrillation/Flutter"/>
                  </where>
               </operand>
            </operand>
            <operand localId="752" locator="347:9-352:3" xsi:type="Query">
               <source localId="725" locator="347:11-347:108" alias="QualifyingEncounter">
                  <expression localId="724" locator="347:11-347:88" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
               </source>
               <relationship localId="751" locator="348:5-351:120" alias="VTEDiagnosis" xsi:type="With">
                  <expression localId="726" locator="348:10-348:56" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                     <codes name="Venous Thromboembolism" xsi:type="ValueSetRef"/>
                  </expression>
                  <suchThat localId="750" locator="349:17-351:120" xsi:type="And">
                     <operand localId="739" locator="349:17-350:54" xsi:type="And">
                        <operand localId="734" locator="349:17-349:86" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="729" locator="349:17-349:43" path="clinicalStatus" scope="VTEDiagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="733" locator="349:48-349:86" xsi:type="List">
                              <element localId="730" locator="349:50-349:59" valueType="t:String" value="inactive" xsi:type="Literal"/>
                              <element localId="731" locator="349:62-349:72" valueType="t:String" value="remission" xsi:type="Literal"/>
                              <element localId="732" locator="349:75-349:84" valueType="t:String" value="resolved" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="738" locator="350:10-350:54" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="736" locator="350:10-350:40" path="verificationStatus" scope="VTEDiagnosis" xsi:type="Property"/>
                           </operand>
                           <operand localId="737" locator="350:44-350:54" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="749" locator="351:10-351:120" xsi:type="Before">
                        <operand localId="743" locator="351:10-351:53" name="Normalize Onset" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="742" locator="351:35-351:52" path="onset" scope="VTEDiagnosis" xsi:type="Property"/>
                        </operand>
                        <operand lowClosed="true" highClosed="true" xsi:type="Interval">
                           <low xsi:type="As">
                              <operand localId="748" locator="351:62-351:120" xsi:type="Start">
                                 <operand localId="747" locator="351:71-351:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="746" locator="351:94-351:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </low>
                           <high xsi:type="As">
                              <operand localId="748" locator="351:62-351:120" xsi:type="Start">
                                 <operand localId="747" locator="351:71-351:120" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="746" locator="351:94-351:119" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                                 </operand>
                              </operand>
                              <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                                 <choice name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="fhir:decimal" xsi:type="NamedTypeSpecifier"/>
                                 <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                              </asTypeSpecifier>
                           </high>
                        </operand>
                     </operand>
                  </suchThat>
               </relationship>
            </operand>
         </expression>
      </def>
      <def localId="787" locator="355:1-361:3" name="Encounter With ICU Location Stay 1 Day or More" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="787">
               <a:s>define &quot;Encounter With ICU Location Stay 1 Day or More&quot;:&#xd;
	</a:s>
               <a:s r="786">
                  <a:s>
                     <a:s r="756">
                        <a:s r="755">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="785">
                     <a:s>where </a:s>
                     <a:s r="785">
                        <a:s>exists </a:s>
                        <a:s r="784">
                           <a:s>( </a:s>
                           <a:s r="784">
                              <a:s>
                                 <a:s r="758">
                                    <a:s r="757">
                                       <a:s>
                                          <a:s>QualifyingEncounter.location</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Location</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
				</a:s>
                              <a:s r="783">
                                 <a:s>where </a:s>
                                 <a:s r="783">
                                    <a:s r="772">
                                       <a:s r="765">
                                          <a:s r="763">
                                             <a:s r="762">
                                                <a:s r="759">
                                                   <a:s>Global</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="762">
                                                   <a:s>GetLocation(</a:s>
                                                   <a:s r="761">
                                                      <a:s r="760">
                                                         <a:s>Location</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="761">
                                                         <a:s>location</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="763">
                                                <a:s>type</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="764">
                                             <a:s>&quot;Intensive Care Unit&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>&#xd;
					and </a:s>
                                       <a:s r="771">
                                          <a:s r="769">
                                             <a:s r="766">
                                                <a:s>Global</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="769">
                                                <a:s>&quot;LengthInDays&quot;(</a:s>
                                                <a:s r="768">
                                                   <a:s r="767">
                                                      <a:s>Location</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="768">
                                                      <a:s>period</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="770">>= 1</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
					and </a:s>
                                    <a:s r="782">
                                       <a:s r="774">
                                          <a:s r="773">
                                             <a:s>Location</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="774">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="782"> starts during </a:s>
                                       <a:s r="781">
                                          <a:s r="775">
                                             <a:s>VTEICU</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="781">
                                             <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                             <a:s r="780">
                                                <a:s>start of </a:s>
                                                <a:s r="779">
                                                   <a:s r="776">
                                                      <a:s>FHIRHelpers</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="779">
                                                      <a:s>ToInterval(</a:s>
                                                      <a:s r="778">
                                                         <a:s r="777">
                                                            <a:s>QualifyingEncounter</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="778">
                                                            <a:s>period</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		)</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="786" locator="356:2-361:3" xsi:type="Query">
            <source localId="756" locator="356:2-356:99" alias="QualifyingEncounter">
               <expression localId="755" locator="356:2-356:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="785" locator="357:3-361:3" xsi:type="Exists">
               <operand localId="784" locator="357:16-361:3" xsi:type="Query">
                  <source localId="758" locator="357:18-357:54" alias="Location">
                     <expression localId="757" locator="357:18-357:45" path="location" scope="QualifyingEncounter" xsi:type="Property"/>
                  </source>
                  <where localId="783" locator="358:5-360:132" xsi:type="And">
                     <operand localId="772" locator="358:11-359:51" xsi:type="And">
                        <operand localId="765" locator="358:11-358:77" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="763" locator="358:11-358:52" path="type" xsi:type="Property">
                                 <source localId="762" locator="358:11-358:47" name="GetLocation" libraryName="Global" xsi:type="FunctionRef">
                                    <operand localId="761" locator="358:30-358:46" path="location" scope="Location" xsi:type="Property"/>
                                 </source>
                              </operand>
                           </code>
                           <valueset localId="764" locator="358:57-358:77" name="Intensive Care Unit"/>
                        </operand>
                        <operand localId="771" locator="359:10-359:51" xsi:type="GreaterOrEqual">
                           <operand localId="769" locator="359:10-359:47" name="LengthInDays" libraryName="Global" xsi:type="FunctionRef">
                              <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="768" locator="359:32-359:46" path="period" scope="Location" xsi:type="Property"/>
                              </operand>
                           </operand>
                           <operand localId="770" locator="359:51" valueType="t:Integer" value="1" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="782" locator="360:10-360:132" xsi:type="In">
                        <operand locator="360:26-360:31" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="774" locator="360:10-360:24" path="period" scope="Location" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="781" locator="360:40-360:132" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                           <operand localId="780" locator="360:73-360:131" xsi:type="Start">
                              <operand localId="779" locator="360:82-360:131" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="778" locator="360:105-360:130" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                              </operand>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="811" locator="365:1-369:80" name="Encounter With Principal Diagnosis of Mental Disorder or Stroke" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="811">
               <a:s>define &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;:&#xd;
	</a:s>
               <a:s r="810">
                  <a:s>
                     <a:s r="789">
                        <a:s r="788">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="809">
                     <a:s>where </a:s>
                     <a:s r="809">
                        <a:s r="802">
                           <a:s r="795">
                              <a:s r="793">
                                 <a:s r="792">
                                    <a:s r="790">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="792">
                                       <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                       <a:s r="791">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="793">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="794">
                                 <a:s>&quot;Mental Health Diagnoses&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
			or </a:s>
                           <a:s r="801">
                              <a:s r="799">
                                 <a:s r="798">
                                    <a:s r="796">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="798">
                                       <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                       <a:s r="797">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="799">
                                    <a:s>code</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="800">
                                 <a:s>&quot;Hemorrhagic Stroke&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			or </a:s>
                        <a:s r="808">
                           <a:s r="806">
                              <a:s r="805">
                                 <a:s r="803">
                                    <a:s>Global</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="805">
                                    <a:s>&quot;PrincipalDiagnosis&quot;(</a:s>
                                    <a:s r="804">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="806">
                                 <a:s>code</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="807">
                              <a:s>&quot;Ischemic Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="810" locator="366:2-369:80" xsi:type="Query">
            <source localId="789" locator="366:2-366:99" alias="QualifyingEncounter">
               <expression localId="788" locator="366:2-366:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <where localId="809" locator="367:3-369:80" xsi:type="Or">
               <operand localId="802" locator="367:9-368:83" xsi:type="Or">
                  <operand localId="795" locator="367:9-367:90" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="793" locator="367:9-367:61" path="code" xsi:type="Property">
                           <source localId="792" locator="367:9-367:56" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="791" locator="367:37-367:55" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </code>
                     <valueset localId="794" locator="367:66-367:90" name="Mental Health Diagnoses"/>
                  </operand>
                  <operand localId="801" locator="368:7-368:83" xsi:type="InValueSet">
                     <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="799" locator="368:7-368:59" path="code" xsi:type="Property">
                           <source localId="798" locator="368:7-368:54" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                              <operand localId="797" locator="368:35-368:53" name="QualifyingEncounter" xsi:type="AliasRef"/>
                           </source>
                        </operand>
                     </code>
                     <valueset localId="800" locator="368:64-368:83" name="Hemorrhagic Stroke"/>
                  </operand>
               </operand>
               <operand localId="808" locator="369:7-369:80" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="806" locator="369:7-369:59" path="code" xsi:type="Property">
                        <source localId="805" locator="369:7-369:54" name="PrincipalDiagnosis" libraryName="Global" xsi:type="FunctionRef">
                           <operand localId="804" locator="369:35-369:53" name="QualifyingEncounter" xsi:type="AliasRef"/>
                        </source>
                     </operand>
                  </code>
                  <valueset localId="807" locator="369:64-369:80" name="Ischemic Stroke"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="834" locator="373:1-377:99" name="Encounter With Principal Procedure of SCIP VTE Selected Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="834">
               <a:s>define &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;:&#xd;
	</a:s>
               <a:s r="833">
                  <a:s>
                     <a:s r="813">
                        <a:s r="812">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="832">
                     <a:s>with </a:s>
                     <a:s r="824">
                        <a:s r="823">
                           <a:s>( </a:s>
                           <a:s r="823">
                              <a:s>
                                 <a:s r="815">
                                    <a:s r="814">
                                       <a:s>
                                          <a:s>&quot;SCIP VTE Selected Surgery&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> Procedure</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
			</a:s>
                              <a:s r="822">
                                 <a:s>where </a:s>
                                 <a:s r="822">
                                    <a:s r="820">
                                       <a:s r="819">
                                          <a:s>GetExtension(</a:s>
                                          <a:s r="817">
                                             <a:s r="816">
                                                <a:s>Procedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="817">
                                                <a:s>extension</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="818">
                                             <a:s>'http://example.org/StructureDefinition/ordinality'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="820">
                                          <a:s>value</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> ~ </a:s>
                                    <a:s r="821">
                                       <a:s>&quot;Principal&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> SelectedProcedure</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="831">
                        <a:s r="826">
                           <a:s r="825">
                              <a:s>SelectedProcedure</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="826">
                              <a:s>performed</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="831"> during </a:s>
                        <a:s r="830">
                           <a:s r="827">
                              <a:s>FHIRHelpers</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="830">
                              <a:s>ToInterval( </a:s>
                              <a:s r="829">
                                 <a:s r="828">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="829">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="833" locator="374:2-377:99" xsi:type="Query">
            <source localId="813" locator="374:2-374:99" alias="QualifyingEncounter">
               <expression localId="812" locator="374:2-374:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="832" locator="375:3-377:99" alias="SelectedProcedure" xsi:type="With">
               <expression localId="823" locator="375:8-376:117" xsi:type="Query">
                  <source localId="815" locator="375:10-375:46" alias="Procedure">
                     <expression localId="814" locator="375:10-375:36" name="SCIP VTE Selected Surgery" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="822" locator="376:4-376:115" xsi:type="Equivalent">
                     <operand name="ToCode" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Coding" xsi:type="As">
                           <operand localId="820" locator="376:10-376:101" path="value" xsi:type="Property">
                              <source localId="819" locator="376:10-376:95" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="817" locator="376:23-376:41" path="extension" scope="Procedure" xsi:type="Property"/>
                                 <operand localId="818" locator="376:44-376:94" valueType="t:String" value="http://example.org/StructureDefinition/ordinality" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="821" locator="376:105-376:115" name="Principal" xsi:type="CodeRef"/>
                  </where>
               </expression>
               <suchThat localId="831" locator="377:14-377:99" xsi:type="In">
                  <operand localId="826" locator="377:14-377:40" path="performed" scope="SelectedProcedure" xsi:type="Property"/>
                  <operand localId="830" locator="377:49-377:99" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="829" locator="377:73-377:98" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="846" locator="380:1-386:72" name="Denominator Exclusions" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="846">
               <a:s>define &quot;Denominator Exclusions&quot;:&#xd;
	</a:s>
               <a:s r="845">
                  <a:s r="843">
                     <a:s r="841">
                        <a:s r="839">
                           <a:s r="837">
                              <a:s r="835">
                                 <a:s>&quot;Encounter Less Than 2 Days&quot;</a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="836">
                                 <a:s>&quot;Encounter With ICU Location Stay 1 Day or More&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="838">
                              <a:s>&quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="840">
                           <a:s>&quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="842">
                        <a:s>&quot;Intervention Comfort Measures on Day of or Day After Start of Hospitalization&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="844">
                     <a:s>&quot;Intervention Comfort Measures on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="845" locator="381:2-386:72" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="841" locator="381:2-384:73" xsi:type="Union">
                  <operand localId="837" locator="381:2-382:56" xsi:type="Union">
                     <operand localId="835" locator="381:2-381:29" name="Encounter Less Than 2 Days" xsi:type="ExpressionRef"/>
                     <operand localId="836" locator="382:9-382:56" name="Encounter With ICU Location Stay 1 Day or More" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="838" locator="383:9-383:73" name="Encounter With Principal Diagnosis of Mental Disorder or Stroke" xsi:type="ExpressionRef"/>
                     <operand localId="840" locator="384:9-384:73" name="Encounter With Principal Procedure of SCIP VTE Selected Surgery" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="AnesthesiaProcedure">
                           <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ComfortMeasure">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="842" locator="385:9-385:87" name="Intervention Comfort Measures on Day of or Day After Start of Hospitalization" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="AnesthesiaProcedure">
                                 <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ComfortMeasure">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="844" locator="386:9-386:72" name="Intervention Comfort Measures on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="AnesthesiaProcedure">
                                 <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="ComfortMeasure">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="AnesthesiaProcedure">
                           <type name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="ComfortMeasure">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:Procedure" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:ProcedureRequest" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="868" locator="397:1-402:112" name="Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="868">
               <a:s>define &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;:&#xd;
	</a:s>
               <a:s r="867">
                  <a:s>
                     <a:s r="848">
                        <a:s r="847">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="866">
                     <a:s>with </a:s>
                     <a:s r="852">
                        <a:s r="851">
                           <a:s>( </a:s>
                           <a:s r="851">
                              <a:s r="849">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Hip Replacement Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                              <a:s>&#xd;
			union </a:s>
                              <a:s r="850">
                                 <a:s>[&quot;Procedure&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Knee Replacement Surgery&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> HipKneeProcedure</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="865">
                        <a:s r="856">
                           <a:s r="854">
                              <a:s r="853">
                                 <a:s>HipKneeProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="854">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="855">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
				and </a:s>
                        <a:s r="864">
                           <a:s r="858">
                              <a:s r="857">
                                 <a:s>HipKneeProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="858">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="864"> starts on or before </a:s>
                           <a:s r="863">
                              <a:s>end of </a:s>
                              <a:s r="862">
                                 <a:s r="859">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="862">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="861">
                                       <a:s r="860">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="861">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="867" locator="398:2-402:112" xsi:type="Query">
            <source localId="848" locator="398:2-398:99" alias="QualifyingEncounter">
               <expression localId="847" locator="398:2-398:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="866" locator="399:3-402:112" alias="HipKneeProcedure" xsi:type="With">
               <expression localId="851" locator="399:8-400:52" xsi:type="Union">
                  <operand localId="849" locator="399:10-399:49" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes name="Hip Replacement Surgery" xsi:type="ValueSetRef"/>
                  </operand>
                  <operand localId="850" locator="400:10-400:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                     <codes name="Knee Replacement Surgery" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
               <suchThat localId="865" locator="401:14-402:112" xsi:type="And">
                  <operand localId="856" locator="401:14-401:50" xsi:type="Equal">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="854" locator="401:14-401:36" path="status" scope="HipKneeProcedure" xsi:type="Property"/>
                     </operand>
                     <operand localId="855" locator="401:40-401:50" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
                  <operand localId="864" locator="402:9-402:112" xsi:type="SameOrBefore">
                     <operand locator="402:36-402:41" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="858" locator="402:9-402:34" path="performed" scope="HipKneeProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="863" locator="402:56-402:112" xsi:type="End">
                        <operand localId="862" locator="402:63-402:112" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="861" locator="402:86-402:111" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="880" locator="477:1-480:2" name="Is In Low Risk for VTE or On Anticoagulant" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="880">
               <a:s>define &quot;Is In Low Risk for VTE or On Anticoagulant&quot;:&#xd;
	</a:s>
               <a:s r="879">
                  <a:s>( </a:s>
                  <a:s r="879">
                     <a:s>
                        <a:s r="874">
                           <a:s r="873">
                              <a:s r="873">
                                 <a:s>[&quot;Observation&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Risk for venous thromboembolism&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> VTERiskAssessment</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
			</a:s>
                     <a:s r="878">
                        <a:s>where </a:s>
                        <a:s r="878">
                           <a:s r="876">
                              <a:s r="875">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="876">
                                 <a:s>value</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="877">
                              <a:s>&quot;Low Risk&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
	)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="879" locator="478:2-480:2" xsi:type="Query">
            <source localId="874" locator="478:4-478:71" alias="VTERiskAssessment">
               <expression localId="873" locator="478:4-478:53" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                  <codes name="Risk for venous thromboembolism" xsi:type="CodeRef"/>
               </expression>
            </source>
            <where localId="878" locator="479:4-479:46" xsi:type="InValueSet">
               <code name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand asType="fhir:string" xsi:type="As">
                     <operand localId="876" locator="479:10-479:32" path="value" scope="VTERiskAssessment" xsi:type="Property"/>
                  </operand>
               </code>
               <valueset localId="877" locator="479:37-479:46" name="Low Risk"/>
            </where>
         </expression>
      </def>
      <def localId="905" locator="497:1-504:28" name="Low Risk for VTE or Anticoagulant Administered During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="905">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="904">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="870">
                        <a:s r="869">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="872">
                        <a:s r="871">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="882">
                        <a:s r="881">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="901">
                     <a:s>where </a:s>
                     <a:s r="901">
                        <a:s r="893">
                           <a:s r="886">
                              <a:s r="883">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="886">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="885">
                                    <a:s r="884">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="885">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="893">
                              <a:s>ends </a:s>
                              <a:s r="892">
                                 <a:s>1 hour</a:s>
                              </a:s>
                              <a:s> or less on or before</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="891">
                              <a:s>start of </a:s>
                              <a:s r="890">
                                 <a:s r="887">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="890">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="889">
                                       <a:s r="888">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="889">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="900">
                           <a:s r="895">
                              <a:s r="894">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="895">
                                 <a:s>issued</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="900"> during </a:s>
                           <a:s r="899">
                              <a:s r="896">
                                 <a:s>FHIRHelpers</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="899">
                                 <a:s>ToInterval(</a:s>
                                 <a:s r="898">
                                    <a:s r="897">
                                       <a:s>EDVisit</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="898">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="903">
                     <a:s>return </a:s>
                     <a:s r="902">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="904" locator="498:2-504:28" xsi:type="Query">
            <source localId="870" locator="499:3-499:100" alias="QualifyingEncounter">
               <expression localId="869" locator="499:3-499:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="872" locator="500:3-500:20" alias="EDVisit">
               <expression localId="871" locator="500:3-500:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="882" locator="501:3-501:64" alias="VTERiskAssessment">
               <expression localId="881" locator="501:3-501:46" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
            </source>
            <where localId="901" locator="502:3-503:77" xsi:type="And">
               <operand localId="893" locator="502:9-502:139" xsi:type="In">
                  <operand locator="502:48-502:51" xsi:type="End">
                     <operand localId="886" locator="502:9-502:46" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="885" locator="502:32-502:45" path="period" scope="EDVisit" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand locator="502:53-502:66" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="502:81-502:139" xsi:type="Subtract">
                        <operand localId="891" locator="502:81-502:139" xsi:type="Start">
                           <operand localId="890" locator="502:90-502:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="889" locator="502:113-502:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="892" locator="502:53-502:58" value="1" unit="hour" xsi:type="Quantity"/>
                     </low>
                     <high localId="891" locator="502:81-502:139" xsi:type="Start">
                        <operand localId="890" locator="502:90-502:139" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="889" locator="502:113-502:138" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </high>
                  </operand>
               </operand>
               <operand localId="900" locator="503:8-503:77" xsi:type="In">
                  <operand localId="895" locator="503:8-503:31" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  <operand localId="899" locator="503:40-503:77" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="898" locator="503:63-503:76" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="903" locator="504:3-504:28">
               <expression localId="902" locator="504:10-504:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="923" locator="507:1-510:138" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="923">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="922">
                  <a:s>
                     <a:s r="908">
                        <a:s r="907">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="921">
                     <a:s>with </a:s>
                     <a:s r="910">
                        <a:s r="909">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                     <a:s>&#xd;
			such that </a:s>
                     <a:s r="920">
                        <a:s r="912">
                           <a:s r="911">
                              <a:s>VTERiskAssessment</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="912">
                              <a:s>issued</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="920"> during </a:s>
                        <a:s r="919">
                           <a:s r="913">
                              <a:s>VTEICU</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="919">
                              <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                              <a:s r="918">
                                 <a:s>start of </a:s>
                                 <a:s r="917">
                                    <a:s r="914">
                                       <a:s>FHIRHelpers</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="917">
                                       <a:s>ToInterval(</a:s>
                                       <a:s r="916">
                                          <a:s r="915">
                                             <a:s>QualifyingEncounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="916">
                                             <a:s>period</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="922" locator="508:2-510:138" xsi:type="Query">
            <source localId="908" locator="508:2-508:99" alias="QualifyingEncounter">
               <expression localId="907" locator="508:2-508:79" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <relationship localId="921" locator="509:3-510:138" alias="VTERiskAssessment" xsi:type="With">
               <expression localId="909" locator="509:8-509:51" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
               <suchThat localId="920" locator="510:14-510:138" xsi:type="In">
                  <operand localId="912" locator="510:14-510:37" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  <operand localId="919" locator="510:46-510:138" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="918" locator="510:79-510:137" xsi:type="Start">
                        <operand localId="917" locator="510:88-510:137" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="916" locator="510:111-510:136" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
               </suchThat>
            </relationship>
         </expression>
      </def>
      <def localId="955" locator="513:1-520:28" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="955">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="954">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="927">
                        <a:s r="926">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="929">
                        <a:s r="928">
                           <a:s r="928">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="931">
                        <a:s r="930">
                           <a:s>
                              <a:s>&quot;Is In Low Risk for VTE or On Anticoagulant&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> VTERiskAssessment</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="951">
                     <a:s>where </a:s>
                     <a:s r="951">
                        <a:s r="940">
                           <a:s r="933">
                              <a:s r="932">
                                 <a:s>AnesthesiaProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="933">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="940">
                              <a:s>ends </a:s>
                              <a:s r="939">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="938">
                              <a:s>start of </a:s>
                              <a:s r="937">
                                 <a:s r="934">
                                    <a:s>FHIRHelpers</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="937">
                                    <a:s>ToInterval(</a:s>
                                    <a:s r="936">
                                       <a:s r="935">
                                          <a:s>QualifyingEncounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="936">
                                          <a:s>period</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="950">
                           <a:s r="942">
                              <a:s r="941">
                                 <a:s>VTERiskAssessment</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="942">
                                 <a:s>issued</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="950"> during </a:s>
                           <a:s r="949">
                              <a:s r="943">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="949">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="948">
                                    <a:s>end of </a:s>
                                    <a:s r="947">
                                       <a:s r="944">
                                          <a:s>FHIRHelpers</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="947">
                                          <a:s>ToInterval(</a:s>
                                          <a:s r="946">
                                             <a:s r="945">
                                                <a:s>AnesthesiaProcedure</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="946">
                                                <a:s>performed</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="953">
                     <a:s>return </a:s>
                     <a:s r="952">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="954" locator="514:2-520:28" xsi:type="Query">
            <source localId="927" locator="515:3-515:100" alias="QualifyingEncounter">
               <expression localId="926" locator="515:3-515:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="929" locator="516:3-516:70" alias="AnesthesiaProcedure">
               <expression localId="928" locator="516:3-516:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="931" locator="517:3-517:64" alias="VTERiskAssessment">
               <expression localId="930" locator="517:3-517:46" name="Is In Low Risk for VTE or On Anticoagulant" xsi:type="ExpressionRef"/>
            </source>
            <where localId="951" locator="518:3-519:133" xsi:type="And">
               <operand localId="940" locator="518:9-518:121" precision="Day" xsi:type="SameAs">
                  <operand locator="518:39-518:42" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="933" locator="518:9-518:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="518:63-518:121" xsi:type="Add">
                     <operand localId="938" locator="518:63-518:121" xsi:type="Start">
                        <operand localId="937" locator="518:72-518:121" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="936" locator="518:95-518:120" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="939" locator="518:44-518:48" value="1" unit="day" xsi:type="Quantity"/>
                  </operand>
               </operand>
               <operand localId="950" locator="519:8-519:133" xsi:type="In">
                  <operand localId="942" locator="519:8-519:31" path="issued" scope="VTERiskAssessment" xsi:type="Property"/>
                  <operand localId="949" locator="519:40-519:133" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="948" locator="519:73-519:132" xsi:type="End">
                        <operand localId="947" locator="519:80-519:132" name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="946" locator="519:103-519:131" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="953" locator="520:3-520:28">
               <expression localId="952" locator="520:10-520:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="958" locator="405:1-408:89" name="Low Risk for VTE or Anticoagulant Administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="958">
               <a:s>define &quot;Low Risk for VTE or Anticoagulant Administered&quot;:&#xd;
	</a:s>
               <a:s r="957">
                  <a:s r="925">
                     <a:s r="906">
                        <a:s>&quot;Low Risk for VTE or Anticoagulant Administered During ED Visit&quot;</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="924">
                        <a:s>&quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="956">
                     <a:s>&quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="957" locator="406:2-408:89" xsi:type="Union">
            <operand localId="925" locator="406:2-407:89" xsi:type="Union">
               <operand localId="906" locator="406:2-406:65" name="Low Risk for VTE or Anticoagulant Administered During ED Visit" xsi:type="ExpressionRef"/>
               <operand localId="924" locator="407:9-407:89" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Admission" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="956" locator="408:9-408:89" name="Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="970" locator="411:1-420:3" name="No VTE Prophylaxis Due to Medical Reason" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="970">
               <a:s>define &quot;No VTE Prophylaxis Due to Medical Reason&quot;:&#xd;
	</a:s>
               <a:s r="969">
                  <a:s r="965">
                     <a:s r="961">
                        <a:s>( </a:s>
                        <a:s r="961">
                           <a:s r="959">
                              <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason During ED Visit&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
			intersect </a:s>
                           <a:s r="960">
                              <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason During ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
	)</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="964">
                        <a:s>( </a:s>
                        <a:s r="964">
                           <a:s r="962">
                              <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
				intersect </a:s>
                           <a:s r="963">
                              <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="968">
                     <a:s>( </a:s>
                     <a:s r="968">
                        <a:s r="966">
                           <a:s>&quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;</a:s>
                        </a:s>
                        <a:s>&#xd;
				intersect </a:s>
                        <a:s r="967">
                           <a:s>&quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		)</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="969" locator="412:2-420:3" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="965" locator="412:2-417:3" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="961" locator="412:2-414:2" xsi:type="Intersect">
                        <operand xsi:type="As">
                           <operand localId="959" locator="412:4-412:72" name="No VTE Prophylaxis Medication Due to Medical Reason During ED Visit" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="960" locator="413:14-413:78" name="No VTE Prophylaxis Device Due to Medical Reason During ED Visit" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="964" locator="415:9-417:3" xsi:type="Intersect">
                        <operand xsi:type="As">
                           <operand localId="962" locator="415:11-415:96" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Admission" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="963" locator="416:15-416:96" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Admission" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="968" locator="418:9-420:3" xsi:type="Intersect">
                  <operand localId="966" locator="418:11-418:96" name="No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
                  <operand localId="967" locator="419:15-419:96" name="No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
      <def localId="987" locator="453:1-456:131" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="987">
               <a:s>define &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;:&#xd;
	</a:s>
               <a:s r="986">
                  <a:s>
                     <a:s r="978">
                        <a:s r="977">
                           <a:s>( </a:s>
                           <a:s r="977">
                              <a:s r="975">
                                 <a:s>&quot;No VTE Prophylaxis Medication Administered or Ordered&quot;</a:s>
                              </a:s>
                              <a:s>&#xd;
		union </a:s>
                              <a:s r="976">
                                 <a:s>&quot;No VTE Prophylaxis Device Applied or Ordered&quot;</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> NoVTEProphylaxis</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="985">
                     <a:s>where </a:s>
                     <a:s r="985">
                        <a:s r="983">
                           <a:s r="982">
                              <a:s>GetExtension(</a:s>
                              <a:s r="980">
                                 <a:s r="979">
                                    <a:s>NoVTEProphylaxis</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="980">
                                    <a:s>extension</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="981">
                                 <a:s>'http://example.org/StructureDefinition/notDoneReason'</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="983">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="984">
                           <a:s>&quot;Patient Refusal&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="986" locator="454:2-456:131" xsi:type="Query">
            <source localId="978" locator="454:2-455:73" alias="NoVTEProphylaxis">
               <expression localId="977" locator="454:2-455:56" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="975" locator="454:4-454:58" name="No VTE Prophylaxis Medication Administered or Ordered" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand localId="976" locator="455:9-455:54" name="No VTE Prophylaxis Device Applied or Ordered" xsi:type="ExpressionRef"/>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationRequest" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           <choice name="fhir:MedicationAdministration" xsi:type="NamedTypeSpecifier"/>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </expression>
            </source>
            <where localId="985" locator="456:3-456:131" xsi:type="InValueSet">
               <code xsi:type="Case">
                  <caseItem>
                     <when isType="fhir:base64Binary" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="Tobase64Binary" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:base64Binary" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:code" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:code" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:id" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:id" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:markdown" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:markdown" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:oid" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:oid" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:string" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:string" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <caseItem>
                     <when isType="fhir:uri" xsi:type="Is">
                        <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                           <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                              <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                              <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                           </source>
                        </operand>
                     </when>
                     <then name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:uri" xsi:type="As">
                           <operand localId="983" locator="456:9-456:110" path="value" xsi:type="Property">
                              <source localId="982" locator="456:9-456:104" name="GetExtension" xsi:type="FunctionRef">
                                 <operand localId="980" locator="456:22-456:47" path="extension" scope="NoVTEProphylaxis" xsi:type="Property"/>
                                 <operand localId="981" locator="456:50-456:103" valueType="t:String" value="http://example.org/StructureDefinition/notDoneReason" xsi:type="Literal"/>
                              </source>
                           </operand>
                        </operand>
                     </then>
                  </caseItem>
                  <else resultTypeName="t:String" xsi:type="Null"/>
               </code>
               <valueset localId="984" locator="456:115-456:131" name="Patient Refusal"/>
            </where>
         </expression>
      </def>
      <def localId="1011" locator="423:1-430:28" name="No VTE Prophylaxis Due to Patient Refusal During ED Visit" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1011">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal During ED Visit&quot;:&#xd;
	</a:s>
               <a:s r="1010">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="972">
                        <a:s r="971">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="974">
                        <a:s r="973">
                           <a:s>
                              <a:s>&quot;ED Visit&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> EDVisit</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="989">
                        <a:s r="988">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1007">
                     <a:s>where </a:s>
                     <a:s r="1007">
                        <a:s r="996">
                           <a:s r="991">
                              <a:s r="990">
                                 <a:s>EDVisit</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="991">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="996">
                              <a:s>ends </a:s>
                              <a:s r="995">
                                 <a:s>1 hour</a:s>
                              </a:s>
                              <a:s> or less on or before</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="994">
                              <a:s>start of </a:s>
                              <a:s r="993">
                                 <a:s r="992">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="993">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="1006">
                           <a:s r="1003">
                              <a:s>Coalesce(</a:s>
                              <a:s r="998">
                                 <a:s r="997">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="998">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1000">
                                 <a:s r="999">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1000">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1002">
                                 <a:s r="1001">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1002">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="1006"> during </a:s>
                           <a:s r="1005">
                              <a:s r="1004">
                                 <a:s>EDVisit</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1005">
                                 <a:s>period</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1009">
                     <a:s>return </a:s>
                     <a:s r="1008">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1010" locator="424:2-430:28" xsi:type="Query">
            <source localId="972" locator="425:3-425:100" alias="QualifyingEncounter">
               <expression localId="971" locator="425:3-425:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="974" locator="426:3-426:20" alias="EDVisit">
               <expression localId="973" locator="426:3-426:12" name="ED Visit" xsi:type="ExpressionRef"/>
            </source>
            <source localId="989" locator="427:3-427:81" alias="PatientRefusal">
               <expression localId="988" locator="427:3-427:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1007" locator="428:3-429:117" xsi:type="And">
               <operand localId="996" locator="428:9-428:91" xsi:type="In">
                  <operand locator="428:24-428:27" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="991" locator="428:9-428:22" path="period" scope="EDVisit" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand locator="428:29-428:42" lowClosed="true" highClosed="true" xsi:type="Interval">
                     <low locator="428:57-428:91" xsi:type="Subtract">
                        <operand localId="994" locator="428:57-428:91" xsi:type="Start">
                           <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="993" locator="428:66-428:91" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                           </operand>
                        </operand>
                        <operand localId="995" locator="428:29-428:34" value="1" unit="hour" xsi:type="Quantity"/>
                     </low>
                     <high localId="994" locator="428:57-428:91" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="993" locator="428:66-428:91" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </high>
                  </operand>
               </operand>
               <operand localId="1006" locator="429:8-429:117" xsi:type="In">
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1003" locator="429:8-429:95" xsi:type="Coalesce">
                        <operand asType="fhir:dateTime" xsi:type="As">
                           <operand localId="998" locator="429:17-429:40" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                        </operand>
                        <operand localId="1000" locator="429:43-429:67" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                        <operand localId="1002" locator="429:70-429:94" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1005" locator="429:104-429:117" path="period" scope="EDVisit" xsi:type="Property"/>
                  </operand>
               </operand>
            </where>
            <return localId="1009" locator="430:3-430:28">
               <expression localId="1008" locator="430:10-430:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1033" locator="433:1-439:28" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1033">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission&quot;:&#xd;
	</a:s>
               <a:s r="1032">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="1013">
                        <a:s r="1012">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1015">
                        <a:s r="1014">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1029">
                     <a:s>where </a:s>
                     <a:s r="1029">
                        <a:s r="1023">
                           <a:s>Coalesce(</a:s>
                           <a:s r="1018">
                              <a:s>start of </a:s>
                              <a:s r="1017">
                                 <a:s r="1016">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1017">
                                    <a:s>effective</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="1020">
                              <a:s r="1019">
                                 <a:s>PatientRefusal</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1020">
                                 <a:s>authoredOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="1022">
                              <a:s r="1021">
                                 <a:s>PatientRefusal</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1022">
                                 <a:s>recordedOn</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s r="1029">&#xd;
      during </a:s>
                        <a:s r="1028">
                           <a:s r="1024">
                              <a:s>VTEICU</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1028">
                              <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                              <a:s r="1027">
                                 <a:s>start of </a:s>
                                 <a:s r="1026">
                                    <a:s r="1025">
                                       <a:s>QualifyingEncounter</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1026">
                                       <a:s>period</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1031">
                     <a:s>return </a:s>
                     <a:s r="1030">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1032" locator="434:2-439:28" xsi:type="Query">
            <source localId="1013" locator="435:3-435:100" alias="QualifyingEncounter">
               <expression localId="1012" locator="435:3-435:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="1015" locator="436:3-436:81" alias="PatientRefusal">
               <expression localId="1014" locator="436:3-436:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1029" locator="437:3-438:82" xsi:type="In">
               <operand localId="1023" locator="437:9-437:105" xsi:type="Coalesce">
                  <operand localId="1018" locator="437:18-437:50" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="1017" locator="437:27-437:50" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1020" locator="437:53-437:77" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                  </operand>
                  <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1022" locator="437:80-437:104" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                  </operand>
               </operand>
               <operand localId="1028" locator="438:14-438:82" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                  <operand localId="1027" locator="438:47-438:81" xsi:type="Start">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1026" locator="438:56-438:81" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1031" locator="439:3-439:28">
               <expression localId="1030" locator="439:10-439:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1065" locator="442:1-450:28" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1065">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;:&#xd;
	</a:s>
               <a:s r="1064">
                  <a:s>
                     <a:s>from&#xd;
		</a:s>
                     <a:s r="1035">
                        <a:s r="1034">
                           <a:s>
                              <a:s>&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> QualifyingEncounter</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1037">
                        <a:s r="1036">
                           <a:s r="1036">
                              <a:s>[&quot;Procedure&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;General or Neuraxial Anesthesia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> AnesthesiaProcedure</a:s>
                     </a:s>
                     <a:s>,&#xd;
		</a:s>
                     <a:s r="1039">
                        <a:s r="1038">
                           <a:s>
                              <a:s>&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PatientRefusal</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1061">
                     <a:s>where </a:s>
                     <a:s r="1061">
                        <a:s r="1046">
                           <a:s r="1041">
                              <a:s r="1040">
                                 <a:s>AnesthesiaProcedure</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1041">
                                 <a:s>performed</a:s>
                              </a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="1046">
                              <a:s>ends </a:s>
                              <a:s r="1045">
                                 <a:s>1 day</a:s>
                              </a:s>
                              <a:s> after day of</a:s>
                           </a:s>
                           <a:s> </a:s>
                           <a:s r="1044">
                              <a:s>start of </a:s>
                              <a:s r="1043">
                                 <a:s r="1042">
                                    <a:s>QualifyingEncounter</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1043">
                                    <a:s>period</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
			and </a:s>
                        <a:s r="1060">
                           <a:s r="1054">
                              <a:s>Coalesce(</a:s>
                              <a:s r="1049">
                                 <a:s>start of </a:s>
                                 <a:s r="1048">
                                    <a:s r="1047">
                                       <a:s>PatientRefusal</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1048">
                                       <a:s>effective</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1051">
                                 <a:s r="1050">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1051">
                                    <a:s>authoredOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="1053">
                                 <a:s r="1052">
                                    <a:s>PatientRefusal</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1053">
                                    <a:s>recordedOn</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="1060">&#xd;
        during </a:s>
                           <a:s r="1059">
                              <a:s r="1055">
                                 <a:s>VTEICU</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1059">
                                 <a:s>&quot;CalendarDayOfOrDayAfter&quot;(</a:s>
                                 <a:s r="1058">
                                    <a:s>end of </a:s>
                                    <a:s r="1057">
                                       <a:s r="1056">
                                          <a:s>AnesthesiaProcedure</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1057">
                                          <a:s>performed</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		</a:s>
                  <a:s r="1063">
                     <a:s>return </a:s>
                     <a:s r="1062">
                        <a:s>QualifyingEncounter</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1064" locator="443:2-450:28" xsi:type="Query">
            <source localId="1035" locator="444:3-444:100" alias="QualifyingEncounter">
               <expression localId="1034" locator="444:3-444:80" name="Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions" xsi:type="ExpressionRef"/>
            </source>
            <source localId="1037" locator="445:3-445:70" alias="AnesthesiaProcedure">
               <expression localId="1036" locator="445:3-445:50" dataType="fhir:Procedure" codeProperty="code" xsi:type="Retrieve">
                  <codes name="General or Neuraxial Anesthesia" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <source localId="1039" locator="446:3-446:81" alias="PatientRefusal">
               <expression localId="1038" locator="446:3-446:66" name="No VTE Prophylaxis Medication or Device Due to Patient Refusal" xsi:type="ExpressionRef"/>
            </source>
            <where localId="1061" locator="447:3-449:85" xsi:type="And">
               <operand localId="1046" locator="447:9-447:97" precision="Day" xsi:type="SameAs">
                  <operand locator="447:39-447:42" xsi:type="End">
                     <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand asType="fhir:Period" xsi:type="As">
                           <operand localId="1041" locator="447:9-447:37" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand locator="447:63-447:97" xsi:type="Add">
                     <operand localId="1044" locator="447:63-447:97" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1043" locator="447:72-447:97" path="period" scope="QualifyingEncounter" xsi:type="Property"/>
                        </operand>
                     </operand>
                     <operand localId="1045" locator="447:44-447:48" value="1" unit="day" xsi:type="Quantity"/>
                  </operand>
               </operand>
               <operand localId="1060" locator="448:8-449:85" xsi:type="In">
                  <operand localId="1054" locator="448:8-448:104" xsi:type="Coalesce">
                     <operand localId="1049" locator="448:17-448:49" xsi:type="Start">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="1048" locator="448:26-448:49" path="effective" scope="PatientRefusal" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1051" locator="448:52-448:76" path="authoredOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                     <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1053" locator="448:79-448:103" path="recordedOn" scope="PatientRefusal" xsi:type="Property"/>
                     </operand>
                  </operand>
                  <operand localId="1059" locator="449:16-449:85" name="CalendarDayOfOrDayAfter" libraryName="VTEICU" xsi:type="FunctionRef">
                     <operand localId="1058" locator="449:49-449:84" xsi:type="End">
                        <operand name="ToInterval" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:Period" xsi:type="As">
                              <operand localId="1057" locator="449:56-449:84" path="performed" scope="AnesthesiaProcedure" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1063" locator="450:3-450:28">
               <expression localId="1062" locator="450:10-450:28" name="QualifyingEncounter" xsi:type="AliasRef"/>
            </return>
         </expression>
      </def>
      <def localId="1071" locator="459:1-462:84" name="No VTE Prophylaxis Due to Patient Refusal" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1071">
               <a:s>define &quot;No VTE Prophylaxis Due to Patient Refusal&quot;:&#xd;
	</a:s>
               <a:s r="1070">
                  <a:s r="1068">
                     <a:s r="1066">
                        <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal During ED Visit&quot;</a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="1067">
                        <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="1069">
                     <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1070" locator="460:2-462:84" xsi:type="Union">
            <operand localId="1068" locator="460:2-461:84" xsi:type="Union">
               <operand localId="1066" locator="460:2-460:60" name="No VTE Prophylaxis Due to Patient Refusal During ED Visit" xsi:type="ExpressionRef"/>
               <operand localId="1067" locator="461:9-461:84" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Admission" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="1069" locator="462:9-462:84" name="No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="1085" locator="465:1-474:51" name="Numerator" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1085">
               <a:s>define &quot;Numerator&quot;:&#xd;
	</a:s>
               <a:s r="1084">
                  <a:s r="1082">
                     <a:s r="1080">
                        <a:s r="1078">
                           <a:s r="1072">
                              <a:s>&quot;VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;</a:s>
                           </a:s>
                           <a:s>&#xd;
		union </a:s>
                           <a:s r="1077">
                              <a:s>( </a:s>
                              <a:s r="1077">
                                 <a:s r="1073">
                                    <a:s>&quot;Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;</a:s>
                                 </a:s>
                                 <a:s>&#xd;
				intersect </a:s>
                                 <a:s r="1076">
                                    <a:s>( </a:s>
                                    <a:s r="1076">
                                       <a:s r="1074">
                                          <a:s>&quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;</a:s>
                                       </a:s>
                                       <a:s>&#xd;
						union </a:s>
                                       <a:s r="1075">
                                          <a:s>&quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>&#xd;
				)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>&#xd;
		)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>&#xd;
		union </a:s>
                        <a:s r="1079">
                           <a:s>&quot;Low Risk for VTE or Anticoagulant Administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>&#xd;
		union </a:s>
                     <a:s r="1081">
                        <a:s>&quot;No VTE Prophylaxis Due to Medical Reason&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>&#xd;
		union </a:s>
                  <a:s r="1083">
                     <a:s>&quot;No VTE Prophylaxis Due to Patient Refusal&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1084" locator="466:2-474:51" xsi:type="Union">
            <operand xsi:type="As">
               <operand localId="1082" locator="466:2-473:50" xsi:type="Union">
                  <operand xsi:type="As">
                     <operand localId="1078" locator="466:2-471:3" xsi:type="Union">
                        <operand localId="1072" locator="466:2-466:73" name="VTE Prophylaxis Received on Day of or Day After Admission or Procedure" xsi:type="ExpressionRef"/>
                        <operand localId="1077" locator="467:9-471:3" xsi:type="Intersect">
                           <operand localId="1073" locator="467:11-467:106" name="Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure" xsi:type="ExpressionRef"/>
                           <operand localId="1076" locator="468:15-470:5" xsi:type="Union">
                              <operand localId="1074" locator="468:17-468:89" name="Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE" xsi:type="ExpressionRef"/>
                              <operand localId="1075" locator="469:13-469:90" name="Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
                  <operand xsi:type="As">
                     <operand xsi:type="Union">
                        <operand xsi:type="As">
                           <operand localId="1079" locator="472:9-472:56" name="Low Risk for VTE or Anticoagulant Administered" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                        <operand xsi:type="As">
                           <operand localId="1081" locator="473:9-473:50" name="No VTE Prophylaxis Due to Medical Reason" xsi:type="ExpressionRef"/>
                           <asTypeSpecifier xsi:type="ListTypeSpecifier">
                              <elementType xsi:type="ChoiceTypeSpecifier">
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="EDVisit">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                                 <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                 <choice xsi:type="TupleTypeSpecifier">
                                    <element name="QualifyingEncounter">
                                       <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                                    </element>
                                    <element name="NoVTEDevice">
                                       <type xsi:type="ChoiceTypeSpecifier">
                                          <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                          <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                       </type>
                                    </element>
                                 </choice>
                              </elementType>
                           </asTypeSpecifier>
                        </operand>
                     </operand>
                     <asTypeSpecifier xsi:type="ListTypeSpecifier">
                        <elementType xsi:type="ChoiceTypeSpecifier">
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="EDVisit">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                           <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                           <choice xsi:type="TupleTypeSpecifier">
                              <element name="QualifyingEncounter">
                                 <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                              </element>
                              <element name="NoVTEDevice">
                                 <type xsi:type="ChoiceTypeSpecifier">
                                    <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                                    <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                                 </type>
                              </element>
                           </choice>
                        </elementType>
                     </asTypeSpecifier>
                  </operand>
               </operand>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
            <operand xsi:type="As">
               <operand localId="1083" locator="474:9-474:51" name="No VTE Prophylaxis Due to Patient Refusal" xsi:type="ExpressionRef"/>
               <asTypeSpecifier xsi:type="ListTypeSpecifier">
                  <elementType xsi:type="ChoiceTypeSpecifier">
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="EDVisit">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                     <choice name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                     <choice xsi:type="TupleTypeSpecifier">
                        <element name="QualifyingEncounter">
                           <type name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
                        </element>
                        <element name="NoVTEDevice">
                           <type xsi:type="ChoiceTypeSpecifier">
                              <choice name="fhir:DeviceRequest" xsi:type="NamedTypeSpecifier"/>
                              <choice name="fhir:DeviceUseStatement" xsi:type="NamedTypeSpecifier"/>
                           </type>
                        </element>
                     </choice>
                  </elementType>
               </asTypeSpecifier>
            </operand>
         </expression>
      </def>
   </statements>
</library>


